# 文章管理系统使用说明

## 系统概述

文章管理系统是一个用于管理网站文章的后台工具，支持添加、编辑、删除和导出文章数据。

## 访问方式

1. 在浏览器中打开 `admin.html` 文件
2. 输入管理员密码：`admin123`
3. 点击"登录"按钮进入管理界面

## 功能模块

### 1. 文章列表

- 显示所有已添加的文章
- 支持按标题搜索文章
- 支持编辑和删除文章

### 2. 添加文章

- 填写文章标题、摘要、内容等信息
- 选择文章分类
- 设置发布日期和初始点赞数
- 点击"保存文章"按钮保存

### 3. 导入导出

- **导入文章**：选择JSON文件，点击"导入"按钮导入文章数据
- **导出文章**：点击"导出为JSON文件"按钮，将当前文章数据导出为JSON文件

## 文章分类

- **基础理论**：命学基础知识类文章
- **名人观点**：名人关于命理的论述
- **花果论心法**：关于花果论心法的文章
- **命理随笔**：命理相关的随笔文章

## 测试脚本使用说明

### 1. 测试脚本概述

`test_admin.js` 是一个用于测试文章管理系统功能的自动化脚本，支持测试以下功能：
- 登录功能
- 加载文章列表
- 添加文章
- 编辑文章
- 删除文章
- 导出文章数据

### 2. 使用方法

#### 方法一：直接在浏览器控制台运行

1. 在浏览器中打开 `admin.html` 文件
2. 按 `F12` 或 `Ctrl+Shift+I` 打开开发者工具
3. 切换到"控制台"（Console）选项卡
4. 将 `test_admin.js` 文件的内容复制到控制台中
5. 按 `Enter` 键执行脚本

#### 方法二：在HTML中引入脚本

1. 在 `admin.html` 文件的 `</body>` 标签前添加以下代码：
   ```html
   <script src="test_admin.js"></script>
   ```
2. 在浏览器中打开 `admin.html` 文件
3. 脚本会自动执行

### 3. 测试结果

脚本执行完成后，会在控制台输出测试结果，包括：
- 每个测试用例的执行结果（成功/失败/警告）
- 测试总结

### 4. 测试注意事项

1. **删除文章测试**：脚本默认不会执行实际的删除操作，因为删除操作需要手动确认
2. **导出文章测试**：执行导出测试时，会自动下载JSON文件
3. **测试数据**：脚本会添加一篇测试文章，测试完成后可以手动删除
4. **测试顺序**：脚本按照固定顺序执行测试用例，确保测试的连贯性

## 数据结构

### 文章数据格式

每篇文章包含以下字段：

| 字段名 | 类型 | 描述 |
| --- | --- | --- |
| id | 数字 | 文章唯一ID |
| title | 字符串 | 文章标题 |
| excerpt | 字符串 | 文章摘要 |
| date | 字符串 | 发布日期（格式：YYYY-MM-DD） |
| likes | 数字 | 点赞数 |
| content | 字符串 | 文章内容 |

### JSON文件格式

文章数据以JSON格式存储，结构如下：

```json
{
  "basic-theory": [
    {
      "id": 1,
      "title": "文章标题",
      "excerpt": "文章摘要",
      "date": "2024-01-01",
      "likes": 0,
      "content": "文章内容"
    }
  ],
  "celebrity-views": [],
  "flower-fruit-method": [],
  "essays": []
}
```

## 安全建议

1. **修改默认密码**：在 `admin.html` 文件中修改 `ADMIN_PASSWORD` 常量的值
2. **定期备份数据**：定期导出文章数据，保存备份
3. **限制访问权限**：将 `admin.html` 文件放置在受保护的目录中
4. **使用HTTPS**：如果在生产环境中使用，建议启用HTTPS

## 常见问题

### Q: 登录失败怎么办？
A: 请检查输入的密码是否正确，默认密码是 `admin123`

### Q: 文章保存失败怎么办？
A: 请检查是否填写了所有必填字段，包括标题、摘要、内容等

### Q: 导入文章失败怎么办？
A: 请检查JSON文件格式是否正确，确保符合系统要求的数据结构

### Q: 导出的JSON文件在哪里？
A: 导出的JSON文件会自动下载到浏览器的默认下载目录中

## 技术支持

如果遇到问题，可以：
1. 检查浏览器控制台是否有错误信息
2. 查看脚本的测试结果
3. 检查文章数据的JSON格式
4. 重新加载页面重试

---

**版本**: 1.0.0  
**更新日期**: 2025-12-19
