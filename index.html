<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="preconnect" href="//cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <meta name="baidu-site-verification" content="codeva-foKWrwyBZw" />
    <meta name="description" content="姝ｇ紭鏂逛綅缃戜笓娉ㄦ彁渚涘叓瀛楀悎濠氭柟浣嶆祴绠椼€佹缂樻柟浣嶆煡璇€佹儏渚ｉ厤瀵规寚鏁版祴璇曞強濠氬Щ鍚夎繍骞翠唤棰勬祴鏈嶅姟锛屼緷鎵樹紶缁熷叓瀛楀懡鐞嗕綋绯伙紝绮惧噯瑙ｆ瀽鎯呮劅纾佸満鏂逛綅銆佹亱浜哄鍚堝害涓庢缂樻祦骞磋繍鍔裤€?>
    <meta name="keywords" content="姝ｇ紭鏂逛綅缃?鍏瓧鍚堝鏂逛綅娴嬬畻,姝ｇ紭鏂逛綅鏌ヨ,鎯呬荆閰嶅鎸囨暟娴嬭瘯,濠氬Щ鍚夎繍骞翠唤棰勬祴,鍏瓧鍛界悊,鎯呮劅纾佸満鏂逛綅,鎭嬩汉濂戝悎搴?姝ｇ紭娴佸勾杩愬娍">
    <meta name="author" content="鍛界悊鎰熸儏鏌ヨ宸ュ叿">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.fatenet.cn">
    

    <meta property="og:title" content="姝ｇ紭鏂逛綅缃慱鍏瓧鍚堝鏂逛綅娴嬬畻_姝ｇ紭鏂逛綅鏌ヨ">
    <meta property="og:description" content="姝ｇ紭鏂逛綅缃戜笓娉ㄦ彁渚涘叓瀛楀悎濠氭柟浣嶆祴绠椼€佹缂樻柟浣嶆煡璇€佹儏渚ｉ厤瀵规寚鏁版祴璇曞強濠氬Щ鍚夎繍骞翠唤棰勬祴鏈嶅姟锛屼緷鎵樹紶缁熷叓瀛楀懡鐞嗕綋绯伙紝绮惧噯瑙ｆ瀽鎯呮劅纾佸満鏂逛綅銆佹亱浜哄鍚堝害涓庢缂樻祦骞磋繍鍔裤€?>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.fatenet.cn">
    <meta property="og:image" content="taiji-logo.png">
    <meta property="og:site_name" content="姝ｇ紭鏂逛綅缃?>
    
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="姝ｇ紭鏂逛綅缃慱鍏瓧鍚堝鏂逛綅娴嬬畻_姝ｇ紭鏂逛綅鏌ヨ">
    <meta name="twitter:description" content="姝ｇ紭鏂逛綅缃戜笓娉ㄦ彁渚涘叓瀛楀悎濠氭柟浣嶆祴绠椼€佹缂樻柟浣嶆煡璇€佹儏渚ｉ厤瀵规寚鏁版祴璇曞強濠氬Щ鍚夎繍骞翠唤棰勬祴鏈嶅姟锛屼緷鎵樹紶缁熷叓瀛楀懡鐞嗕綋绯伙紝绮惧噯瑙ｆ瀽鎯呮劅纾佸満鏂逛綅銆佹亱浜哄鍚堝害涓庢缂樻祦骞磋繍鍔裤€?>
    <meta name="twitter:image" content="taiji-logo.png">
    
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"姝ｇ紭鏂逛綅缃?,"alternateName":"fatenet.cn鍛界悊鎰熸儏鏌ヨ宸ュ叿","url":"https://www.fatenet.cn","logo":{"@type":"ImageObject","url":"taiji-logo.png","width":120,"height":120},"description":"姝ｇ紭鏂逛綅缃戜笓娉ㄦ彁渚涘叓瀛楀悎濠氭柟浣嶆祴绠椼€佹缂樻柟浣嶆煡璇€佹儏渚ｉ厤瀵规寚鏁版祴璇曞強濠氬Щ鍚夎繍骞翠唤棰勬祴鏈嶅姟","publisher":{"@type":"Organization","name":"姝ｇ紭鏂逛綅缃?,"logo":{"@type":"ImageObject","url":"taiji-logo.png","width":120,"height":120}},"potentialAction":{"@type":"SearchAction","target":"https://www.fatenet.cn/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Tool","name":"鍏瓧鎰熸儏鏂逛綅鏌ヨ宸ュ叿","description":"fatenet.cn鎻愪緵鐨勪笓涓氬叓瀛楁劅鎯呮柟浣嶆煡璇㈠伐鍏凤紝甯姪鐢ㄦ埛浜嗚В鑷繁鐨勬劅鎯呮柟浣嶃€?,"url":"https://www.fatenet.cn","logo":"taiji-logo.png","operatingSystem":"all","applicationCategory":"LifestyleApplication","offers":{"@type":"Offer","price":"0","priceCurrency":"CNY"}}</script>
    
    <title>姝ｇ紭鏂逛綅缃慱鍏瓧鍚堝鏂逛綅娴嬬畻_姝ｇ紭鏂逛綅鏌ヨ_鎯呬荆閰嶅鎸囨暟娴嬭瘯</title>
    <!-- Favicon 閰嶇疆 -->
    <link rel="icon" type="image/png" href="taiji-logo.png" sizes="32x32">
    <link rel="icon" type="image/png" href="taiji-logo.png" sizes="16x16">
    <link rel="shortcut icon" href="taiji-logo.png" type="image/png">
    <link rel="apple-touch-icon" href="taiji-logo.png" sizes="180x180">
    <link rel="apple-touch-icon-precomposed" href="taiji-logo.png" sizes="180x180">
    <meta name="msapplication-TileImage" content="taiji-logo.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <script src="https://cdn.tailwindcss.com" defer></script>
        <!-- 缃戠珯鍔犺浇浼樺寲鑴氭湰 -->
        <script src="optimize_loading.js" defer></script>
        <!-- 鏂囩珷鍔犺浇鑴氭湰 -->
        <script src="articles.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 寮曞叆涓浗椋庡瓧浣?-->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet" crossorigin media="print" onload="this.media='all'">
    <style>
        /* 鐧借壊鏋佺畝璁捐椋庢牸 */
        /* 鍩虹鍙橀噺 */
        :root {
            --primary-color: #ffffff;
            --secondary-color: #f8f9fa;
            --accent-color: #333333;
            --gold-accent: #c8a952;
            --text-color: #333333;
            --light-text: #666666;
            --border-color: #e0e0e0;
            --bg-color: #ffffff;
            --card-bg: #ffffff;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --error-color: #f44336;
            --shadow-light: 0 2px 4px rgba(0, 0, 0, 0.05);
            --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.08);
        }
        

        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;

            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        

        html::-webkit-scrollbar,
        body::-webkit-scrollbar {
            display: none !important;
            width: 0 !important;
            height: 0 !important;
        }
        

        @supports not (scrollbar-gutter: stable) {
            body {
                padding-right: calc(100vw - 100%);
            }
        }
        
        /* 纭繚瀹瑰櫒鍜屼富鍐呭鍖哄煙姝ｇ‘鎵╁睍 */
        main {
            flex: 1;
        }
        
        /* 娣″叆鍔ㄧ敾 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        /* 鍖归厤缁撴灉鏍峰紡澧炲己 */
        #match-score h3 {
            text-align: center;
            margin-bottom: 1rem;
        }
        #match-score p {
            line-height: 1.6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Serif SC', 'Ma Shan Zheng', 'ZCOOL XiaoWei', 'PingFang SC', 'Microsoft YaHei', serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--bg-color);
            min-height: 100vh;
        }
        
        /* 鎺掔増鏍峰紡 */
        h1, h2, h3, h4, h5, h6 {
            margin-bottom: 1rem;
            font-weight: 600;
            line-height: 1.3;
            letter-spacing: -0.025em;
        }
        
        h1 {
            font-size: 1.25rem !important;
            color: var(--text-color) !important;
            text-align: center !important;
            font-weight: 700 !important;
            font-family: 'Noto Serif SC', 'Ma Shan Zheng', 'ZCOOL XiaoWei', 'STZhongsong', 'SimSun', serif !important;
        }
        
        h2 {
            font-size: 1.75rem;
            color: var(--text-color);
            text-align: left;
        }
        
        h3 {
            font-size: 1.25rem;
            color: var(--text-color);
        }
        
        p {
            margin-bottom: 1rem;
            color: var(--light-text);
        }
        
        /* 瀹瑰櫒鏍峰紡 */
        .container {
            max-width: 900px !important;
            margin: 0 auto !important;
            padding: 2rem 1.5rem !important;
            width: 100% !important;
            box-sizing: border-box !important;
            position: relative !important;
            display: block !important;
            clear: both !important;
        }
        
        /* 鍙Щ鍔ㄤ粙缁嶆枃鏈拰涓嬫柟鍐呭锛屼繚鎸佹爣棰樹綅缃笉鍙?*/
        .page-header {
            margin-bottom: 3rem;
        }
        
        /* 椤甸潰鍨傜洿灞呬腑瀹瑰櫒 */
        .page-content {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* 鎸夐挳鏍峰紡 */
        .btn-primary, .btn-secondary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: var(--accent-color);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .btn-primary:hover {
            background-color: #444444;
            box-shadow: var(--shadow-medium);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--accent-color);
            border: 1px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background-color: var(--secondary-color);
            box-shadow: var(--shadow-light);
        }
        
        /* 鏍囩椤垫牱寮?*/
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            padding-bottom: 0;
            width: 100%;
        }
        
        .tab-btn {
            padding: 0.75rem 1.25rem;
            background: transparent;
            border: none;
            color: var(--light-text);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            position: relative;
            transition: all 0.3s ease;
            min-width: auto;
            text-align: center;
            height: 48px;
            box-sizing: border-box;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }
        
        .tab-btn.active {
            color: var(--text-color);
            font-weight: 500;
            background-color: transparent;
        }
        
        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--accent-color);
            border-radius: 8px 8px 0 0;
        }
        
        .tab-btn:hover:not(.active) {
            color: var(--text-color);
        }
        
        /* 鏍囩椤靛唴瀹规牱寮?*/
        .tab-content {
            display: none;
            height: auto;
            min-height: 500px;
            overflow-y: visible;
            /* 纭繚涓嶆樉绀烘粴鍔ㄦ潯 */
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .tab-content::-webkit-scrollbar {
            display: none !important;
            width: 0 !important;
            height: 0 !important;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }
        
        /* 鍗＄墖鏍峰紡 */
        .card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: var(--shadow-light);
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            transition: box-shadow 0.3s ease;
        }
        
        .card:hover {
            box-shadow: var(--shadow-medium);
        }
        
        /* 琛ㄥ崟鏍峰紡 */
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        /* 琛ㄥ崟琛屽竷灞€ */
        .form-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 500;
            color: var(--text-color);
            font-size: 0.9rem;
        }
        
        /* 淇濇寔鍏朵粬杈撳叆鍏冪礌鐨勫師濮嬫牱寮?*/
        input[type="text"],
        input[type="number"],
        input[type="date"],
        input[type="email"],
        input[type="password"] {
            width: 100%;
            padding: 0.75rem 1rem;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="date"]:focus,
        input[type="email"]:focus,
        input[type="password"]:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.05);
        }
        
        /* 浜旇鍜屽ぉ骞插湴鏀笅鎷夎彍鍗曟牱寮?- 涓庤瑷€閫夋嫨鑿滃崟椋庢牸涓€鑷?*/
        /* 浣跨敤!important纭繚鏍峰紡浼樺厛绾ч珮浜嶵ailwind CSS */
        .form-select,
        select {
            width: 100% !important;
            padding: 0.75rem 1rem !important;
            background-color: white !important;
            border: 1px solid #d1d5db !important;
            border-radius: 6px !important;
            color: #374151 !important;
            font-size: 1rem !important;
            font-weight: 500 !important;
            font-family: inherit !important;
            transition: all 0.2s ease !important;
            box-shadow: none !important;
            position: relative !important;
            appearance: none !important;
            cursor: pointer !important;
            /* 纭繚涓嬫媺绠ご姝ｇ‘鏄剧ず */
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e") !important;
            background-position: right 0.5rem center !important;
            background-repeat: no-repeat !important;
            background-size: 1.25em 1.25em !important;
            padding-right: 2.5rem !important;
        }
        
        .form-select:focus,
        select:focus {
            outline: none !important;
            border-color: #3b82f6 !important;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2) !important;
        }
        
        .form-select:hover,
        select:hover {
            background-color: #f9fafb !important;
            border-color: #93c5fd !important;
        }
        
        /* 閲嶇疆select鍏冪礌鐨勯粯璁ゆ牱寮?*/
        select {
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            appearance: none !important;
        }
        
        /* 鑷畾涔変笅鎷夎彍鍗曟牱寮?*/
        select::-webkit-scrollbar {
            width: 8px !important;
        }
        
        select::-webkit-scrollbar-track {
            background: #f1f5f9 !important;
            border-radius: 4px !important;
        }
        
        select::-webkit-scrollbar-thumb {
            background: #cbd5e1 !important;
            border-radius: 4px !important;
        }
        
        select::-webkit-scrollbar-thumb:hover {
            background: #94a3b8 !important;
        }
        
        /* 閫夐」鏍峰紡 */
        select option {
            background-color: white !important;
            color: #1f2937 !important;
            padding: 10px 12px !important;
            font-size: 14px !important;
            line-height: 1.4 !important;
            border: none !important;
        }
        
        select option:hover {
            background-color: #f3f4f6 !important;
        }
        
        select option:checked {
            background-color: #dbeafe !important;
            color: #2563eb !important;
            font-weight: 500 !important;
        }
        
        /* 纭繚閫夐」鍒楄〃鏈夎冻澶熺殑楂樺害 */
        select {
            max-height: 300px !important;
        }
        
        /* 鍗曢€夋寜閽牱寮?*/
        input[type="radio"] {
            width: 16px;
            height: 16px;
            margin-right: 0.5rem;
            cursor: pointer;
            accent-color: var(--accent-color);
        }
        
        /* 缁撴灉灞曠ず鏍峰紡 */
        .result-section {
            background-color: var(--secondary-color);
            border-radius: 8px;
            padding: 2rem;
            padding-bottom: 4rem; /* 澧炲姞搴曢儴鍐呰竟璺濓紝閬垮厤琚〉鑴氶伄鎸?*/
            margin-top: 2rem;
            margin-bottom: 3rem; /* 澧炲姞搴曢儴澶栬竟璺濓紝纭繚涓庨〉鑴氭湁瓒冲璺濈 */
            border: 1px solid var(--border-color);
            position: relative;
            z-index: 100; /* 纭繚缁撴灉鍖哄煙鍦ㄩ〉闈笂灞?*/
        }
        
        .result-highlight {
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 3px solid var(--accent-color);
            background-color: var(--primary-color);
        }
        
        .result-highlight h4 {
            color: var(--text-color);
            margin-bottom: 0.75rem;
            font-size: 1.25rem;
        }
        
        .info-box {
            background-color: var(--primary-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.25rem;
            margin-top: 1.5rem;
        }
        
        .info-box h4 {
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }
        
        .info-box p {
            color: var(--light-text);
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        /* 鍔犺浇鍔ㄧ敾 */
        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem 1rem;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 2px solid var(--border-color);
            border-top: 2px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: var(--light-text);
            font-size: 0.95rem;
        }
        
        /* 鎬у埆閫夋嫨鏍峰紡 */
        .gender-selector {
            display: flex;
            gap: 2rem;
            justify-content: center; /* 姘村钩灞呬腑 */
            align-items: center; /* 鍨傜洿灞呬腑 */
            margin-bottom: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .gender-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 1rem;
            border-radius: 8px;
            position: relative;
            width: 120px;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
        }
        
        .gender-option:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-small);
        }
        
        .gender-option span {
            color: var(--text-color);
            font-weight: 500;
            margin-top: 0.5rem;
            transition: all 0.3s ease;
        }
        
        /* 澶村儚瀹瑰櫒鏍峰紡 */
        .avatar-container {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background-color: var(--bg-color);
        }
        
        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* 闅愯棌鍗曢€夋寜閽?*/
        .gender-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }
        
        /* 閫変腑鐘舵€?- 瀹炵幇閫変腑澶村儚鐣ュぇ銆佸姞娴呰儗鏅拰閫変腑杈规 */
        .gender-option input[type="radio"]:checked + .avatar-container {
            width: 85px;
            height: 85px;
            background-color: rgba(255, 140, 0, 0.1); /* 娴呮鑹茶儗鏅?*/
            border: 3px solid var(--accent-color); /* 閫変腑杈规 */
        }
        
        .gender-option input[type="radio"]:checked ~ span {
            color: var(--accent-color);
            font-weight: 600;
        }
        
        /* 閫変腑鐘舵€佺殑鏁翠綋鏍峰紡 */
        .gender-option input[type="radio"]:checked {
            background-color: rgba(255, 140, 0, 0.05);
        }
        
        /* 閫氳繃JavaScript娣诲姞閫変腑鏍峰紡锛岃€屼笉鏄娇鐢?has()閫夋嫨鍣?*/
        
        /* 闅愯棌鍏冪礌 */
        .hidden {
            display: none !important;
        }
        
        /* 閿欒杈撳叆妗嗘牱寮?*/
        .error-input {
            border: 2px solid #ff0000 !important;
            background-color: #fff0f0 !important;
        }
        
        /* 閿欒鏌卞瓙瀹瑰櫒鏍峰紡 */
        .error-pillar {
            border: 2px solid #ff0000;
            background-color: #fff0f0;
            border-radius: 4px;
            padding: 5px;
        }
        
        /* 鍝嶅簲寮忚璁?*/
        /* 鍝嶅簲寮忚璁?- 绉诲姩绔紭鍖?*/
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .card,
            .result-section {
                padding: 1.5rem;
            }
            
            .btn-primary,
            .btn-secondary {
                width: 100%;
                margin-bottom: 0.75rem;
            }
            
            .gender-selector {
                flex-direction: column;
                gap: 1rem;
                justify-content: center; /* 姘村钩灞呬腑 */
                align-items: center; /* 鍨傜洿灞呬腑 */
                width: 100%; /* 纭繚鍗犳弧瀹瑰櫒瀹藉害 */
            }
            
            /* 纭繚鎬у埆閫夋嫨鍣ㄧ殑鐖跺鍣ㄤ篃鏀寔灞呬腑 */
            .form-group:has(.gender-selector) {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 100%;
            }
            
            .tabs {
                flex-direction: column;
                gap: 0.5rem;
                padding: 8px;
                overflow-x: auto;
            }
            
            .tab-btn {
                text-align: center;
                width: 100%;
                min-width: auto;
                padding: 0.8rem 1rem;
                font-size: 0.95rem;
            }
        }
        
        /* 闈㈠寘灞戝鑸牱寮?*/
        .breadcrumb {
            text-align: center;
            margin: 1rem 0;
            font-size: 0.85rem;
            color: var(--light-text);
        }
        
        .breadcrumb a {
            color: var(--light-text);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .breadcrumb a:hover {
            color: var(--accent-color);
        }
        
        .breadcrumb span {
            margin: 0 0.5rem;
            color: var(--border-color);
        }
        
        /* 椤甸潰澶撮儴鏍峰紡 */
        .page-header {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem 0;
            text-align: center;
            margin-bottom: 0.5rem;
            position: relative;
        }
        
        .page-header h1 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            color: #333;
            font-family: 'Noto Serif SC', 'Ma Shan Zheng', 'ZCOOL QingKe HuangYou', 'SimSun', serif;
            white-space: nowrap;
        }
        
        .page-header p {
            color: var(--light-text);
            font-size: 0.9rem;
            max-width: 900px;
            margin: 30px auto 1rem;
            padding: 1rem;
            background-color: #f5f5f5;
            border-radius: 8px;
            box-sizing: border-box;
        }
        
        /* 绉婚櫎鏍囬涓嬫柟绾挎 */
        .page-header::after {
            content: none;
        }
        
        /* 缃戞牸甯冨眬 */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        /* 鍝嶅簲寮忚璁?- 骞虫澘鍙婁互涓婁紭鍖?*/
        @media (min-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* 闂磋窛宸ュ叿绫?*/
        .mt-4 { margin-top: 1.5rem; }
        .mb-4 { margin-bottom: 1.5rem; }
        .gap-4 { gap: 1rem; }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        /* 纭繚header鏄潡绾у厓绱狅紝璁╀粙缁嶆枃鏈樉绀哄湪涓嬫柟 */
        .page-header {
            display: block;
            text-align: center;
        }
        
        .header-logo {
            height: 48px;
            width: 48px;
            object-fit: contain;
            display: block;
            transform: none;
        }
        
        /* h1鏍峰紡 - 纭繚鏍囬鏍峰紡姝ｇ‘ */
        h1 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            color: #333;
            font-family: 'Noto Serif SC', 'Ma Shan Zheng', 'ZCOOL QingKe HuangYou', 'SimSun', serif;
            white-space: nowrap;
        }
        
        /* 鍔ㄧ敾 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* 椤佃剼鏍峰紡 */
        footer {
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
            border-top: 1px solid var(--border-color);
            color: var(--light-text);
            font-size: 0.9rem;
        }
        
        footer p {
            margin-bottom: 0.5rem;
        }
        
        footer p:last-child {
            margin-bottom: 0;
        }
        
        /* 鏂囩珷鏉垮潡鏍峰紡 */
        .articles-section {
            margin-top: 4rem;
        }
        
        .section-title {
            font-size: 1.75rem;
            color: var(--text-color);
            text-align: center;
            margin-bottom: 3rem;
            font-weight: 700;
        }
        
        .article-category {
            margin-bottom: 4rem;
        }
        
        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }
        
        .category-title {
            font-size: 1.5rem;
            color: var(--text-color);
            margin: 0;
        }
        
        .view-more-btn {
            font-size: 0.9rem;
            color: var(--text-color);
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            transition: color 0.3s ease;
            outline: none;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }
        
        .view-more-btn:hover {
            color: var(--primary-color);
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .view-more-btn:active {
            transform: none;
            box-shadow: none;
        }
        
        .view-more-btn:focus {
            outline: none;
            box-shadow: none;
        }
        
        /* 鐎戝竷娴佸竷灞€鏍峰紡 */
        .masonry-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* 鏂囩珷鍗＄墖鏍峰紡 */
        .article-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: var(--shadow-light);
            padding: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .article-card:hover {
            box-shadow: var(--shadow-medium);
            transform: translateY(-2px);
        }
        
        .article-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        
        .article-excerpt {
            color: var(--light-text);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }
        
        .article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.875rem;
            color: var(--light-text);
            border-top: 1px solid var(--border-color);
            padding-top: 1rem;
        }
        
        .article-date {
            display: flex;
            align-items: center;
        }
        
        .article-date i {
            margin-right: 0.5rem;
        }
        
        /* 鏂囩珷浜や簰鎸夐挳鏍峰紡 */
        .article-actions {
            display: flex;
            gap: 1rem;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: var(--light-text);
            cursor: pointer;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.375rem;
            transition: color 0.3s ease;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }
        
        .action-btn:hover {
            color: var(--accent-color);
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .like-btn.liked {
            color: var(--error-color);
        }
        
        /* 闅愯棌鏃х殑鑱旂郴鎴戜滑鏉垮潡 */
        .contact-section {
            display: none !important;
        }
        
        /* 鑱旂郴琛ㄥ崟鏍峰紡 */
        .contact-form {
            max-width: 700px;
            margin: 0 auto;
        }
        
        .contact-form .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .contact-form .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.05);
        }
        
        .contact-form textarea {
            resize: vertical;
            min-height: 150px;
        }
        
        /* 绂佹澶嶅埗鏍峰紡 */
        .no-copy {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* 鏂囩珷璇︽儏椤垫牱寮?*/
        .article-detail {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .article-detail .article-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .article-detail .article-meta {
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            border-top: none;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1rem;
        }
        
        .article-content {
            color: var(--text-color);
            line-height: 1.8;
            margin-bottom: 2rem;
        }
        
        .article-content p {
            margin-bottom: 1.5rem;
        }
        
        /* 鍝嶅簲寮忚璁?*/
        @media (max-width: 768px) {
            .masonry-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 1rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .category-title {
                font-size: 1.25rem;
            }
        }
        
        /* 鎮诞鑱旂郴鎸夐挳鏍峰紡 */
        .floating-contact {
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 100;
        }
        
        .contact-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .contact-button:hover {
            background-color: #444444;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }
        
        /* 鑱旂郴寮圭獥鏍峰紡 */
        .contact-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .contact-modal.active {
            display: flex;
        }
        
        .contact-modal-content {
            background-color: white;
            border-radius: 12px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            background-color: var(--secondary-color);
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 1.25rem;
            color: var(--text-color);
        }
        
        /* 妯℃€佹鍏抽棴鎸夐挳鏍峰紡 */
        .modal-close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--light-text);
            cursor: pointer;
            transition: color 0.3s ease;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .modal-close-btn:hover {
            color: var(--text-color);
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        /* 鏂囩珷璇︽儏鍏抽棴鎸夐挳鏍峰紡 */
        .close-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            margin-top: 2rem;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            opacity: 0.9;
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        /* 琛ㄥ崟鏍峰紡璋冩暣 */
        .contact-form .form-row {
            gap: 1rem;
        }
        
        .contact-form .form-group {
            margin-bottom: 1rem;
        }
        
        /* 鍝嶅簲寮忚璁?*/
        @media (max-width: 768px) {
            .floating-contact {
                bottom: 60px;
                right: 15px;
            }
            
            .contact-button {
                padding: 10px 16px;
                font-size: 0.9rem;
            }
            
            .modal-header,
            .modal-body {
                padding: 1rem;
            }
        }
        
        /* 闅愯棌鎺ㄥ箍淇℃伅鍖哄煙 */
        div[style*="bottom: 40px; left: 0; z-index: 100;"] {
            display: none !important;
        }
        
        /* 鏍囬涓嬫柟绾挎閫氳繃.page-header::after浼厓绱犲疄鐜?*/
    </style>
</head>
<body>
    <div class="container">
        <!-- 璇█鍒囨崲鎸夐挳 - 鍙冲榻?-->
        <div id="language-switcher" class="absolute right-4 top-4 z-50">
            <div class="language-dropdown relative">
                <button id="language-dropdown-btn" class="language-btn px-3 py-1.5 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-center focus:outline-none" style="font-size: 12px;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 transition-transform duration-300 transform group-hover:rotate-12">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                        <path d="M2 12h20"></path>
                    </svg>
                    <span id="current-language-text">涓枃</span>
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300 transform group-hover:rotate-180">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div id="language-dropdown-menu" class="language-dropdown-menu absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg transform scale-95 opacity-0 pointer-events-none transition-all duration-200 z-50">
                    <button data-lang="zh-CN" class="language-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200 flex items-center">
                        <span class="w-6 h-6 mr-3 flex items-center justify-center font-semibold">涓?/span>
                        涓枃
                    </button>
                    <button data-lang="en-US" class="language-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200 flex items-center">
                        <span class="w-6 h-6 mr-3 flex items-center justify-center font-semibold">EN</span>
                        English
                    </button>
                    <button data-lang="ja-JP" class="language-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200 flex items-center">
                        <span class="w-6 h-6 mr-3 flex items-center justify-center font-semibold">鏃?/span>
                        鏃ユ湰瑾?
                    </button>
                    <button data-lang="ko-KR" class="language-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200 flex items-center">
                        <span class="w-6 h-6 mr-3 flex items-center justify-center font-semibold">頃?/span>
                        頃滉淡鞏?
                    </button>
                </div>
            </div>
        </div>
    <div class="container">
        <!-- 椤甸潰鏍囬 -->
        <header class="page-header">
            <div class="header-content">
                <img src="https://www.fatenet.cn/taiji-logo.png" alt="鍛界悊宸ュ叿Logo" class="header-logo" loading="lazy">
                <h1 data-translate="title">姝ｇ紭鏂逛綅缃?/h1>
            </div>
            <p data-translate="pageIntro">姝ｇ紭鏂逛綅缃戜笓娉ㄦ彁渚涘叓瀛楀悎濠氭柟浣嶆祴绠椼€佹缂樻柟浣嶆煡璇€佹儏渚ｉ厤瀵规寚鏁版祴璇曞強濠氬Щ鍚夎繍骞翠唤棰勬祴鏈嶅姟锛屼緷鎵樹紶缁熷叓瀛楀懡鐞嗕綋绯伙紝绮惧噯瑙ｆ瀽鎯呮劅纾佸満鏂逛綅銆佹亱浜哄鍚堝害涓庢缂樻祦骞磋繍鍔匡紝鍔╂偍娲炴倝缂樺垎璧板悜銆佹妸鎻℃儏鎰熷鏈猴紝鏇存湁涓€у寲鍛界悊鎸囧崡涓庢儏鎰熸彁鍗囨柟妗堢浉浼达紝璁╂瘡娈电紭鍒嗙殕鏈夋柟鍚戝彲渚濄€?/p>
        </header>
        
        <!-- 椤甸潰绠€浠?-->
        
        <style>
            /* 璇█鍒囨崲涓嬫媺鑿滃崟鏍峰紡 */
            .language-dropdown {
                position: relative;
                display: inline-block;
            }
            
            /* 鎸夐挳鎮仠鏁堟灉 - 鍦扮悆鍥炬爣鏃嬭浆 */
            .language-dropdown:hover .language-btn svg:first-child {
                transform: rotate(12deg);
                transition: transform 0.3s ease;
            }
            
            /* 涓嬫媺绠ご鏃嬭浆鍔ㄧ敾 */
            .language-dropdown:hover .language-btn svg:last-child {
                transform: rotate(180deg);
                transition: transform 0.3s ease;
            }
            
            /* 涓嬫媺鑿滃崟鍩虹鏍峰紡 */
            .language-dropdown-menu {
                border: 1px solid #e5e7eb;
                border-radius: 8px;
                overflow: hidden;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            }
            
            /* 鏄剧ず鐘舵€佺殑涓嬫媺鑿滃崟 */
            .language-dropdown-menu.show {
                opacity: 1;
                transform: scale(1) translateY(0);
                pointer-events: auto;
                top: calc(100% + 6px);
            }
            
            /* 婵€娲荤姸鎬佺殑璇█閫夐」 */
            .language-dropdown-menu button.active {
                background-color: #e6f0ff;
                color: #4a90e2;
                font-weight: 600;
            }
            
            /* 鎮仠鏁堟灉 */
            .language-dropdown-menu button:hover:not(.active) {
                background-color: #f0f4f8;
                transform: translateX(2px);
                transition: all 0.2s ease;
            }
            
            /* 鐐瑰嚮鍙嶉鏁堟灉 */
            .language-dropdown-menu button:active {
                transform: scale(0.98);
            }
            
            /* 浜旇涓嬫媺鑿滃崟鏍峰紡 */
            .element-dropdown {
                position: relative;
                width: 100%;
            }
            
            .element-btn {
                border: 1px solid #d1d5db;
                border-radius: 6px;
                background-color: white;
                color: #374151;
                font-weight: 500;
                transition: all 0.2s ease;
                box-shadow: none;
                padding: 0.75rem 1rem;
                font-size: 1rem;
                font-family: inherit;
                display: flex;
                align-items: center;
                justify-content: space-between;
                width: 100%;
                cursor: pointer;
            }
            
            .element-btn:hover {
                background-color: #f9fafb;
                border-color: #93c5fd;
            }
            
            .element-btn:focus {
                outline: none;
                border-color: #3b82f6;
                box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
            }
            
            .element-dropdown:hover .element-btn svg {
                transform: rotate(180deg);
                transition: transform 0.3s ease;
            }
            
            .element-dropdown-menu {
                border: 1px solid #d1d5db;
                border-radius: 6px;
                overflow: visible !important;
                height: auto;
                min-height: auto;
                max-height: 250px;
                overflow-y: auto;
                transition: opacity 0.2s ease;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                /* 纭繚鍐呭瀹屽叏鍙 */
                white-space: nowrap;
                /* 娣诲姞榛樿瀹氫綅 */
                position: absolute;
                left: 0;
                right: 0;
                width: 100%;
                opacity: 0;
                pointer-events: none;
                z-index: 9999;
                background-color: white;
            }
            
            /* 鑷畾涔夋粴鍔ㄦ潯 */
            .element-dropdown-menu::-webkit-scrollbar {
                width: 8px;
            }
            
            .element-dropdown-menu::-webkit-scrollbar-track {
                background: #f1f5f9;
                border-radius: 4px;
            }
            
            .element-dropdown-menu::-webkit-scrollbar-thumb {
                background: #cbd5e1;
                border-radius: 4px;
            }
            
            .element-dropdown-menu::-webkit-scrollbar-thumb:hover {
                background: #94a3b8;
            }
            
            /* 浜旇涓嬫媺鑿滃崟鎸夐挳鍩烘湰鏍峰紡 */
            .element-dropdown-menu button {
                display: block;
                width: 100%;
                padding: 10px 12px;
                border: none;
                background: none;
                text-align: left;
                cursor: pointer;
                font-size: 14px;
                line-height: 1.4;
                transition: all 0.2s ease;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                color: #1f2937;
            }
            
            .element-dropdown-menu.show {
                opacity: 1;
                pointer-events: auto;
                margin-top: 2px;
            }
            
            /* 榛樿鏄剧ず鍦ㄤ笅鏂?*/
            .element-dropdown-menu.show.bottom {
                top: 100%;
            }
            
            /* 绌洪棿涓嶈冻鏃舵樉绀哄湪涓婃柟 */
            .element-dropdown-menu.show.top {
                bottom: 100%;
                top: auto;
                margin-bottom: 2px;
            }
            
            .element-dropdown-menu button.active {
                background-color: #dbeafe;
                color: #2563eb;
                font-weight: 500;
            }
            
            .element-dropdown-menu button:hover:not(.active) {
                background-color: #f3f4f6;
            }
            
            .element-dropdown-menu button:active {
                transform: none;
            }
            
            /* 寰姩鐢绘晥鏋滅被 */
            .scale-95 {
                transform: scale(0.95) !important;
            }
            
            .scale-98 {
                transform: scale(0.98);
            }
            
            /* 璇█鍒囨崲椤甸潰杩囨浮鏁堟灉 */
            .language-transition {
                transition: opacity 0.3s ease-in-out;
            }
            
            /* 璇█閫夐」鍓嶇紑鏍囪瘑 - 浣跨敤鍥芥棗鍥炬爣 */
            .language-option .w-6 {
                border-radius: 4px;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: #f3f4f6;
                font-size: 10px;
                transition: all 0.2s ease;
            }
            
            .language-option:hover .w-6 {
                background-color: #e5e7eb;
                transform: scale(1.1);
            }
            
            .language-option.active .w-6 {
                background-color: #4a90e2;
                color: white;
            }
            
            /* 鍝嶅簲寮忚璁?- 绉诲姩绔紭鍖?*/
            @media (max-width: var(--breakpoint-md)) {
                .language-dropdown-menu {
                    width: 100%;
                    max-width: 280px;
                    left: 50%;
                    right: auto;
                    transform: translateX(-50%) scale(0.95) translateY(-10px);
                    opacity: 0;
                    pointer-events: none;
                }
                
                .language-dropdown-menu.show {
                    transform: translateX(-50%) scale(1) translateY(0);
                    opacity: 1;
                    pointer-events: auto;
                }
                
                /* 灏忓睆骞曟寜閽昂瀵镐紭鍖?*/
                #language-dropdown-btn {
                    padding: 9px 15px;
                    font-size: 14px;
                }
                
                /* 灏忓睆骞曡瑷€閫夐」闂磋窛浼樺寲 */
                .language-option {
                    padding: 8px 12px !important;
                }
            }
            
            /* 澶у睆骞曚綋楠屽寮?*/
            @media (min-width: 992px) {
                .language-dropdown-menu {
                    min-width: 200px;
                }
                
                .language-option {
                    padding: 10px 16px !important;
                }
            }
        </style>
        
        <!-- 鏍囩椤靛鑸?-->
        <div class="tabs">
            <button class="tab-btn active" data-target="position" data-translate="tabPosition">鎰熸儏鏂逛綅鏌ヨ</button>
            <button class="tab-btn" data-target="location-match" data-translate="tabLocationMatch">鎯呬荆鏂逛綅鍖归厤</button>
            <button class="tab-btn" data-target="timing" data-translate="tabTiming">鎰熸儏骞翠唤棰勬祴</button>
        </div>
        <!-- 涓昏鍐呭鍖哄煙 -->
        <main>
            <!-- 鎰熸儏鏂逛綅鏌ヨ妯″潡 -->
        <div class="tab-content active" id="position">
            <div class="card">
                
                <div class="form-group">
                    <label class="form-label" data-translate="genderSelect">鎬у埆閫夋嫨</label>
                    <div class="gender-selector">
                        <label class="gender-option">
                            <input type="radio" name="position-gender" value="male" checked>
                            <div class="avatar-container">
                                <img src="male_avatar.png" alt="鐢锋€? loading="lazy">
                            </div>
                            <span data-translate="male">鐢?/span>
                        </label>
                        <label class="gender-option">
                            <input type="radio" name="position-gender" value="female">
                            <div class="avatar-container">
                                <img src="female_avatar.png" alt="濂虫€? loading="lazy">
                            </div>
                            <span data-translate="female">濂?/span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="position-day-master-element-btn" class="form-label" data-translate="dayMasterElement">鏃ヤ富浜旇</label>
                    <div class="element-dropdown relative">
                        <button id="position-day-master-element-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                            <span id="position-day-master-element-text" data-translate="wood">鏈?/span>
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div id="position-day-master-element-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb overflow-visible">
                            <button data-value="wood" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200" data-translate="wood">
                                鏈?
                            </button>
                            <button data-value="fire" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="fire">
                                鐏?
                            </button>
                            <button data-value="earth" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="earth">
                                鍦?
                            </button>
                            <button data-value="metal" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="metal">
                                閲?
                            </button>
                            <button data-value="water" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="water">
                                姘?
                            </button>
                        </div>
                    </div>
                    <!-- 闅愯棌鐨刬nput鐢ㄤ簬瀛樺偍閫変腑鐨勫€?-->
                    <input type="hidden" id="position-day-master-element" value="wood">
                </div>
                
                <div class="mt-4">
                    <button id="calculate-position-btn" class="btn-primary" data-translate="queryPosition">鏌ヨ鏂逛綅</button>
                </div>
            </div>
            
            <!-- 鎰熸儏鏂逛綅缁撴灉 -->
            <div id="position-result" class="result-section hidden">
                <div id="position-loading" class="loading-container">
                    <div class="loading-spinner"></div>
                    <p class="loading-text" data-translate="calculatingPosition">姝ｅ湪璁＄畻鎮ㄧ殑鎰熸儏鏂逛綅...</p>
                </div>
                <div id="position-content" class="hidden">
                    <div id="position-direction" class="result-highlight"></div>
                    <div id="position-explanation"></div>
                    <div class="info-box">
                        <h4 data-translate="warmTip">娓╅Θ鎻愮ず</h4>
                        <p data-translate="positionTip">鏂逛綅棰勬祴浠呬緵鍙傝€冿紝鎰熸儏闇€瑕佺弽鎯滃拰缁忚惀銆傞亣鍒板悎閫傜殑鎰熸儏鏃讹紝寤鸿淇濇寔绉瀬寮€鏀剧殑蹇冩€併€?/p>
                    </div>
                </div>
            </div>
        </div>
            
            <!-- 鎯呬荆鏂逛綅鍖归厤妯″潡 -->
            <div class="tab-content" id="location-match">
                <div class="card">
                    
                    <div class="form-group">
                        <div class="gender-selector">
                            <label class="gender-option">
                                <input type="radio" name="my-gender" value="male" checked>
                                <div class="avatar-container">
                                    <img src="male_avatar.png" alt="鐢锋€? loading="lazy">
                                </div>
                                <span data-translate="male">鐢?/span>
                            </label>
                            <label class="gender-option">
                                <input type="radio" name="my-gender" value="female">
                                <div class="avatar-container">
                                    <img src="female_avatar.png" alt="濂虫€? loading="lazy">
                                </div>
                                <span data-translate="female">濂?/span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="my-location" class="form-label" data-translate="birthPlace">鍑虹敓鍦?/label>
                            <input type="text" id="my-location" class="form-input" data-translate-placeholder="birthPlacePlaceholder" placeholder="璇疯緭鍏ユ偍鐨勫嚭鐢熷湴锛堝锛氳崋宸烇級">
                        </div>
                        
                        <div class="form-group">
                            <label for="my-element-btn" class="form-label" data-translate="dayMasterElement">鏃ヤ富浜旇</label>
                            <div class="element-dropdown relative">
                                <button id="my-element-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                    <span id="my-element-text" data-translate="wood">鏈?/span>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </button>
                                <div id="my-element-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                    <button data-value="wood" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200" data-translate="wood">
                                        鏈?
                                    </button>
                                    <button data-value="fire" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="fire">
                                        鐏?
                                    </button>
                                    <button data-value="earth" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="earth">
                                        鍦?
                                    </button>
                                    <button data-value="metal" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="metal">
                                        閲?
                                    </button>
                                    <button data-value="water" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="water">
                                        姘?
                                    </button>
                                </div>
                            </div>
                            <!-- 闅愯棌鐨刬nput鐢ㄤ簬瀛樺偍閫変腑鐨勫€?-->
                            <input type="hidden" id="my-element" value="wood">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="gender-selector">
                            <label class="gender-option">
                                <input type="radio" name="partner-gender" value="male">
                                <div class="avatar-container">
                                    <img src="male_avatar.png" alt="鐢锋€? loading="lazy">
                                </div>
                                <span data-translate="male">鐢?/span>
                            </label>
                            <label class="gender-option">
                                <input type="radio" name="partner-gender" value="female" checked>
                                <div class="avatar-container">
                                    <img src="female_avatar.png" alt="濂虫€? loading="lazy">
                                </div>
                                <span data-translate="female">濂?/span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="partner-location" class="form-label" data-translate="birthPlace">鍑虹敓鍦?/label>
                            <input type="text" id="partner-location" class="form-input" data-translate-placeholder="partnerBirthPlacePlaceholder" placeholder="璇疯緭鍏ュ鏂圭殑鍑虹敓鍦帮紙濡傦細鑿忔辰锛?>
                        </div>
                        
                        <div class="form-group">
                            <label for="partner-element-btn" class="form-label" data-translate="dayMasterElement">鏃ヤ富浜旇</label>
                            <div class="element-dropdown relative">
                                <button id="partner-element-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                    <span id="partner-element-text" data-translate="wood">鏈?/span>
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </button>
                                <div id="partner-element-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                    <button data-value="wood" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200" data-translate="wood">
                                        鏈?
                                    </button>
                                    <button data-value="fire" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="fire">
                                        鐏?
                                    </button>
                                    <button data-value="earth" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="earth">
                                        鍦?
                                    </button>
                                    <button data-value="metal" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="metal">
                                        閲?
                                    </button>
                                    <button data-value="water" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200" data-translate="water">
                                        姘?
                                    </button>
                                </div>
                            </div>
                            <!-- 闅愯棌鐨刬nput鐢ㄤ簬瀛樺偍閫変腑鐨勫€?-->
                            <input type="hidden" id="partner-element" value="wood">
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button id="match-location-btn" class="btn-primary" data-translate="matchTest">鍖归厤娴嬭瘯</button>
                    </div>
                </div>
                
                <!-- 鎯呬荆鏂逛綅鍖归厤缁撴灉 -->
                <div id="location-match-result" class="result-section hidden border-2 border-dashed rounded-xl p-6 bg-gradient-to-br from-white to-gray-50 shadow-lg">
                    <div id="match-loading" class="loading-container">
                        <div class="loading-spinner"></div>
                        <p class="loading-text" data-translate="calculatingMatch">姝ｅ湪璁＄畻鍖归厤搴?..</p>
                    </div>
                    <div id="match-content" class="hidden animate-fadeIn">
                        <div id="match-score" class="mb-4"></div>
                        <div id="match-explanation" class="mb-4"></div>
                        <div class="info-box">
                            <h4 data-translate="warmTip">娓╅Θ鎻愮ず</h4>
                            <p data-translate="matchTip">鍖归厤娴嬭瘯浠呬緵鍙傝€冿紝鐪熸鐨勬劅鎯呴渶瑕佸弻鏂瑰叡鍚岀粡钀ュ拰鐝嶆儨銆?/p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 鎰熸儏骞翠唤棰勬祴妯″潡 -->
            <div class="tab-content" id="timing">
                <div class="card">
                    
                    <div class="form-group">
                        <label class="form-label" data-translate="genderSelect">鎬у埆閫夋嫨</label>
                        <div class="gender-selector">
                        <label class="gender-option">
                            <input type="radio" name="timing-gender" value="male" checked>
                            <div class="avatar-container">
                                <img src="male_avatar.png" alt="鐢锋€? loading="lazy">
                            </div>
                            <span data-translate="male">鐢?/span>
                        </label>
                        <label class="gender-option">
                            <input type="radio" name="timing-gender" value="female">
                            <div class="avatar-container">
                                <img src="female_avatar.png" alt="濂虫€? loading="lazy">
                            </div>
                            <span data-translate="female">濂?/span>
                        </label>
                    </div>
                    </div>
                
                    <h4 class="text-lg font-semibold mb-3" data-translate="baZiInfoTitle">鍏瓧淇℃伅杈撳叆</h4>
                    
                    <div class="grid grid-cols-4 gap-4 mb-3">
                        <div class="text-center">骞存煴</div>
                        <div class="text-center">鏈堟煴</div>
                        <div class="text-center">鏃ユ煴</div>
                        <div class="text-center">鏃舵煴</div>
                    </div>
                    
                    <div class="grid grid-cols-4 gap-4 mb-3">
                        <!-- 骞村共鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="year-stem-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="year-stem-text">鐢?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="year-stem-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="jia" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">鐢?/button>
                                <button data-value="yi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涔?/button>
                                <button data-value="bing" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="ding" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="ji" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="geng" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">搴?/button>
                                <button data-value="xin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="ren" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">澹?/button>
                                <button data-value="gui" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐧?/button>
                            </div>
                            <input type="hidden" id="year-stem" value="jia">
                        </div>
                        
                        <!-- 鏈堝共鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="month-stem-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="month-stem-text">鐢?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="month-stem-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="jia" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">鐢?/button>
                                <button data-value="yi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涔?/button>
                                <button data-value="bing" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="ding" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="ji" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="geng" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">搴?/button>
                                <button data-value="xin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="ren" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">澹?/button>
                                <button data-value="gui" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐧?/button>
                            </div>
                            <input type="hidden" id="month-stem" value="jia">
                        </div>
                        
                        <!-- 鏃ュ共鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="day-stem-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="day-stem-text">鐢?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="day-stem-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="jia" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">鐢?/button>
                                <button data-value="yi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涔?/button>
                                <button data-value="bing" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="ding" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="ji" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="geng" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">搴?/button>
                                <button data-value="xin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="ren" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">澹?/button>
                                <button data-value="gui" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐧?/button>
                            </div>
                            <input type="hidden" id="day-stem" value="jia">
                        </div>
                        
                        <!-- 鏃跺共鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="hour-stem-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="hour-stem-text">鐢?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="hour-stem-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="jia" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">鐢?/button>
                                <button data-value="yi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涔?/button>
                                <button data-value="bing" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="ding" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="ji" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="geng" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">搴?/button>
                                <button data-value="xin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="ren" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">澹?/button>
                                <button data-value="gui" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐧?/button>
                            </div>
                            <input type="hidden" id="hour-stem" value="jia">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-4 gap-4">
                        <!-- 骞存敮鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="year-branch-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="year-branch-text">瀛?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="year-branch-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="zi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">瀛?/button>
                                <button data-value="chou" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="yin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">瀵?/button>
                                <button data-value="mao" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="chen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="si" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="wei" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鏈?/button>
                                <button data-value="shen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐢?/button>
                                <button data-value="you" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">閰?/button>
                                <button data-value="xu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="hai" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">浜?/button>
                            </div>
                            <input type="hidden" id="year-branch" value="zi">
                        </div>
                        
                        <!-- 鏈堟敮鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="month-branch-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="month-branch-text">瀛?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="month-branch-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="zi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">瀛?/button>
                                <button data-value="chou" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="yin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">瀵?/button>
                                <button data-value="mao" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="chen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="si" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="wei" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鏈?/button>
                                <button data-value="shen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐢?/button>
                                <button data-value="you" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">閰?/button>
                                <button data-value="xu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="hai" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">浜?/button>
                            </div>
                            <input type="hidden" id="month-branch" value="zi">
                        </div>
                        
                        <!-- 鏃ユ敮鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="day-branch-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="day-branch-text">瀛?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="day-branch-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="zi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">瀛?/button>
                                <button data-value="chou" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="yin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">瀵?/button>
                                <button data-value="mao" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="chen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="si" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="wei" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鏈?/button>
                                <button data-value="shen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐢?/button>
                                <button data-value="you" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">閰?/button>
                                <button data-value="xu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="hai" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">浜?/button>
                            </div>
                            <input type="hidden" id="day-branch" value="zi">
                        </div>
                        
                        <!-- 鏃舵敮鑷畾涔変笅鎷夎彍鍗?-->
                        <div class="element-dropdown relative">
                            <button id="hour-branch-btn" class="element-btn px-3 py-2 rounded-lg bg-white text-black font-medium hover:bg-gray-100 transition-all duration-300 flex items-center justify-between w-full border border-gray-200">
                                <span id="hour-branch-text">瀛?/span>
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 transition-transform duration-300">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div id="hour-branch-menu" class="element-dropdown-menu absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg opacity-0 pointer-events-none transition-all duration-200 z-50 border border-e5e7eb">
                                <button data-value="zi" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 active transition-colors duration-200">瀛?/button>
                                <button data-value="chou" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">涓?/button>
                                <button data-value="yin" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">瀵?/button>
                                <button data-value="mao" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="chen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">杈?/button>
                                <button data-value="si" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">宸?/button>
                                <button data-value="wu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鍗?/button>
                                <button data-value="wei" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鏈?/button>
                                <button data-value="shen" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鐢?/button>
                                <button data-value="you" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">閰?/button>
                                <button data-value="xu" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">鎴?/button>
                                <button data-value="hai" class="element-option w-full text-left px-4 py-3 hover:bg-gray-100 transition-colors duration-200">浜?/button>
                            </div>
                            <input type="hidden" id="hour-branch" value="zi">
                        </div>
                    </div>
                
                    <!-- 鏂板锛氬叓瀛楁煡璇㈢粨鏋滄樉绀哄尯鍩?-->
                    <div id="ba-zi-info" class="mt-4 p-4 bg-gray-50 rounded-lg">
                        <h4 class="text-lg font-semibold mb-2" data-translate="baZiInfoTitle">鍏瓧淇℃伅鏌ヨ缁撴灉</h4>
                        <div class="flex gap-6">
                            <p><strong data-translate="gregorianBirthday">鍏巻</strong><span id="gregorian-birthday">-</span></p>
                            <p><strong data-translate="zodiac">鐢熻倴</strong><span id="zodiac">-</span></p>
                            <p><strong data-translate="age">宀佹暟</strong><span id="age">-</span></p>
                        </div>
                    </div>
                
                    <div class="mt-4">
                        <button id="query-btn" class="btn-primary" data-translate="queryTiming">鏌ヨ鎰熸儏骞翠唤</button>
                        <button id="reset-btn" class="btn-secondary" style="display: none;" data-translate="reset">閲嶇疆</button>
                    </div>
                </div>
                
                <div id="result-area" class="result-section hidden">
                    
                    <div id="loading" class="loading-container">
                        <div class="loading-spinner"></div>
                        <p class="loading-text" data-translate="calculatingTiming">姝ｅ湪鍒嗘瀽鎮ㄧ殑鍛界悊淇℃伅锛岃绋嶅€?..</p>
                    </div>
                    
                    <div id="result-content" class="hidden">
                        <div id="result-timing" class="mb-4"></div>
                        <div class="info-box">
                            <h4 data-translate="detailedExplanation">璇︾粏瑙ｈ</h4>
                            <div id="result-explanation"></div>
                        </div>
                </div>
            </div>
        </div>
        
        <!-- 鏂囩珷鏉垮潡鍖哄煙 -->
        <section class="articles-section">
            <h2 class="section-title" data-translate="articlesTitle">鍛界悊鏂囩珷</h2>
            
            <!-- 鍛藉鍩虹鏉垮潡 -->
            <div class="article-category">
                <div class="category-header">
                    <h3 class="category-title" data-translate="basicTheory">鍛藉鍩虹</h3>
                    <button class="view-more-btn" data-translate="viewMore">鏌ョ湅鏇村 <i class="fa fa-arrow-right"></i></button>
                </div>
                <div class="masonry-grid" id="basic-theory-grid">
                    <!-- 鏂囩珷鍗＄墖灏嗛€氳繃JavaScript鍔ㄦ€佺敓鎴?-->
                </div>
            </div>
            
            <!-- 鍚嶄汉鍏瓧鏉垮潡 -->
            <div class="article-category">
                <div class="category-header">
                    <h3 class="category-title" data-translate="celebrityViews">鍚嶄汉鍏瓧</h3>
                    <button class="view-more-btn" data-translate="viewMore">鏌ョ湅鏇村 <i class="fa fa-arrow-right"></i></button>
                </div>
                <div class="masonry-grid" id="celebrity-views-grid">
                    <!-- 鏂囩珷鍗＄墖灏嗛€氳繃JavaScript鍔ㄦ€佺敓鎴?-->
                </div>
            </div>
            
            <!-- 鑺辨灉璁哄績娉曟澘鍧?-->
            <div class="article-category">
                <div class="category-header">
                    <h3 class="category-title" data-translate="flowerFruitMethod">鑺辨灉璁哄績娉?/h3>
                    <button class="view-more-btn" data-translate="viewMore">鏌ョ湅鏇村 <i class="fa fa-arrow-right"></i></button>
                </div>
                <div class="masonry-grid" id="flower-fruit-method-grid">
                    <!-- 鏂囩珷鍗＄墖灏嗛€氳繃JavaScript鍔ㄦ€佺敓鎴?-->
                </div>
            </div>
            
            <!-- 鏉傝皥闅忕瑪鏉垮潡 -->
            <div class="article-category">
                <div class="category-header">
                    <h3 class="category-title" data-translate="essays">鏉傝皥闅忕瑪</h3>
                    <button class="view-more-btn" data-translate="viewMore">鏌ョ湅鏇村 <i class="fa fa-arrow-right"></i></button>
                </div>
                <div class="masonry-grid" id="essays-grid">
                    <!-- 鏂囩珷鍗＄墖灏嗛€氳繃JavaScript鍔ㄦ€佺敓鎴?-->
                </div>
            </div>
        </section>
        
        <!-- 鐣欒█鏉垮潡 -->
        <section class="contact-section">
            <h2 class="section-title" data-translate="contactUs">鑱旂郴鎴戜滑</h2>
            <div class="card">
                <form id="contact-form" class="contact-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" data-translate="name">濮撳悕</label>
                            <input type="text" class="form-input" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-translate="email">閭</label>
                            <input type="email" class="form-input" id="email" name="email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-translate="subject">涓婚</label>
                        <input type="text" class="form-input" id="subject" name="subject" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-translate="message">鐣欒█鍐呭</label>
                        <textarea class="form-input" id="message" name="message" rows="5" required></textarea>
                    </div>
                    <div class="mt-4">
                        <button type="submit" class="btn-primary" data-translate="sendMessage">鍙戦€佺暀瑷€</button>
                    </div>
                </form>
            </div>
        </section>
    </main>
        
        <!-- 鎮诞鑱旂郴鎸夐挳 -->
        <div class="floating-contact">
            <button id="contact-btn" class="contact-button">
                <i class="fa fa-envelope"></i>
                <span data-translate="contactUs">鑱旂郴鎴戜滑</span>
            </button>
        </div>
        
        <!-- 鑱旂郴寮圭獥 -->
        <div id="contact-modal" class="contact-modal">
            <div class="contact-modal-content">
                <div class="modal-header">
                    <h3 data-translate="contactUs">鑱旂郴鎴戜滑</h3>
                    <button class="modal-close-btn" id="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="contact-form" class="contact-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" data-translate="name">濮撳悕</label>
                                <input type="text" class="form-input" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-translate="email">閭</label>
                                <input type="email" class="form-input" id="email" name="email" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-translate="subject">涓婚</label>
                            <input type="text" class="form-input" id="subject" name="subject" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-translate="message">鐣欒█鍐呭</label>
                            <textarea class="form-input" id="message" name="message" rows="5" required></textarea>
                        </div>
                        <div class="mt-4">
                            <button type="submit" class="btn-primary" data-translate="sendMessage">鍙戦€佺暀瑷€</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- 椤佃剼绉昏嚦椤甸潰搴曢儴 -->
    </div>
    
    <script>
        // 鏂囩珷鏁版嵁浠巃rticles.json鏂囦欢鍔犺浇// 澶氳瑷€缈昏瘧鏁版嵁缁撴瀯
        const translations = {
            'zh-CN': {
                // 椤甸潰鏍囬鍜屾爣绛鹃〉
                'title': '姝ｇ紭鏂逛綅缃?,
                'tabPosition': '鎰熸儏鏂逛綅鏌ヨ',
                'tabLocationMatch': '鎯呬荆鏂逛綅鍖归厤',
                'tabTiming': '鎰熸儏骞翠唤棰勬祴',
                
                // 椤甸潰浠嬬粛
                'pageIntro': '姝ｇ紭鏂逛綅缃戜笓娉ㄦ彁渚涘叓瀛楀悎濠氭柟浣嶆祴绠椼€佹缂樻柟浣嶆煡璇€佹儏渚ｉ厤瀵规寚鏁版祴璇曞強濠氬Щ鍚夎繍骞翠唤棰勬祴鏈嶅姟锛屼緷鎵樹紶缁熷叓瀛楀懡鐞嗕綋绯伙紝绮惧噯瑙ｆ瀽鎯呮劅纾佸満鏂逛綅銆佹亱浜哄鍚堝害涓庢缂樻祦骞磋繍鍔匡紝鍔╂偍娲炴倝缂樺垎璧板悜銆佹妸鎻℃儏鎰熷鏈猴紝鏇存湁涓€у寲鍛界悊鎸囧崡涓庢儏鎰熸彁鍗囨柟妗堢浉浼达紝璁╂瘡娈电紭鍒嗙殕鏈夋柟鍚戝彲渚濄€?,
                
                // 閫氱敤鐘舵€佹枃鏈?
                'loading': '姝ｅ湪鍔犺浇...',
                'error': '鍙戠敓閿欒锛岃绋嶅悗鍐嶈瘯',
                'success': '鎿嶄綔鎴愬姛',
                'noResult': '鏆傛棤缁撴灉',
                
                // 鎰熸儏鏂逛綅鏌ヨ
                'genderSelect': '鎬у埆閫夋嫨',
                'male': '鐢?,
                'female': '濂?,
                'dayMasterElement': '鏃ヤ富浜旇',
                'wood': '鏈?,
                'fire': '鐏?,
                'earth': '鍦?,
                'metal': '閲?,
                'water': '姘?,
                'queryPosition': '鏌ヨ鏂逛綅',
                'reset': '閲嶇疆',
                'calculatingPosition': '姝ｅ湪璁＄畻鎮ㄧ殑鎰熸儏鏂逛綅...',
                'positionResultTitle': '鎮ㄧ殑鎰熸儏鏂逛綅',
                'warmTip': '娓╅Θ鎻愮ず',
                'positionTip': '鏂逛綅棰勬祴浠呬緵鍙傝€冿紝鎰熸儏闇€瑕佺弽鎯滃拰缁忚惀銆傞亣鍒板悎閫傜殑鎰熸儏鏃讹紝寤鸿淇濇寔绉瀬寮€鏀剧殑蹇冩€併€?,
                'timingTip': '骞翠唤棰勬祴浠呬緵鍙傝€冿紝鎰熸儏鍒版潵闇€瑕佸ぉ鏃跺湴鍒╀汉鍜屻€備繚鎸佽壇濂藉績鎬侊紝鏈洪亣鎬绘槸鍨傞潚鏈夊噯澶囩殑浜恒€?,
                
                // 鏂逛綅缈昏瘧
                'east': '涓滄柟',
                'south': '鍗楁柟',
                'west': '瑗挎柟',
                'north': '鍖楁柟',
                'local': '鏈湴',
                
                // 鎰熸儏鏂逛綅瑙ｉ噴妯℃澘
                'malePositionExplanation': '鏍规嵁鎮ㄧ殑鍛界悊鍒嗘瀽锛屾偍鏄瘂dayMasterElement}鏃ヤ富{gender}鍛姐€傜敺鍛戒互鍏嬭€呬负濡伙紝{dayMasterElement}鍏媨soulmateElement}锛屽洜姝ゆ偍鐨勬劅鎯呮柟浣嶄负<strong>{directions}</strong>鏂瑰悜銆傚缓璁偍鍦ㄦ棩甯哥敓娲汇€佸伐浣滄垨绀句氦涓紝鍙互澶氬叧娉ㄦ潵鑷繖浜涙柟鍚戠殑浜烘垨浜嬬墿銆?,
                'femalePositionExplanation': '鏍规嵁鎮ㄧ殑鍛界悊鍒嗘瀽锛屾偍鏄瘂dayMasterElement}鏃ヤ富{gender}鍛姐€傚コ鍛戒互琚厠鑰呬负澶紝{soulmateElement}鍏媨dayMasterElement}锛屽洜姝ゆ偍鐨勬劅鎯呮柟浣嶄负<strong>{directions}</strong>鏂瑰悜銆傚湪閫夋嫨灞呬綇鐜銆佸伐浣滃湴鐐规垨绀句氦鍦哄悎鏃讹紝鍙互閫傚綋鑰冭檻杩欎簺鏂逛綅銆?,
                
                // 鎯呬荆鏂逛綅鍖归厤
                'myGender': '鎴戠殑鎬у埆',
                'partnerGender': '瀵规柟鎬у埆',
                'birthPlace': '鍑虹敓鍦?,
                'birthPlacePlaceholder': '璇疯緭鍏ユ偍鐨勫嚭鐢熷湴锛堝锛氳崋宸烇級',
                'partnerBirthPlacePlaceholder': '璇疯緭鍏ュ鏂圭殑鍑虹敓鍦帮紙濡傦細鑿忔辰锛?,
                'matchTest': '鍖归厤娴嬭瘯',
                'calculatingMatch': '姝ｅ湪璁＄畻鍖归厤搴?..',
                'matchTip': '鍖归厤娴嬭瘯浠呬緵鍙傝€冿紝鐪熸鐨勬劅鎯呴渶瑕佸弻鏂瑰叡鍚岀粡钀ュ拰鐝嶆儨銆?,
                
                // 鎰熸儏骞翠唤棰勬祴
                'dayMasterStem': '鏃ヤ富澶╁共',
                'dayBranch': '鏃ユ敮 (澶瀹?',
                'queryTiming': '鏌ヨ鎰熸儏骞翠唤',
                'calculatingTiming': '姝ｅ湪鍒嗘瀽鎮ㄧ殑鍛界悊淇℃伅锛岃绋嶅€?..',
                'detailedExplanation': '璇︾粏瑙ｈ',
                'baZiInfoTitle': '鍏瓧淇℃伅鏌ヨ缁撴灉',
                'gregorianBirthday': '鍏巻',
                'lunarBirthday': '闃村巻鐢熸棩锛?,
                'zodiac': '鐢熻倴锛?,
                'age': '宀佹暟锛?,
                
                // 澶╁共鍦版敮锛堣繖浜涢€氬父涓嶇炕璇戯紝淇濇寔鍘熸牱锛?
                'jia': '鐢?, 'yi': '涔?, 'bing': '涓?, 'ding': '涓?, 'wu': '鎴?, 
                'ji': '宸?, 'geng': '搴?, 'xin': '杈?, 'ren': '澹?, 'gui': '鐧?,
                'zi': '瀛?, 'chou': '涓?, 'yin': '瀵?, 'mao': '鍗?, 'chen': '杈?, 
                'si': '宸?, 'wu': '鍗?, 'wei': '鏈?, 'shen': '鐢?, 'you': '閰?, 
                'xu': '鎴?, 'hai': '浜?,
                
                // 缁撴灉鏂囨湰妯℃澘
                'positionTemplate': '鎮ㄧ殑鎰熸儏鏂逛綅涓昏鍦▄direction}鏂广€?,
                'positionExplanationTemplate': '鏍规嵁鎮ㄧ殑鏃ヤ富浜旇涓簕element}锛屾偍鍦ㄥ湴鏀瘂branch}鏂逛綅鐨勫紓鎬ф劅鎯呰緝涓烘椇鐩涖€傚湪杩欎釜鏂逛綅宸ヤ綔銆佸涔犳垨鍙傚姞绀句氦娲诲姩锛岄亣鍒板悎閫傚璞＄殑姒傜巼浼氭洿楂樸€?,
                'matchScoreTemplate': '鍖归厤搴﹁瘎鍒嗭細<strong>{score}鍒?/strong>',
                'matchExplanationTemplate': '{explanation}',
                'timingResultTemplate': '鎮ㄥ湪{years}骞撮亣鍒版劅鎯呯殑姒傜巼鏈€楂樸€?,
                'timingExplanationTemplate': '{explanation}',
                // 鎰熸儏骞翠唤棰勬祴棰濆闇€瑕佺殑缈昏瘧
                'year': '骞?,
                'probability': '姒傜巼',
                'soulmateYear': '鎰熸儏骞翠唤',
                'interpretationIntro': '鏍规嵁鎮ㄧ殑鍛界悊鍒嗘瀽锛屼互涓?,
                'soulmateYears': '骞翠负鎮ㄧ殑鎰熸儏骞翠唤',
                'noSoulmateYears': '娌℃湁',
                'noSoulmateInterpretation': '娌℃湁',
                'interpretationSuggestion': '寤鸿',
                'noSoulmateSuggestion': '淇濇寔寮€鏀惧績鎬侊紝澶氬弬鍔犵ぞ浜ゆ椿鍔紝鎰熸儏鍙兘鍦ㄤ笉缁忔剰闂村嚭鐜般€?,
                'emotionAppear': '鎰熸儏鍑虹幇',
                // 椤佃剼缈昏瘧
                'footerCopyright': '漏 2024 姝ｇ紭鏂逛綅缃?,
                'footerDisclaimer': '鏈伐鍏蜂粎渚涘弬鑰冿紝鍛借繍鎺屾彙鍦ㄨ嚜宸辨墜涓?,
                // 鎺ㄥ箍鏂囨湰缈昏瘧
                'promotionalText': '杩樺彲浠ヨ瘯璇曟垜浠殑',
                'zodiacTool': '鍏瓧鎰熸儏鏌ヨ宸ュ叿',
                'baziTool': '鍏瓧鎰熸儏鏌ヨ宸ュ叿',
                'getMoreAnalysis': '鑾峰彇鏇村鍛界悊鍒嗘瀽銆?,
                // 鏂囩珷鏉垮潡缈昏瘧
                'articlesTitle': '鍛界悊鏂囩珷',
                'basicTheory': '鍛藉鍩虹',
                'celebrityViews': '鍚嶄汉鍏瓧',
                'flowerFruitMethod': '鑺辨灉璁哄績娉?,
                'essays': '鏉傝皥闅忕瑪',
                'viewMore': '鏌ョ湅鏇村',
                // 鐣欒█鏉垮潡缈昏瘧
                'contactUs': '鑱旂郴鎴戜滑',
                'name': '濮撳悕',
                'email': '閭',
                'subject': '涓婚',
                'message': '鐣欒█鍐呭',
                'sendMessage': '鍙戦€佺暀瑷€'
            },
            'en-US': {
                // 椤甸潰鏍囬鍜屾爣绛鹃〉
                'title': 'Zheng Yuan Destiny Direction Network',
                'tabPosition': 'Destiny Direction',
                'tabLocationMatch': 'Couple Location Match',
                'tabTiming': 'Destiny Year Prediction',
                
                // 椤甸潰浠嬬粛
                'pageIntro': 'Zheng Yuan Destiny Direction Network specializes in providing Bazi compatibility direction calculation, destiny direction query, couple matching index test, and marriage auspicious year prediction services. Based on traditional Bazi destiny system, it accurately analyzes emotional magnetic field direction, lover compatibility, and destiny year fortune, helping you understand fate trends, grasp emotional opportunities, and accompanied by personalized destiny guidance and emotional improvement plans, so that every fate has a direction to follow.',
                
                // 閫氱敤鐘舵€佹枃鏈?
                'loading': 'Loading...',
                'error': 'An error occurred, please try again later',
                'success': 'Operation successful',
                'noResult': 'No results found',
                
                // 鎰熸儏鏂逛綅鏌ヨ
                'genderSelect': 'Gender',
                'male': 'Male',
                'female': 'Female',
                'dayMasterElement': 'Day Master Element',
                'wood': 'Wood',
                'fire': 'Fire',
                'earth': 'Earth',
                'metal': 'Metal',
                'water': 'Water',
                'queryPosition': 'Query Direction',
                'reset': 'Reset',
                'calculatingPosition': 'Calculating your destiny direction...',
                'positionResultTitle': 'Your Destiny Direction',
                'warmTip': 'Warm Reminder',
                'positionTip': 'Direction prediction is for reference only. Fate needs to be cherished and managed. When you encounter a suitable connection, it is recommended to maintain a positive and open attitude.',
                'timingTip': 'Year prediction is for reference only. The arrival of destiny requires favorable timing, geographical conditions, and human harmony. Maintain a positive mindset, as opportunities always favor those who are prepared.',
                
                // 鏂逛綅缈昏瘧
                'east': 'East',
                'south': 'South',
                'west': 'West',
                'north': 'North',
                'local': 'Local',
                
                // 鎰熸儏鏂逛綅瑙ｉ噴妯℃澘
                'malePositionExplanation': 'Based on your destiny analysis, you are a {dayMasterElement} Day Master {gender} destiny. For male destiny, the wife is the one being conquered. {dayMasterElement} conquers {soulmateElement}, so your emotional direction is <strong>{directions}</strong>. It is recommended that you pay more attention to people or things from these directions in your daily life, work, or social interactions.',
                'femalePositionExplanation': 'Based on your destiny analysis, you are a {dayMasterElement} Day Master {gender} destiny. For female destiny, the husband is the one who conquers. {soulmateElement} conquers {dayMasterElement}, so your emotional direction is <strong>{directions}</strong>. You can appropriately consider these directions when choosing a living environment, workplace, or social occasions.',
                
                // 鎯呬荆鏂逛綅鍖归厤
                'myGender': 'My Gender',
                'partnerGender': 'Partner\'s Gender',
                'birthPlace': 'Birth Place',
                'birthPlacePlaceholder': 'Please enter your birth place (e.g., Jingzhou)',
                'partnerBirthPlacePlaceholder': 'Please enter your partner\'s birth place (e.g., Heze)',
                'matchTest': 'Match Test',
                'calculatingMatch': 'Calculating compatibility...',
                'matchTip': 'Match test is for reference only. True relationship requires joint management and cherishing.',
                
                // 鎰熸儏骞翠唤棰勬祴
                'dayMasterStem': 'Day Master Stem',
                'dayBranch': 'Day Branch (Spouse Palace)',
                'queryTiming': 'Query Destiny Years',
                'calculatingTiming': 'Analyzing your destiny information, please wait...',
                'detailedExplanation': 'Detailed Explanation',
                'baZiInfoTitle': 'BaZi Information',
                'gregorianBirthday': 'Gregorian Birthday: ',
                'lunarBirthday': 'Lunar Birthday: ',
                'zodiac': 'Zodiac: ',
                'age': 'Age: ',
                
                // 澶╁共鍦版敮锛堜繚鐣欎腑鏂囧師鏂囷紝娣诲姞鑻辨枃鍙戦煶鍜岃В閲婏級
                'jia': 'Jia (Wood)', 'yi': 'Yi (Wood)', 'bing': 'Bing (Fire)', 'ding': 'Ding (Fire)', 'wu': 'Wu (Earth)', 
                'ji': 'Ji (Earth)', 'geng': 'Geng (Metal)', 'xin': 'Xin (Metal)', 'ren': 'Ren (Water)', 'gui': 'Gui (Water)',
                'zi': 'Zi (Rat)', 'chou': 'Chou (Ox)', 'yin': 'Yin (Tiger)', 'mao': 'Mao (Rabbit)', 'chen': 'Chen (Dragon)', 
                'si': 'Si (Snake)', 'wu': 'Wu (Horse)', 'wei': 'Wei (Sheep)', 'shen': 'Shen (Monkey)', 'you': 'You (Rooster)', 
                'xu': 'Xu (Dog)', 'hai': 'Hai (Pig)',
                
                // 缁撴灉鏂囨湰妯℃澘
                'positionTemplate': 'Your destiny direction is mainly in the {direction} direction.',
                'positionExplanationTemplate': 'Based on your Day Master Element {element}, your romantic connections are more prosperous in the {branch} direction. Working, studying, or participating in social activities in this direction will increase your chances of meeting a suitable partner.',
                'matchScoreTemplate': 'Compatibility Score: <strong>{score} points</strong>',
                'matchExplanationTemplate': '{explanation}',
                'timingResultTemplate': 'You have the highest probability of meeting your destiny partner in {years}.',
                'timingExplanationTemplate': '{explanation}',
                // 鎰熸儏骞翠唤棰勬祴棰濆闇€瑕佺殑缈昏瘧
                'year': '',
                'probability': 'Probability',
                'soulmateYear': 'Destiny Year',
                'interpretationIntro': 'Based on your destiny analysis, the following',
                'soulmateYears': 'years are your destiny years',
                'noSoulmateYears': 'None',
                'noSoulmateInterpretation': 'None',
                'interpretationSuggestion': 'Suggestion',
                'noSoulmateSuggestion': 'Maintain an open mind, participate in more social activities, and emotions may appear unexpectedly.',
                'emotionAppear': 'Emotion Appears',
                // 椤佃剼缈昏瘧
                'footerCopyright': '漏 2024 Zheng Yuan Destiny Direction Network',
                'footerDisclaimer': 'This tool is for reference only, destiny is in your own hands',
                // 鎺ㄥ箍鏂囨湰缈昏瘧
                'promotionalText': 'You can also try our',
                'zodiacTool': 'Bazi Compatibility Tool',
                'baziTool': 'Bazi Compatibility Tool',
                'getMoreAnalysis': 'for more destiny analysis.',
                'contactUs': 'Contact us'
            },
            'ja-JP': {
                // 椤甸潰鏍囬鍜屾爣绛鹃〉
                'title': '姝ｇ竵鏂逛綅缍?,
                'tabPosition': '閬嬪懡銇柟鍚?,
                'tabLocationMatch': '銈儍銉椼儷銇牬鎵€鐩告€?,
                'tabTiming': '閬嬪懡銇勾浜堟脯',
                
                // 椤甸潰浠嬬粛
                'pageIntro': '姝ｇ竵鏂逛綅缍层伅銆佸叓瀛楀悎濠氭柟浣嶆脯瀹氥€佹绺佹柟浣嶈鏌汇€併偒銉冦儣銉浉鎬ф寚鏁般儐銈广儓銆佸濮诲悏閬嬪勾浜堟脯銈点兗銉撱偣銈掑皞闁€銇彁渚涖仐銇︺亜銇俱仚銆備紳绲辩殑銇叓瀛楀懡鐞嗕綋绯汇伀鍩恒仴銇嶃€佹劅鎯呯鍫存柟浣嶃€佹亱浜恒伄濂戝悎搴︺€佹绺佹祦骞撮亱鍕倰姝ｇ⒑銇В鏋愩仐銆侀亱鍛姐伄娴併倢銈掓礊瀵熴仐銆佹劅鎯呫伄濂戞銈掓妸鎻°仚銈嬨伄銈掑姪銇戙伨銇欍€傘仌銈夈伀鍊嬪垾鍖栥仌銈屻仧鍛界悊銈偆銉夈仺鎰熸儏鍚戜笂瑷堢敾銇屼粯灞炪仐銆併仚銇广仸銇亱鍛姐伀鏂瑰悜銇屻亗銈嬨倛銇嗐伀銇椼伨銇欍€?,
                
                // 閫氱敤鐘舵€佹枃鏈?
                'loading': '瑾伩杈笺伩涓?..',
                'error': '銈ㄣ儵銉笺亴鐧虹敓銇椼伨銇椼仧銆佸緦銇с倐銇嗕竴搴︺亰瑭︺仐銇忋仩銇曘亜',
                'success': '鎿嶄綔銇屾垚鍔熴仐銇俱仐銇?,
                'noResult': '绲愭灉銇岃銇ゃ亱銈娿伨銇涖倱',
                
                // 鎰熸儏鏂逛綅鏌ヨ
                'genderSelect': '鎬у垾',
                'male': '鐢锋€?,
                'female': '濂虫€?,
                'dayMasterElement': '鏃ヤ富浜旇',
                'wood': '鏈?,
                'fire': '鐏?,
                'earth': '鍦?,
                'metal': '閲?,
                'water': '姘?,
                'queryPosition': '鏂瑰悜銈掕銇广倠',
                'reset': '銉偦銉冦儓',
                'calculatingPosition': '閬嬪懡銇柟鍚戙倰瑷堢畻涓?..',
                'positionResultTitle': '銇傘仾銇熴伄閬嬪懡銇柟鍚?,
                'warmTip': '銇旀敞鎰?,
                'positionTip': '鏂瑰悜浜堟脯銇弬鑰冩儏鍫便仹銇欍€傜竵銇ぇ鍒囥伀銇椼仸绲屽柖銇欍倠蹇呰銇屻亗銈娿伨銇欍€傜浉蹇溿仐銇勭竵銇嚭浼氥仯銇熴仺銇嶃伅銆佸墠鍚戙亶銇ч枊銇嬨倢銇熸厠搴︺倰缍寔銇欍倠銇撱仺銈掋亰鍕с倎銇椼伨銇欍€?,
                'timingTip': '骞翠簣娓伅鍙傝€冩儏鍫便仹銇欍€傞亱鍛姐伄鍒版潵銇伅銆佹湁鍒┿仾銈裤偆銉熴兂銈般€佸湴鐞嗙殑鏉′欢銆佷汉闁撻枹淇傘伄瑾垮拰銇屽繀瑕併仹銇欍€傚墠鍚戙亶銇優銈ゃ兂銉夈倰缍寔銇椼仸銇忋仩銇曘亜銆傛浼氥伅甯搞伀婧栧倷銇曘倢銇熻€呫倰鍎亣銇椼伨銇欍€?,
                
                // 鏂逛綅缈昏瘧
                'east': '鏉辨柟',
                'south': '鍗楁柟',
                'west': '瑗挎柟',
                'north': '鍖楁柟',
                'local': '鐝惧湴',
                
                // 鎰熸儏鏂逛綅瑙ｉ噴妯℃澘
                'malePositionExplanation': '銇傘仾銇熴伄閬嬪懡鍒嗘瀽銇熀銇ャ亶銆併亗銇仧銇瘂dayMasterElement}鏃ヤ富{gender}鍛姐仹銇欍€傜敺鍛姐伅鍏嬨仚銈嬭€呫倰濡汇仺銇椼€亄dayMasterElement}銇瘂dayMasterElement}銈掑厠銇椼伨銇欍€傘仢銇仧銈併€併亗銇仧銇劅鎯呫伄鏂瑰悜銇?strong>{directions}</strong>鏂瑰悜銇с仚銆傛棩甯哥敓娲汇€佷粫浜嬨€併伨銇熴伅绀句氦銇腑銇с€併亾銈屻倝銇柟鍚戙亱銈夈伄浜恒倓鐗╀簨銇銇忋伄娉ㄦ剰銈掓墪銇嗐亾銇ㄣ倰銇婂嫥銈併仐銇俱仚銆?,
                'femalePositionExplanation': '銇傘仾銇熴伄閬嬪懡鍒嗘瀽銇熀銇ャ亶銆併亗銇仧銇瘂dayMasterElement}鏃ヤ富{gender}鍛姐仹銇欍€傚コ鍛姐伅鍏嬨仌銈屻倠鑰呫倰澶仺銇椼€亄soulmateElement}銇瘂dayMasterElement}銈掑厠銇椼伨銇欍€傘仢銇仧銈併€併亗銇仧銇劅鎯呫伄鏂瑰悜銇?strong>{directions}</strong>鏂瑰悜銇с仚銆傚眳浣忕挵澧冦€佽伔鍫淬€併伨銇熴伅绀句氦銇牬銈掗伕銇躲仺銇嶃伅銆併亾銈屻倝銇柟浣嶃倰閬╁垏銇€冩叜銇欍倠銇撱仺銇屻仹銇嶃伨銇欍€?,
                
                // 鎯呬荆鏂逛綅鍖归厤
                'myGender': '鑷垎銇€у垾',
                'partnerGender': '鐩告墜銇€у垾',
                'birthPlace': '鍑虹敓鍦?,
                'birthPlacePlaceholder': '銇傘仾銇熴伄鍑虹敓鍦般倰鍏ュ姏銇椼仸銇忋仩銇曘亜锛堜緥锛氳崐宸烇級',
                'partnerBirthPlacePlaceholder': '鐩告墜銇嚭鐢熷湴銈掑叆鍔涖仐銇︺亸銇犮仌銇勶紙渚嬶細鑿忔并锛?,
                'matchTest': '鐩告€с儐銈广儓',
                'calculatingMatch': '鐩告€с倰瑷堢畻涓?..',
                'matchTip': '鐩告€с儐銈广儓銇弬鑰冩儏鍫便仹銇欍€傛湰褰撱伄鎰熸儏銇弻鏂广伄鍏卞悓銇祵鍠躲仺澶у垏銇曘亴蹇呰銇с仚銆?,
                
                // 鎰熸儏骞翠唤棰勬祴
                'dayMasterStem': '鏃ヤ富澶╁共',
                'dayBranch': '鏃ユ敮 (澶瀹?',
                'queryTiming': '閬嬪懡銇勾銈掕銇广倠',
                'calculatingTiming': '銇傘仾銇熴伄閬嬪懡鎯呭牨銈掑垎鏋愪腑銇с仚銆併仐銇般倝銇忋亰寰呫仭銇忋仩銇曘亜...',
                'detailedExplanation': '瑭崇窗銇鏄?,
                'baZiInfoTitle': '鍏瓧鎯呭牨',
                'gregorianBirthday': '瑗挎殾瑾曠敓鏃ワ細',
                'lunarBirthday': '鏃ф殾瑾曠敓鏃ワ細',
                'zodiac': '骞叉敮锛?,
                'age': '骞撮舰锛?,
                
                // 澶╁共鍦版敮锛堜繚鐣欎腑鏂囧師鏂囷紝娣诲姞鏃ユ枃鍙戦煶锛?
                'jia': '鐢?(銇撱亞)', 'yi': '涔?(銇ゃ亜)', 'bing': '涓?(銇搞亜)', 'ding': '涓?(銇︺亜)', 'wu': '鎴?(銇?', 
                'ji': '宸?(銇?', 'geng': '搴?(銇撱亞)', 'xin': '杈?(銇椼倱)', 'ren': '澹?(銇樸倱)', 'gui': '鐧?(銇?',
                'zi': '瀛?(銇?', 'chou': '涓?(銇°倕銇?', 'yin': '瀵?(銇勩倱)', 'mao': '鍗?(銇笺亞)', 'chen': '杈?(銇椼倱)', 
                'si': '宸?(銇?', 'wu': '鍗?(銇?', 'wei': '鏈?(銇?', 'shen': '鐢?(銇椼倱)', 'you': '閰?(銈嗐亞)', 
                'xu': '鎴?(銇樸倕銇?', 'hai': '浜?(銇屻亜)',
                
                // 缁撴灉鏂囨湰妯℃澘
                'positionTemplate': '銇傘仾銇熴伄閬嬪懡銇柟鍚戙伅涓汇伀{direction}銇柟鍚戙伀銇傘倞銇俱仚銆?,
                'positionExplanationTemplate': '銇傘仾銇熴伄鏃ヤ富浜旇銇瘂element}銇с亗銈嬨仧銈併€佸湴鏀瘂branch}銇柟鍚戙仹鐣版€с仺銇竵銇岀洓銈撱伀銇倞銇俱仚銆傘亾銇柟鍚戙仹浠曚簨銆佸媺寮枫€佺ぞ浜ゆ椿鍕曘伀鍙傚姞銇欍倠銇ㄣ€佺浉蹇溿仐銇勭浉鎵嬨伀鍑轰細銇嗙⒑鐜囥亴楂樸亸銇倞銇俱仚銆?,
                'matchScoreTemplate': '鐩告€с偣銈炽偄锛?strong>{score}鐐?/strong>',
                'matchExplanationTemplate': '{explanation}',
                'timingResultTemplate': '銇傘仾銇熴伅{years}骞淬伀閬嬪懡銇浉鎵嬨伀鍑轰細銇嗙⒑鐜囥亴鏈€銈傞珮銇勩仹銇欍€?,
                'timingExplanationTemplate': '{explanation}',
                // 鎰熸儏骞翠唤棰勬祴棰濆闇€瑕佺殑缈昏瘧
                'year': '骞?,
                'probability': '纰虹巼',
                'soulmateYear': '閬嬪懡銇勾',
                'interpretationIntro': '銇傘仾銇熴伄閬嬪懡鍒嗘瀽銇熀銇ャ亜銇︺€佷互涓嬨伄',
                'soulmateYears': '骞淬亴銇傘仾銇熴伄閬嬪懡銇勾銇с仚',
                'noSoulmateYears': '銇仐',
                'noSoulmateInterpretation': '銇仐',
                'interpretationSuggestion': '鎻愭',
                'noSoulmateSuggestion': '闁嬨亱銈屻仧蹇冦倰鎸併仭銆併倛銈婂銇忋伄绀句氦娲诲嫊銇弬鍔犮仐銇︺亸銇犮仌銇勩€傜箣銇屻倞銇€濄亜銇屻亼銇氱従銈屻倠銇撱仺銇屻亗銈娿伨銇欍€?,
                'emotionAppear': '鎰熸儏鍑虹従',
                // 椤佃剼缈昏瘧
                'footerCopyright': '漏 2024 姝ｇ竵鏂逛綅缍?,
                'footerDisclaimer': '銇撱伄銉勩兗銉伅鍙傝€冩儏鍫便仹銇欍€傞亱鍛姐伅鑷垎銇墜銇腑銇亗銈娿伨銇?,
                // 鎺ㄥ箍鏂囨湰缈昏瘧
                'promotionalText': '绉併仧銇°伄',
                'zodiacTool': '鍏瓧鎰熸儏鏌ヨ宸ュ叿',
                'baziTool': '鍏瓧鎰熸儏鏌ヨ宸ュ叿',
                'getMoreAnalysis': '銈傝│銇椼仸銆併倛銈婂銇忋伄鍛界悊鍒嗘瀽銈掑彇寰椼仐銇︺亸銇犮仌銇勩€?,
                'contactUs': '銇婂晱銇勫悎銈忋仜'
            },
            'ko-KR': {
                // 椤甸潰鏍囬鍜屾爣绛鹃〉
                'title': '鞖措獏 毵れ弓 霃勱惮',
                'tabPosition': '鞖措獏 氚╉枼',
                'tabLocationMatch': '旎ろ攲 鞙勳箻 毵れ弓',
                'tabTiming': '鞖措獏鞚?頃?鞓堨浮',
                
                // 椤甸潰浠嬬粛
                'pageIntro': 'fatenet.cn鞚€ 鞝勲鞝侅澑 韺旍瀽 臧愳爼 氚╉枼 臁绊殞, 旎ろ攲 毵れ弓 韰岇姢韸? 鞖措獏 臧愳爼 鞐半弰 鞓堨浮 霃勱惮毳?鞝滉车頃╇媹雼? 韺旍瀽 攵勳劃鞚?韱淀暣 臧愳爼 氚╉枼, 旎ろ攲 毵れ弓霃? 臧愳爼 鞐半弰毳?鞚错暣頃橁碃 鞝曧檿頃?鞖措獏 攵勳劃瓿?臁办柛鞚?鞝滉车頃╇媹雼?',
                
                // 閫氱敤鐘舵€佹枃鏈?
                'loading': '搿滊敥 欷?..',
                'error': '鞓る臧€ 氚滌儩頄堨姷雼堧嫟. 雮橃鞐?雼れ嫓 鞁滊弰頃?欤检劯鞖?,
                'success': '鞛戩梾 靹标车',
                'noResult': '瓴瓣臣毳?彀眷潉 靾?鞐嗢姷雼堧嫟',
                
                // 鎰熸儏鏂逛綅鏌ヨ
                'genderSelect': '靹彪硠 靹犿儩',
                'male': '雮劚',
                'female': '鞐劚',
                'dayMasterElement': '鞚检＜ 鞓ろ枆',
                'wood': '氇?,
                'fire': '頇?,
                'earth': '韱?,
                'metal': '旮?,
                'water': '靾?,
                'queryPosition': '氚╉枼 臁绊殞',
                'reset': '齑堦赴頇?,
                'calculatingPosition': '鞖措獏鞚?氚╉枼鞚?瓿勳偘 欷戩瀰雼堧嫟...',
                'positionResultTitle': '雼轨嫚鞚?鞖措獏 氚╉枼',
                'warmTip': '欤检潣靷暛',
                'positionTip': '氚╉枼 鞓堨浮鞚€ 彀戈碃鞖╈瀰雼堧嫟. 鞚胳棸鞚€ 靻岇頌?鞐赴瓿?瓴届榿頃挫暭 頃╇媹雼? 鞝來暕頃?鞚胳棸鞚?毵岆偓鞚?霑岀Н妤奠爜鞚搓碃 臧滊癌鞝侅澑 韮滊弰毳?鞙犾頃橂姅 瓴冹澊 膦嬱姷雼堧嫟.',
                'timingTip': '雲勲弰 鞓堨浮鞚€ 彀戈碃鞖╈瀰雼堧嫟. 鞖措獏鞚?霃勲灅鞐愲姅 鞙犽Μ頃?韮€鞚措皪, 歆€毽爜 臁瓣贝, 鞚戈皠 甏€瓿勳潣 臁绊檾臧€ 頃勳殧頃╇媹雼? 旮嶌爼鞝侅澑 毵堨潓臧€歆愳潉 鞙犾頃橃劯鞖? 旮绊殞電?頃儊 欷€牍勲悳 鞛愲ゼ 旮半寑頃╇媹雼?',
                
                // 鏂逛綅缈昏瘧
                'east': '霃欖',
                'south': '雮',
                'west': '靹滌',
                'north': '攵侅',
                'local': '順勳',
                
                // 鎰熸儏鏂逛綅瑙ｉ噴妯℃澘
                'malePositionExplanation': '雼轨嫚鞚?鞖措獏 攵勳劃鞐?霐半ゴ氅? 雼轨嫚鞚€ {dayMasterElement} 鞚检＜ {gender}鍛届瀰雼堧嫟. 雮劚鞚?瓴届毎,鍏嬳晿電?鞛愲ゼ 鞎勲偞搿?靷检姷雼堧嫟. {dayMasterElement}電?{soulmateElement}毳煎厠頃╇媹雼? 霐半澕靹?雼轨嫚鞚?臧愳爼 氚╉枼鞚€ <strong>{directions}</strong> 氚╉枼鞛呺媹雼? 鞚检儊 靸濏櫆, 鞚? 霕愲姅 靷祼 頇滊彊鞐愳劀 鞚措煬頃?氚╉枼鞐愳劀 鞓る姅 靷瀸鞚措倶 靷鞐?雿?毵庫潃 欤检潣毳?旮办毟鞚措姅 瓴冹澊 膦嬱姷雼堧嫟.',
                'femalePositionExplanation': '雼轨嫚鞚?鞖措獏 攵勳劃鞐?霐半ゴ氅? 雼轨嫚鞚€ {dayMasterElement} 鞚检＜ {gender}鍛届瀰雼堧嫟. 鞐劚鞚?瓴届毎,鍏嬳晿電?鞛愲ゼ 雮幐鞙茧 靷检姷雼堧嫟. {soulmateElement}電?{dayMasterElement}毳煎厠頃╇媹雼? 霐半澕靹?雼轨嫚鞚?臧愳爼 氚╉枼鞚€ <strong>{directions}</strong> 氚╉枼鞛呺媹雼? 瓯办＜ 頇橁步, 歆侅灔, 霕愲姅 靷祼 鞛レ唽毳?靹犿儩頃?霑?鞚措煬頃?氚╈渼毳?鞝侅爤頌?瓿犽牑頃?靾?鞛堨姷雼堧嫟.',
                
                // 鎯呬荆鏂逛綅鍖归厤
                'myGender': '雮?靹彪硠',
                'partnerGender': '靸侂寑氚?靹彪硠',
                'birthPlace': '於滌儩歆€',
                'birthPlacePlaceholder': '雼轨嫚鞚?於滌儩歆€毳?鞛呺牓頃橃劯鞖?(鞓? 瓴届＜)',
                'partnerBirthPlacePlaceholder': '靸侂寑氚╈潣 於滌儩歆€毳?鞛呺牓頃橃劯鞖?(鞓? 頃橅儩)',
                'matchTest': '毵れ弓 韰岇姢韸?,
                'calculatingMatch': '順疙櫂靹膘潉 瓿勳偘 欷戩瀰雼堧嫟...',
                'matchTip': '毵れ弓 韰岇姢韸鸽姅 彀戈碃鞖╈瀰雼堧嫟. 歆勳爼頃?甏€瓿勲姅 靸來樃 瓴届榿瓿?靻岇頃澊 頃勳殧頃╇媹雼?',
                
                // 鎰熸儏骞翠唤棰勬祴
                'dayMasterStem': '鞚检＜ 觳滉皠',
                'dayBranch': '鞚检 (攵€觳橁秮)',
                'queryTiming': '鞖措獏鞚?頃?臁绊殞',
                'calculatingTiming': '雼轨嫚鞚?鞖措獏 鞝曤炒毳?攵勳劃 欷戩瀰雼堧嫟. 鞛犾嫓毵?旮半嫟霠?欤检劯鞖?..',
                'detailedExplanation': '靸侅劯 靹る獏',
                'baZiInfoTitle': '韺旍瀽 鞝曤炒',
                'gregorianBirthday': '靹滉赴 靸濎澕锛?,
                'lunarBirthday': '鞚岆牓 靸濎澕锛?,
                'zodiac': '靸濊倴锛?,
                'age': '雮橃澊锛?,
                
                // 澶╁共鍦版敮锛堜繚鐣欎腑鏂囧師鏂囷紝娣诲姞闊╂枃鍙戦煶锛?
                'jia': '臧?(臧?', 'yi': '鞚?(鞚?', 'bing': '氤?(氤?', 'ding': '鞝?(鞝?', 'wu': '氍?(氍?', 
                'ji': '旮?(旮?', 'geng': '瓴?(瓴?', 'xin': '鞁?(鞁?', 'ren': '鞛?(鞛?', 'gui': '瓿?(瓿?',
                'zi': '鞛?(鞛?', 'chou': '於?(於?', 'yin': '鞚?(鞚?', 'mao': '氍?(氍?', 'chen': '歆?(歆?', 
                'si': '靷?(靷?', 'wu': '鞓?(鞓?', 'wei': '氙?(氙?', 'shen': '鞁?(鞁?', 'you': '鞙?(鞙?', 
                'xu': '靾?(靾?', 'hai': '頃?(頃?',
                
                // 缁撴灉鏂囨湰妯℃澘
                'positionTemplate': '雼轨嫚鞚?鞖措獏鞚?氚╉枼鞚€ 欤茧{direction}氚╉枼鞐?鞛堨姷雼堧嫟.',
                'positionExplanationTemplate': '鞚检＜ 鞓ろ枆鞚磠element}鞚措瘈搿? 歆€歆€{branch}氚╉枼鞐愳劀 鞚挫劚瓿检潣 鞚胳棸鞚?鞕曥劚頃╇媹雼? 鞚?氚╉枼鞐愳劀 鞚柬晿瓯半倶, 瓿惦秬頃橁卑雮? 靷祼 頇滊彊鞐?彀胳棳頃橂┐ 鞝來暕頃?靸侂寑毳?毵岆偁 頇曤鞚?雴掛晞歆戨媹雼?',
                'matchScoreTemplate': '順疙櫂靹?鞝愳垬: <strong>{score}鞝?/strong>',
                'matchExplanationTemplate': '{explanation}',
                'timingResultTemplate': '雼轨嫚鞚€{years}雲勳棎 鞖措獏鞚?靸侂寑毳?毵岆偁 頇曤鞚?臧€鞛?雴掛姷雼堧嫟.',
                'timingExplanationTemplate': '{explanation}',
                // 鎰熸儏骞翠唤棰勬祴棰濆闇€瑕佺殑缈昏瘧
                'year': '雲?,
                'probability': '頇曤',
                'soulmateYear': '鞖措獏鞚?頃?,
                'interpretationIntro': '雼轨嫚鞚?鞖措獏 攵勳劃鞐?霐半澕 雼れ潓',
                'soulmateYears': '雲勳澊 雼轨嫚鞚?鞖措獏鞚?頃挫瀰雼堧嫟',
                'noSoulmateYears': '鞐嗢潓',
                'noSoulmateInterpretation': '鞐嗢潓',
                'interpretationSuggestion': '鞝滌晥',
                'noSoulmateSuggestion': '鞐措Π 毵堨潓鞚?臧€歆€瓿?雿?毵庫潃 靷祼 頇滊彊鞐?彀胳棳頃橃劯鞖? 臧愳爼鞚€ 鞓堦赴旃?鞎婈矊 雮橅儉雮?靾?鞛堨姷雼堧嫟.',
                'emotionAppear': '臧愳爼鞚?雮橅儉雮?,
                // 椤佃剼缈昏瘧
                'footerCopyright': '漏 2024 鞝曥棸氚╈渼毵?,
                'footerDisclaimer': '鞚?霃勱惮電?彀戈碃鞖╈溂搿滊 鞝滉车霅╇媹雼? 鞖措獏鞚€ 雼轨嫚鞚?靻愳棎 鞛堨姷雼堧嫟',
                // 鎺ㄥ箍鏂囨湰缈昏瘧
                'promotionalText': '鞖半Μ鞚?,
                'zodiacTool': '鍏瓧鎰熸儏鏌ヨ宸ュ叿',
                'baziTool': '鍏瓧鎰熸儏鏌ヨ宸ュ叿',
                'getMoreAnalysis': '霃?鞁滊弰頃?氤挫劯鞖? 雿?毵庫潃 氇呺Μ 攵勳劃鞚?氚涭晞氤挫劯鞖?',
                'contactUs': '氍胳潣頃橁赴'
            }
        };
        
        // 褰撳墠璇█璁剧疆锛堥粯璁や负涓枃锛?
        let currentLang = 'zh-CN';
        
        // 缁熶竴缈昏瘧鍑芥暟
        function translate(key, lang = currentLang) {
            if (!translations[lang] || !translations[lang][key]) {
                console.warn(`Translation not found for key '${key}' in language '${lang}'`);
                return translations['zh-CN'][key] || key;
            }
            return translations[lang][key];
        }
        
        // 缈昏瘧鎵€鏈夊甫鏈塪ata-translate灞炴€х殑鍏冪礌
        function translateAllElements(langCode) {
            try {
                // 楠岃瘉璇█浠ｇ爜鏄惁鏈夋晥锛屽鏋滄棤鏁堝垯鍥為€€鍒伴粯璁よ瑷€
                if (!translations[langCode] || typeof translations[langCode] !== 'object') {
                    console.warn('鏃犳晥鐨勮瑷€浠ｇ爜鎴栫炕璇戝璞?', langCode, '- 鍥為€€鍒伴粯璁よ瑷€(zh-CN)');
                    langCode = 'zh-CN';
                }
                
                // 鏇存柊褰撳墠璇█璁剧疆
                currentLang = langCode;
                
                // 鏇存柊椤甸潰鏍囬
                document.title = translate('title', langCode);
                
                // 缈昏瘧鎵€鏈夊甫鏈塪ata-translate灞炴€х殑鍏冪礌
                const elements = document.querySelectorAll('[data-translate]');
                elements.forEach(element => {
                    const key = element.getAttribute('data-translate');
                    element.textContent = translate(key, langCode);
                });
                
                // 缈昏瘧鎵€鏈夊甫鏈塪ata-translate-placeholder灞炴€х殑鍏冪礌鐨勫崰浣嶇
                const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
                placeholderElements.forEach(element => {
                    const key = element.getAttribute('data-translate-placeholder');
                    element.placeholder = translate(key, langCode);
                });
                
                // 缈昏瘧缁撴灉鍐呭
                updateResultsTranslation();
            } catch (error) {
                console.error('缈昏瘧椤甸潰鏃跺嚭閿?', error);
                
                // 鏄剧ず闄嶇骇鎻愮ず
                showTranslationFallback(langCode);
            }
        }
        
        // 缈昏瘧鍔熻兘闄嶇骇鎻愮ず
        function showTranslationFallback(langCode) {
            try {
                // 鍒涘缓闄嶇骇鎻愮ず鍏冪礌
                var fallbackNotice = document.createElement('div');
                fallbackNotice.className = 'translation-fallback-notice';
                fallbackNotice.style.cssText = 'background-color: #fff3cd; border: 1px solid #ffeaa7; color: #856404; padding: 12px; margin: 10px 0; border-radius: 4px; font-size: 14px; text-align: center;';
                
                // 璁剧疆鎻愮ず鏂囨湰锛屼娇鐢ㄦ渶绠€鍗曠殑DOM鎿嶄綔纭繚鍏煎鎬?
                var message = document.createElement('p');
                message.textContent = '褰撳墠璇█鍔犺浇閬囧埌闂锛岄儴鍒嗗唴瀹瑰彲鑳芥樉绀轰负榛樿璇█銆?;
                fallbackNotice.appendChild(message);
                
                // 瀹夊叏鍦版坊鍔犲埌椤甸潰
                var container = document.getElementById('language-switcher') || 
                              document.querySelector('.container') || 
                              document.body;
                
                if (container && container.parentNode) {
                    // 濡傛灉鎵惧埌瀹瑰櫒锛屾彃鍏ュ埌瀹瑰櫒鐨勬渶鍓嶉潰
                    container.insertBefore(fallbackNotice, container.firstChild);
                } else if (document.body) {
                    // 鏈€鍚庨檷绾у埌鐩存帴娣诲姞鍒癰ody
                    document.body.insertBefore(fallbackNotice, document.body.firstChild);
                }
            } catch (e) {
                // 濡傛灉鎻愮ず涔熷け璐ヤ簡锛岃嚦灏戝湪鎺у埗鍙拌褰?
                console.error('鏄剧ず缈昏瘧闄嶇骇鎻愮ず澶辫触:', e);
            }
        }
        
        // 浜旇涓嬫媺鑿滃崟浜や簰閫昏緫
        function initElementDropdowns() {
            // 鑾峰彇鎵€鏈変笅鎷夎彍鍗曠浉鍏冲厓绱?
            const dropdownIds = [
                'position-day-master-element', 'my-element', 'partner-element',
                'year-stem', 'month-stem', 'day-stem', 'hour-stem',
                'year-branch', 'month-branch', 'day-branch', 'hour-branch'
            ];
            
            // 鍒涘缓宸ュ叿鍑芥暟锛岀畝鍖朿lass鎿嶄綔
            const hasClass = (elem, cls) => elem.classList ? elem.classList.contains(cls) : new RegExp('\\b' + cls + '\\b').test(elem.className);
            const addClass = (elem, cls) => {
                if (elem.classList) elem.classList.add(cls);
                else if (!hasClass(elem, cls)) elem.className += ' ' + cls;
            };
            const removeClass = (elem, cls) => {
                if (elem.classList) elem.classList.remove(cls);
                else elem.className = elem.className.replace(new RegExp('\\b' + cls + '\\b', 'g'), '').trim();
            };
            
            // 鍏抽棴鎵€鏈夎彍鍗曠殑鍑芥暟
            const closeAllMenus = () => {
                dropdownIds.forEach(dropdownId => {
                    const menu = document.getElementById(`${dropdownId}-menu`);
                    if (menu && hasClass(menu, 'show')) {
                        removeClass(menu, 'show');
                        removeClass(menu, 'top');
                        removeClass(menu, 'bottom');
                        // 绉婚櫎鎵€鏈夊唴鑱旀牱寮?
                        menu.removeAttribute('style');
                    }
                });
            };
            
            dropdownIds.forEach(dropdownId => {
                try {
                    const btn = document.getElementById(`${dropdownId}-btn`);
                    const menu = document.getElementById(`${dropdownId}-menu`);
                    const textElement = document.getElementById(`${dropdownId}-text`);
                    const hiddenInput = document.getElementById(dropdownId);
                    const options = menu ? menu.getElementsByTagName('button') : [];
                    
                    if (!btn || !menu || !textElement || !hiddenInput) {
                        console.warn(`浜旇涓嬫媺鑿滃崟鍏冪礌鏈壘鍒? ${dropdownId}`);
                        return;
                    }
                    
                    // 鍒濆鍖栨椂鏇存柊閫夐」鐨刟ctive鐘舵€?
                    const updateActiveOptions = () => {
                        for (let i = 0; i < options.length; i++) {
                            const option = options[i];
                            if (option.getAttribute('data-value') === hiddenInput.value) {
                                addClass(option, 'active');
                            } else {
                                removeClass(option, 'active');
                            }
                        }
                    };
                    updateActiveOptions();
                    
                    // 鍒囨崲涓嬫媺鑿滃崟鏄剧ず鐘舵€?
                    btn.onclick = function(e) {
                        // 闃绘鍐掓场
                        if (e) e.stopPropagation();
                        
                        // 鍏抽棴鍏朵粬鑿滃崟
                        dropdownIds.forEach(id => {
                            if (id !== dropdownId) {
                                const otherMenu = document.getElementById(`${id}-menu`);
                                if (otherMenu && hasClass(otherMenu, 'show')) {
                                    removeClass(otherMenu, 'show');
                                    removeClass(otherMenu, 'top');
                                    removeClass(otherMenu, 'bottom');
                                    otherMenu.removeAttribute('style');
                                }
                            }
                        });
                        
                        // 鍒囨崲褰撳墠鑿滃崟鏄剧ず鐘舵€?
                        const isShown = hasClass(menu, 'show');
                        
                        if (isShown) {
                            // 鍏抽棴鑿滃崟
                            removeClass(menu, 'show');
                            removeClass(menu, 'top');
                            removeClass(menu, 'bottom');
                            menu.removeAttribute('style');
                        } else {
                            // 璁剧疆瀹藉害
                            menu.style.width = btn.offsetWidth + 'px';
                            
                            // 璁＄畻鑿滃崟浣嶇疆锛屽垽鏂槸鍚戜笂杩樻槸鍚戜笅鏄剧ず
                            const rect = btn.getBoundingClientRect();
                            const viewportHeight = window.innerHeight;
                            
                            // 璁＄畻鑿滃崟鐨勬渶澶ч珮搴︼紝纭繚涓嶈秴鍑鸿鍙?
                            const maxHeightDown = viewportHeight - rect.bottom - 10;
                            const maxHeightUp = rect.top - 10;
                            
                            // 濡傛灉鍚戜笅鏄剧ず鐨勭┖闂磋冻澶燂紝灏卞悜涓嬫樉绀猴紝鍚﹀垯鍚戜笂鏄剧ず
                            if (maxHeightDown > 100) {
                                // 鍚戜笅鏄剧ず
                                addClass(menu, 'show');
                                addClass(menu, 'bottom');
                                removeClass(menu, 'top');
                                // 璁剧疆鏈€澶ч珮搴︼紝纭繚涓嶈秴鍑鸿鍙?
                                menu.style.maxHeight = maxHeightDown + 'px';
                            } else if (maxHeightUp > 100) {
                                // 鍚戜笂鏄剧ず
                                addClass(menu, 'show');
                                addClass(menu, 'top');
                                removeClass(menu, 'bottom');
                                // 璁剧疆鏈€澶ч珮搴︼紝纭繚涓嶈秴鍑鸿鍙?
                                menu.style.maxHeight = maxHeightUp + 'px';
                            } else {
                                // 绌洪棿閮戒笉瓒筹紝榛樿鍚戜笅鏄剧ず锛岃缃悎閫傜殑鏈€澶ч珮搴?
                                addClass(menu, 'show');
                                addClass(menu, 'bottom');
                                removeClass(menu, 'top');
                                menu.style.maxHeight = '200px';
                            }
                            
                            // 纭繚鑿滃崟鍙互婊氬姩
                            menu.style.overflowY = 'auto';
                        }
                        
                        // 鏇存柊閫夐」鐨刟ctive鐘舵€?
                        updateActiveOptions();
                    };
                    
                    // 閫夋嫨閫夐」
                    for (let i = 0; i < options.length; i++) {
                        const option = options[i];
                        option.onclick = function(e) {
                            // 闃绘鍐掓场
                            if (e) e.stopPropagation();
                            
                            const value = this.getAttribute('data-value');
                            const text = this.textContent.trim();
                            
                            // 鏇存柊鏂囨湰鍜岄殣钘廼nput鐨勫€?
                            textElement.textContent = text;
                            hiddenInput.value = value;
                            
                            // 鏇存柊active鐘舵€?
                            for (let j = 0; j < options.length; j++) {
                                removeClass(options[j], 'active');
                            }
                            addClass(this, 'active');
                            
                            // 鍏抽棴鑿滃崟
                            removeClass(menu, 'show');
                            removeClass(menu, 'top');
                            removeClass(menu, 'bottom');
                            menu.removeAttribute('style');
                            
                            // 瑙﹀彂change浜嬩欢锛岀‘淇濈浉鍏抽€昏緫鑳芥甯告墽琛?
                            const event = new Event('change', { bubbles: true });
                            hiddenInput.dispatchEvent(event);
                        };
                    }
                } catch (e) {
                    console.warn(`鍒濆鍖栦簲琛屼笅鎷夎彍鍗曞嚭閿? ${dropdownId}`, e);
                }
            });
            
            // 鐐瑰嚮澶栭儴鍏抽棴鑿滃崟
            const handleOutsideClick = function(e) {
                // 濡傛灉鐐瑰嚮鐨勬槸鎸夐挳鎴栬彍鍗曞唴鐨勫厓绱狅紝涓嶅叧闂?
                if (e.target.closest('[id$="-btn"]') || e.target.closest('[id$="-menu"]')) {
                    return;
                }
                
                // 鐩存帴鍏抽棴鎵€鏈夎彍鍗?
                closeAllMenus();
            };
            
            // 娣诲姞浜嬩欢鐩戝惉
            if (document.addEventListener) {
                document.addEventListener('click', handleOutsideClick);
            }
        }
        
        // 鍒濆鍖栦簲琛屼笅鎷夎彍鍗?
        if (window.addEventListener) {
            window.addEventListener('DOMContentLoaded', initElementDropdowns);
        } else if (window.attachEvent) {
            window.attachEvent('onload', initElementDropdowns);
        } else {
            // 闄嶇骇鏂规
            window.onload = function() {
                initElementDropdowns();
            };
        }
        
        // 娣诲姞璇█鍒囨崲涓嬫媺鑿滃崟浜嬩欢鐩戝惉 - 澧炲己鍏煎鎬х増鏈?
        function initLanguageSwitcher() {
            // 浣跨敤鏍囧噯DOM API
            var dropdownBtn = document.getElementById('language-dropdown-btn');
            var dropdownMenu = document.getElementById('language-dropdown-menu');
            var languageOptions = document.getElementsByClassName('language-option');
            var currentLanguageText = document.getElementById('current-language-text');
            
            if (!dropdownBtn || !dropdownMenu || !currentLanguageText) {
                console.warn('Language switcher elements not found');
                return;
            }
            
            // 鍒囨崲涓嬫媺鑿滃崟鏄剧ず/闅愯棌
            dropdownBtn.addEventListener('click', function() {
                // 鍒囨崲show绫?
                if (dropdownMenu.classList.contains('show')) {
                    dropdownMenu.classList.remove('show');
                } else {
                    dropdownMenu.classList.add('show');
                }
                
                // 娣诲姞鐐瑰嚮鎸夐挳鏃剁殑寰姩鐢绘晥鏋?
                var btn = this;
                btn.classList.add('scale-95');
                setTimeout(function() {
                    btn.classList.remove('scale-95');
                }, 200);
            });
            
            // 鐐瑰嚮椤甸潰鍏朵粬鍦版柟鍏抽棴涓嬫媺鑿滃崟
            document.addEventListener('click', function(event) {
                // 妫€鏌ヤ簨浠剁洰鏍囨槸鍚﹀湪涓嬫媺鎸夐挳鎴栬彍鍗曚腑
                var isClickInside = false;
                var parent = event.target;
                
                // 鍚戜笂閬嶅巻DOM妫€鏌ユ槸鍚﹀湪鐩爣鍏冪礌鍐?
                while (parent && parent !== document) {
                    if (parent === dropdownBtn || parent === dropdownMenu) {
                        isClickInside = true;
                        break;
                    }
                    parent = parent.parentNode;
                }
                
                if (!isClickInside) {
                    dropdownMenu.classList.remove('show');
                }
            });
            
            // 闃叉鐐瑰嚮涓嬫媺鑿滃崟鏃跺叧闂?
            dropdownMenu.addEventListener('click', function(event) {
                if (event.stopPropagation) {
                    event.stopPropagation();
                } else {
                    // IE鍏煎
                    event.cancelBubble = true;
                }
            });
            
            // 璇█閫夐」鐐瑰嚮浜嬩欢 - 浣跨敤for寰幆鏇夸唬forEach
            for (var i = 0; i < languageOptions.length; i++) {
                languageOptions[i].addEventListener('click', function() {
                    var newLang = this.getAttribute('data-lang');
                    var option = this;
                    var menu = dropdownMenu;
                    var currentText = currentLanguageText;
                    
                    // 娣诲姞鐐瑰嚮鍙嶉鍔ㄧ敾
                    option.classList.add('scale-98');
                    setTimeout(function() {
                        option.classList.remove('scale-98');
                    }, 150);
                    
                    // 鏇存柊閫夐」婵€娲荤姸鎬?
                    for (var j = 0; j < languageOptions.length; j++) {
                        languageOptions[j].classList.remove('active');
                    }
                    option.classList.add('active');
                    
                    // 鏇存柊褰撳墠鏄剧ず鐨勮瑷€鏂囨湰
                    var langName = option.textContent;
                    if (langName && typeof langName.trim === 'function') {
                        currentText.textContent = langName.trim();
                    } else {
                        currentText.textContent = langName || '';
                    }
                    
                    // 寤惰繜鍏抽棴涓嬫媺鑿滃崟
                    setTimeout(function() {
                        menu.classList.remove('show');
                    }, 200);
                    
                    // 娣诲姞椤甸潰鍒囨崲鐨勬贰鍏ユ晥鏋滅被
                    document.body.classList.add('language-transition');
                    
                    // 缈昏瘧椤甸潰
                    setTimeout(function() {
                        translateAllElements(newLang);
                        
                        // 绉婚櫎杩囨浮鏁堟灉绫?
                        setTimeout(function() {
                            document.body.classList.remove('language-transition');
                        }, 300);
                    }, 100);
                });
            }
        }
        
        // 鍒濆鍖栬瑷€鍒囨崲鍣?
        document.addEventListener('DOMContentLoaded', function() {
            initLanguageSwitcher();
            // 椤甸潰鍒濆鍖栨椂鎵ц缈昏瘧
            translateAllElements(currentLang);
        });
        
        // 鏇存柊缁撴灉鍐呭鐨勭炕璇?
        function updateResultsTranslation() {
            const lang = translations[currentLang];
            
            // 鏇存柊鎵€鏈夌粨鏋滄爣棰?
            const resultTitles = document.querySelectorAll('.result-title, .result-header h3');
            resultTitles.forEach(title => {
                const content = title.textContent;
                if (content.includes('鎰熸儏鏂逛綅') || content.includes('Destiny direction') || content.includes('閬嬪懡銇柟鍚?) || content.includes('鞖措獏鞚?氚╉枼')) {
                    title.textContent = lang.positionResultTitle || '鎰熸儏鏂逛綅缁撴灉';
                } else if (content.includes('鎯呬荆鍖归厤') || content.includes('Compatibility') || content.includes('鐩告€?) || content.includes('順疙櫂靹?)) {
                    title.textContent = lang.matchResultTitle || '鎯呬荆鍖归厤缁撴灉';
                } else if (content.includes('鎰熸儏骞翠唤') || content.includes('Destiny year') || content.includes('閬嬪懡銇勾') || content.includes('鞖措獏鞚?頃?)) {
                    title.textContent = lang.timingResultTitle || '鎰熸儏骞翠唤缁撴灉';
                }
            });
            
            // 鏇存柊缁撴灉鍏冪礌涓殑鏍囩鏂囨湰
            const resultLabels = document.querySelectorAll('.result-label, .result-item label');
            resultLabels.forEach(label => {
                // 杩欓噷鍙互鏍规嵁鏍囩鍐呭杩涜鏇寸簿纭殑缈昏瘧
                // 鏆傛椂淇濇寔鍘熸湁鍔熻兘
            });
            
            // 妫€鏌ユ槸鍚︽湁鎰熸儏鏂逛綅缁撴灉
            const positionContent = document.getElementById('position-content');
            if (positionContent && positionContent.dataset.originalResult) {
                try {
                    // 浣跨敤鍘熷鏁版嵁閲嶆柊鐢熸垚缁撴灉
                    const originalResult = JSON.parse(positionContent.dataset.originalResult);
                    if (typeof displayPositionResult === 'function') {
                        displayPositionResult(originalResult);
                    }
                } catch (e) {
                    console.error('Failed to update position result:', e);
                }
            }
            
            // 妫€鏌ユ槸鍚︽湁鎯呬荆鍖归厤缁撴灉
            const matchContent = document.getElementById('match-content');
            if (matchContent && matchContent.dataset.originalResult) {
                try {
                    const originalResult = JSON.parse(matchContent.dataset.originalResult);
                    if (typeof displayMatchResult === 'function') {
                        displayMatchResult(originalResult);
                    }
                } catch (e) {
                    console.error('Failed to update match result:', e);
                }
            }
            
            // 妫€鏌ユ槸鍚︽湁鎰熸儏骞翠唤缁撴灉
            const resultContent = document.getElementById('result-content');
            if (resultContent && resultContent.dataset.originalResult) {
                try {
                    const originalResult = JSON.parse(resultContent.dataset.originalResult);
                    if (typeof displayTimingResult === 'function') {
                        displayTimingResult(originalResult);
                    }
                } catch (e) {
                    console.error('Failed to update timing result:', e);
                }
            }
        }
        
        // 瀹氫箟澶╁共鍦版敮淇℃伅鍜屽叧绯绘槧灏?
        const stemInfo = {
            'jia': '鐢?,
            'yi': '涔?,
            'bing': '涓?,
            'ding': '涓?,
            'wu': '鎴?,
            'ji': '宸?,
            'geng': '搴?,
            'xin': '杈?,
            'ren': '澹?,
            'gui': '鐧?
        };
        
        const branchInfo = {
            'zi': '瀛?,
            'chou': '涓?,
            'yin': '瀵?,
            'mao': '鍗?,
            'chen': '杈?,
            'si': '宸?,
            'wu': '鍗?,
            'wei': '鏈?,
            'shen': '鐢?,
            'you': '閰?,
            'xu': '鎴?,
            'hai': '浜?
        };
        
        // 瀹氫箟鍦版敮鐨勪簲琛屽睘鎬?
        const branchToElement = {
            'zi': 'water',
            'chou': ['earth', 'water'],
            'yin': ['wood', 'fire'],
            'mao': 'wood',
            'chen': ['earth', 'water', 'wood'],
            'si': ['fire', 'metal'],
            'wu': 'fire',
            'wei': ['earth', 'fire'],
            'shen': ['metal', 'water'],
            'you': 'metal',
            'xu': ['earth', 'fire'],
            'hai': ['water', 'wood']
        };
        
        // 瀹氫箟鍏悎鍏崇郴
        const sixHarmonies = {
            'zi': 'chou',
            'chou': 'zi',
            'yin': 'hai',
            'hai': 'yin',
            'mao': 'xu',
            'xu': 'mao',
            'chen': 'you',
            'you': 'chen',
            'si': 'shen',
            'shen': 'si',
            'wu': 'wei',
            'wei': 'wu'
        };
        
        // 瀹氫箟鍏啿鍏崇郴
        const sixClashes = {
            'zi': 'wu',
            'wu': 'zi',
            'chou': 'wei',
            'wei': 'chou',
            'yin': 'shen',
            'shen': 'yin',
            'mao': 'you',
            'you': 'mao',
            'chen': 'xu',
            'xu': 'chen',
            'si': 'hai',
            'hai': 'si'
        };
        
        // 瀹氫箟鍏鍏崇郴
        const sixHarms = {
            'zi': 'wei',
            'wei': 'zi',
            'chou': 'wu',
            'wu': 'chou',
            'yin': 'you',
            'you': 'yin',
            'mao': 'shen',
            'shen': 'mao',
            'chen': 'hai',
            'hai': 'chen',
            'si': 'xu',
            'xu': 'si'
        };
        
        // 瀹氫箟鍦版敮鐩哥牬鍏崇郴
        const sixBreaks = {
            'zi': 'shen',
            'shen': 'zi',
            'chou': 'you',
            'you': 'chou',
            'yin': 'xu',
            'xu': 'yin',
            'mao': 'hai',
            'hai': 'mao',
            'chen': 'zi',
            'zi': 'chen',
            'si': 'chou',
            'chou': 'si',
            'wu': 'yin',
            'yin': 'wu',
            'wei': 'mao',
            'mao': 'wei'
        };
        
        // 瀹氫箟澶╁共鐨勭鍏崇郴
        const luRelationship = {
            'jia': 'yin',
            'yi': 'mao',
            'bing': '宸?,
            'ding': '鍗?,
            'wu': '杈?,
            'ji': '鎴?,
            'geng': '鐢?,
            'xin': '閰?,
            'ren': '浜?,
            'gui': '瀛?
        };
        
        // 鑾峰彇澶鏄燂紙鍩轰簬鎬у埆鍜屾棩涓诲ぉ骞诧級
        function getSpouseStar(gender, stem) {
            // 鐢锋€э細鎴戝厠鑰呬负濡绘槦锛堟牴鎹簲琛岀浉鍏嬪叧绯伙級
            // 濂虫€э細鍏嬫垜鑰呬负澶槦锛堟牴鎹簲琛岀浉鍏嬪叧绯伙級
            const fiveElements = {
                'jia': 'wood',  // 鐢叉湪
                'yi': 'wood',   // 涔欐湪
                'bing': 'fire', // 涓欑伀
                'ding': 'fire', // 涓佺伀
                'wu': 'earth',  // 鎴婂湡
                'ji': 'earth',  // 宸卞湡
                'geng': 'metal',// 搴氶噾
                'xin': 'metal', // 杈涢噾
                'ren': 'water', // 澹按
                'gui': 'water'  // 鐧告按
            };
            
            // 浜旇鐩稿厠鍏崇郴锛氶噾鍏嬫湪锛屾湪鍏嬪湡锛屽湡鍏嬫按锛屾按鍏嬬伀锛岀伀鍏嬮噾
            const elementRestrictions = {
                'metal': 'wood',   // 閲戝厠鏈?
                'wood': 'earth',   // 鏈ㄥ厠鍦?
                'earth': 'water',  // 鍦熷厠姘?
                'water': 'fire',   // 姘村厠鐏?
                'fire': 'metal'    // 鐏厠閲?
            };
            
            const stemElement = fiveElements[stem];
            let spouseElement;
            
            if (gender === 'male') {
                // 鐢锋€э細鎴戝厠鑰呬负濡绘槦
                spouseElement = elementRestrictions[stemElement];
            } else {
                // 濂虫€э細鍏嬫垜鑰呬负澶槦
                // 鎵惧埌鍝釜鍏冪礌鍏媠temElement
                spouseElement = Object.keys(elementRestrictions).find(key => 
                    elementRestrictions[key] === stemElement
                );
            }
            
            // 杩斿洖瀵瑰簲鍏冪礌鐨勫ぉ骞?
            return Object.keys(fiveElements).filter(key => 
                fiveElements[key] === spouseElement
            );
        }
        
        // 鑾峰彇澶鏄熷搴旂殑鍦版敮锛堝熀浜庢棩涓诲ぉ骞插拰鎬у埆锛?
        function getSpouseBranch(gender, stem) {
            // 杩欐槸涓€涓畝鍖栫殑鏄犲皠锛屽疄闄呭簲鐢ㄤ腑鍙兘闇€瑕佹洿澶嶆潅鐨勯€昏緫
            // 鍩轰簬鍗佺鍏崇郴鏉ョ‘瀹氬か濡绘槦瀵瑰簲鐨勫湴鏀?
            const spouseBranchMap = {
                'jia': 'shen', // 鐢茶鐢?
                'yi': 'you',   // 涔欒閰?
                'bing': 'zi',  // 涓欒瀛?
                'ding': 'chou',// 涓佽涓?
                'wu': 'yin',   // 鎴婅瀵?
                'ji': 'mao',   // 宸辫鍗?
                'geng': 'chen',// 搴氳杈?
                'xin': 'si',   // 杈涜宸?
                'ren': 'wu',   // 澹鍗?
                'gui': 'wei'   // 鐧歌鏈?
            };
            
            // 瀵逛簬濂虫€э紝鍙兘闇€瑕佽皟鏁村か濡绘槦瀵瑰簲鐨勫湴鏀?
            if (gender === 'female') {
                // 濂虫€ц皟鏁达細鍙嶈浆閮ㄥ垎鍏崇郴
                const femaleAdjustment = {
                    'jia': 'you',
                    'yi': 'shen',
                    'bing': 'chou',
                    'ding': 'zi',
                    'wu': 'mao',
                    'ji': 'yin',
                    'geng': 'si',
                    'xin': 'chen',
                    'ren': 'wei',
                    'gui': 'wu'
                };
                return femaleAdjustment[stem] || spouseBranchMap[stem];
            }
            
            return spouseBranchMap[stem];
        }
        
        // 璁＄畻缁欏畾骞翠唤鐨勫ぉ骞插湴鏀?
        function getYearPillar(year) {
            // 澶╁共椤哄簭锛氱敳銆佷箼銆佷笝銆佷竵銆佹垔銆佸繁銆佸簹銆佽緵銆佸，銆佺櫢
            const stems = ['jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui'];
            // 鍦版敮椤哄簭锛氬瓙銆佷笐銆佸瘏銆佸嵂銆佽景銆佸烦銆佸崍銆佹湭銆佺敵銆侀厜銆佹垖銆佷亥
            const branches = ['zi', 'chou', 'yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai'];
            
            // 浠?900骞翠负鍩哄噯锛?900骞存槸搴氬瓙骞?
            const baseYear = 1900;
            const yearOffset = year - baseYear;
            
            // 璁＄畻澶╁共绱㈠紩锛?900骞翠负搴氾紝绱㈠紩涓?锛?
            const stemIndex = (6 + yearOffset) % 10;
            // 璁＄畻鍦版敮绱㈠紩锛?900骞翠负瀛愶紝绱㈠紩涓?锛?
            const branchIndex = (0 + yearOffset) % 12;
            
            return {
                stem: stems[stemIndex < 0 ? stemIndex + 10 : stemIndex],
                branch: branches[branchIndex < 0 ? branchIndex + 12 : branchIndex]
            };
        }
        
        // 鏄剧ず鎰熸儏鏂逛綅缁撴灉锛堟敮鎸佸璇█锛?
        function displayPositionResult(result) {
            const content = document.getElementById('position-content');
            const loading = document.getElementById('position-loading');
            
            // 闅愯棌鍔犺浇鐘舵€侊紝鏄剧ず缁撴灉
            loading.classList.add('hidden');
            content.classList.remove('hidden');
            
            // 浣跨敤褰撳墠璇█鐨勬ā鏉跨敓鎴愮粨鏋滄枃鏈?
            const resultTitle = `<h3 class="result-title">${translate('positionResultTitle')}</h3>`;
            const resultText = translate('positionTemplate').replace('{direction}', result.direction);
            const explanationText = translate('positionExplanationTemplate')
                .replace('{element}', translate(result.element))
                .replace('{branch}', translate(result.branch));
            
            // 鏇存柊缁撴灉鍐呭
            content.innerHTML = `
                ${resultTitle}
                <div class="result-highlight">
                    <p>${resultText}</p>
                </div>
                <div class="info-box">
                    <h4>${translate('detailedExplanation')}</h4>
                    <p>${explanationText}</p>
                </div>
            `;
            
            // 瀛樺偍鍘熷缁撴灉鏁版嵁锛屼互渚胯瑷€鍒囨崲鏃堕噸鏂扮敓鎴?
            content.dataset.originalResult = JSON.stringify(result);
            
            // 鑷姩婊氬姩鍒扮粨鏋滃尯鍩燂紝鎻愬崌鐢ㄦ埛浣撻獙
            setTimeout(() => {
                const positionResult = document.getElementById('position-result');
                positionResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
        
        // 鏄剧ず鎯呬荆鍖归厤缁撴灉锛堟敮鎸佸璇█锛?
        function displayMatchResult(result) {
            const content = document.getElementById('match-content');
            const loading = document.getElementById('match-loading');
            
            // 闅愯棌鍔犺浇鐘舵€侊紝鏄剧ず缁撴灉
            loading.classList.add('hidden');
            content.classList.remove('hidden');
            
            // 浣跨敤褰撳墠璇█鐨勬ā鏉跨敓鎴愮粨鏋滄枃鏈?
            const scoreHTML = translate('matchScoreTemplate').replace('{score}', result.score);
            let explanationHTML = '<div class="space-y-2">';
            result.explanations.forEach(exp => {
                explanationHTML += `<p>鈥?${exp}</p>`;
            });
            explanationHTML += '</div>';
            
            // 鏇存柊缁撴灉鍐呭
            document.getElementById('match-score').innerHTML = scoreHTML;
            document.getElementById('match-explanation').innerHTML = explanationHTML;
            
            // 瀛樺偍鍘熷缁撴灉鏁版嵁锛屼互渚胯瑷€鍒囨崲鏃堕噸鏂扮敓鎴?
            content.dataset.originalResult = JSON.stringify(result);
            
            // 鑷姩婊氬姩鍒扮粨鏋滃尯鍩燂紝鎻愬崌鐢ㄦ埛浣撻獙
            setTimeout(() => {
                const matchResult = document.getElementById('location-match-result');
                matchResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
        
        // 鏄剧ず鎰熸儏骞翠唤缁撴灉锛堟敮鎸佸璇█锛?
        function displayTimingResult(result) {
            const resultContent = document.getElementById('result-content');
            const loading = document.getElementById('loading');
            
            // 闅愯棌鍔犺浇鐘舵€侊紝鏄剧ず缁撴灉
            loading.classList.add('hidden');
            resultContent.classList.remove('hidden');
            
            let timingHTML = '';
            let explanationHTML = '';
            
            if (result.years.length > 0) {
                // 鐢熸垚鎰熸儏骞翠唤鍒楄〃
                timingHTML = '';
                result.years.forEach(year => {
                    const conditionCount = year.conditions.length;
                    let displayProbability = '';
                    let displayText = '';
                    
                    if (conditionCount === 0) {
                        displayText = translate('probability') + ': ' + year.probability + '%';
                    } else if (conditionCount === 1) {
                        displayProbability = '30';
                        displayText = translate('probability') + ': 30%';
                    } else if (conditionCount === 2) {
                        displayProbability = '50';
                        displayText = translate('probability') + ': 50%';
                    } else {
                        displayProbability = '80';
                        displayText = translate('probability') + ': 80%';
                    }
                    
                    timingHTML += `
                        <div class="result-card soulmate-card">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h4 class="text-lg font-semibold">${year.year}${translate('year')}锛?{year.chinesePillar}锛?/h4>
                                    <p class="text-sm text-gray-600 mt-1">${displayText}</p>
                                </div>
                                <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded">${translate('soulmateYear')}</span>
                            </div>
                            ${conditionCount >= 3 ? `
                            <div class="probability-indicator mt-3">
                            <div class="probability-fill probability-high" style="width: ${displayProbability}%">
                            </div>
                        </div>` : ''}
                        </div>
                    `;
                });
                
                // 鐢熸垚璇︾粏瑙ｈ
                explanationHTML = `<p class="mb-4">${translate('interpretationIntro')} ${result.years.length} ${translate('soulmateYears')}锛?/p>`;
                
                result.years.forEach(year => {
                    const conditionCount = year.conditions.length;
                    let displayProbability = '';
                    let displayText = '';
                    
                    if (conditionCount === 0) {
                        displayText = translate('probability') + ': ' + year.probability + '%';
                    } else if (conditionCount === 1) {
                        displayProbability = '30';
                        displayText = translate('probability') + ': 30%';
                    } else if (conditionCount === 2) {
                        displayProbability = '50';
                        displayText = translate('probability') + ': 50%';
                    } else {
                        displayProbability = '80';
                        displayText = translate('probability') + ': 80%';
                    }
                    
                    explanationHTML += `
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold mb-2">${year.year}${translate('year')}锛?{year.chinesePillar}锛?/h4>
                        ${conditionCount >= 1 ? `
                    <div class="probability-indicator mb-3">
                        <div class="probability-fill probability-high" style="width: ${displayProbability}%"></div>
                    </div>` : ''}
                        <p class="text-sm text-gray-600 mb-2">${displayText}</p>
                        <ul class="list-disc pl-5">`;
                    
                    year.conditions.forEach(condition => {
                        explanationHTML += `<li class="mb-1">${condition}</li>`;
                    });
                    
                    explanationHTML += `
                        </ul>
                    </div>`;
                });
                
                explanationHTML += `<div class="mt-6 p-4 bg-amber-50 border-l-4 border-amber-400 rounded"><h4 class="font-semibold mb-2">${translate('warmTip')}</h4><p class="text-sm">${translate('timingTip')}</p></div>`;
            } else {
                timingHTML = ''; // 涓嶆樉绀轰换浣曞唴瀹?
                explanationHTML = `<p class="mb-4">${translate('noSoulmateInterpretation')}</p><div class="p-4 bg-blue-50 border-l-4 border-blue-400 rounded"><h4 class="font-semibold mb-2">${translate('interpretationSuggestion')}</h4><p class="text-sm">${translate('noSoulmateSuggestion')}</p></div>`;
            }
            
            // 鏇存柊缁撴灉鍐呭
            document.getElementById('result-timing').innerHTML = timingHTML;
            document.getElementById('result-explanation').innerHTML = explanationHTML;
            
            // 瀛樺偍鍘熷缁撴灉鏁版嵁锛屼互渚胯瑷€鍒囨崲鏃堕噸鏂扮敓鎴?
            resultContent.dataset.originalResult = JSON.stringify(result);
            
            // 鑷姩婊氬姩鍒扮粨鏋滃尯鍩燂紝鎻愬崌鐢ㄦ埛浣撻獙
            setTimeout(() => {
                const resultArea = document.getElementById('result-area');
                resultArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
        
        // 棰勬祴鎰熸儏骞翠唤鐨勪富鍑芥暟锛堟敮鎸佸璇█锛?
        function predictTiming(gender, stem, branch) {
            console.log('predictTiming鍑芥暟琚皟鐢紝鍙傛暟:', {gender, stem, branch});
            console.log('===== 鎰熸儏骞翠唤棰勬祴寮€濮?=====');
            
            try {
                // 鍙傛暟楠岃瘉
                if (!gender || !stem || !branch) {
                    console.error('predictTiming鍙傛暟楠岃瘉澶辫触:', {gender, stem, branch});
                    return {
                        years: [],
                        explanation: '杈撳叆鍙傛暟涓嶅畬鏁达紝璇锋鏌ユ偍鐨勯€夋嫨銆?
                    };
                }
                
                // 鍩虹鏁版嵁瀹氫箟
                const stems = ['jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui'];
                const stemsChinese = { 'jia': '鐢?, 'yi': '涔?, 'bing': '涓?, 'ding': '涓?, 'wu': '鎴?, 'ji': '宸?, 'geng': '搴?, 'xin': '杈?, 'ren': '澹?, 'gui': '鐧? };
                const branches = ['zi', 'chou', 'yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai'];
                const branchesChinese = { 'zi': '瀛?, 'chou': '涓?, 'yin': '瀵?, 'mao': '鍗?, 'chen': '杈?, 'si': '宸?, 'wu': '鍗?, 'wei': '鏈?, 'shen': '鐢?, 'you': '閰?, 'xu': '鎴?, 'hai': '浜? };
                
                // 鍛界悊鍏崇郴瀹氫箟
                const fiveElements = {
                    // 浜旇鐩哥敓鐩稿厠鍏崇郴
                    'jin': { 'generates': 'shui', 'restrains': 'mu' },
                    'mu': { 'generates': 'huo', 'restrains': 'tu' },
                    'tu': { 'generates': 'jin', 'restrains': 'shui' },
                    'shui': { 'generates': 'mu', 'restrains': 'huo' },
                    'huo': { 'generates': 'tu', 'restrains': 'jin' }
                };
                
                // 澶╁共浜斿悎
                const fiveCombining = {
                    'jia': 'ji', 'ji': 'jia',
                    'yi': 'geng', 'geng': 'yi',
                    'bing': 'xin', 'xin': 'bing',
                    'ding': 'ren', 'ren': 'ding',
                    'wu': 'gui', 'gui': 'wu'
                };
                
                // 鍦版敮鍏悎
                const sixHarmonies = {
                    'zi': 'chou', 'chou': 'zi',
                    'yin': 'hai', 'hai': 'yin',
                    'mao': 'xu', 'xu': 'mao',
                    'chen': 'you', 'you': 'chen',
                    'si': 'shen', 'shen': 'si',
                    'wu': 'wei', 'wei': 'wu'
                };
                
                // 鍏┛锛堝叚瀹筹級
                const sixHarms = {
                    'zi': 'wei', 'wei': 'zi',
                    'chou': 'wu', 'wu': 'chou',
                    'yin': 'si', 'si': 'yin',
                    'mao': 'chen', 'chen': 'mao',
                    'shen': 'hai', 'hai': 'shen',
                    'you': 'xu', 'xu': 'you'
                };
                
                // 浜岀牬
                const sixBreaks = {
                    'zi': 'mao', 'mao': 'zi',
                    'mao': 'wu', 'wu': 'mao'
                };
                
                // 骞叉敮鑷悎
                const selfCombining = ['jiawu', 'dinghai', 'wuzixu', 'xinsi', 'renwu', 'guisi'];
                
                // 澶╁共浜旇灞炴€?
                const stemElements = {
                    'jia': 'mu', 'yi': 'mu',
                    'bing': 'huo', 'ding': 'huo',
                    'wu': 'tu', 'ji': 'tu',
                    'geng': 'jin', 'xin': 'jin',
                    'ren': 'shui', 'gui': 'shui'
                };
                
                // 鍦版敮鏈皵
                const branchMainQi = {
                    'zi': ['gui'],
                    'chou': ['ji', 'gui'],
                    'yin': ['jia'],
                    'mao': ['yi'],
                    'chen': ['wu', 'gui'],
                    'si': ['bing', 'wu'],
                    'wu': ['ji', 'ding'],
                    'wei': ['yi', 'ji', 'ding'],
                    'shen': ['geng'],
                    'you': ['xin'],
                    'xu': ['wu', 'ding'],
                    'hai': ['ren']
                };
                
                // 澶╁共涔嬪垉
                const stemBlades = {
                    'jia': 'yi',
                    'bing': 'ding',
                    'geng': 'xin',
                    'ren': 'gui'
                };
                
                // 澶╁共涓洪槼骞叉垨闃村共
                const stemYinyang = {
                    'jia': 'yang', 'yi': 'yin',
                    'bing': 'yang', 'ding': 'yin',
                    'wu': 'yang', 'ji': 'yin',
                    'geng': 'yang', 'xin': 'yin',
                    'ren': 'yang', 'gui': 'yin'
                };
                
                // 鍦版敮涓洪槼鏀垨闃存敮
                const branchYinyang = {
                    'zi': 'yang', 'chou': 'yin',
                    'yin': 'yang', 'mao': 'yin',
                    'chen': 'yang', 'si': 'yin',
                    'wu': 'yang', 'wei': 'yin',
                    'shen': 'yang', 'you': 'yin',
                    'xu': 'yang', 'hai': 'yin'
                };
                
                // validateYinyangMatch鍑芥暟宸茬Щ鑷冲叏灞€浣滅敤鍩燂紝姝ゅ淇濈暀娉ㄩ噴
                
                // setupPillarValidation鍑芥暟宸茬Щ鑷冲叏灞€浣滅敤鍩燂紝姝ゅ淇濈暀娉ㄩ噴
                
                // checkAllPillarsValid鍑芥暟宸茬Щ鑷冲叏灞€浣滅敤鍩燂紝姝ゅ淇濈暀娉ㄩ噴
                
                // 璁＄畻骞存煴
                function getYearPillar(year) {
                    // 浠?900骞翠负鍩哄噯锛?900骞存槸搴氬瓙骞达紙搴氬瓙=6+0锛?
                    const baseYear = 1900;
                    const yearOffset = year - baseYear;
                    
                    // 璁＄畻澶╁共绱㈠紩锛?900骞翠负搴氾紝绱㈠紩涓?锛?
                    const stemIndex = (6 + yearOffset) % 10;
                    // 璁＄畻鍦版敮绱㈠紩锛?900骞翠负瀛愶紝绱㈠紩涓?锛?
                    const branchIndex = (0 + yearOffset) % 12;
                    
                    return {
                        stem: stems[stemIndex < 0 ? stemIndex + 10 : stemIndex],
                        branch: branches[branchIndex < 0 ? branchIndex + 12 : branchIndex]
                    };
                }
                
                // 妫€鏌ユ劅鎯呮潯浠剁殑涓诲嚱鏁?
                function checkSoulmateConditions(year, yearStem, yearBranch, gender, baZi) {
                    const conditions = [];
                    let totalScore = 0;
                    let isSoulmate = false;
                    
                    // 浠庡畬鏁村叓瀛椾腑鎻愬彇鏃ヤ富淇℃伅
                    const dayStem = baZi.dayStem;
                    const dayBranch = baZi.dayBranch;
                    
                    // 浠庡畬鏁村叓瀛椾腑鎻愬彇鎵€鏈夊ぉ骞插拰鍦版敮
                    const allStems = [baZi.yearStem, baZi.monthStem, baZi.dayStem, baZi.hourStem, yearStem];
                    const allBranches = [baZi.yearBranch, baZi.monthBranch, baZi.dayBranch, baZi.hourBranch, yearBranch];
                    
                    // 鏉′欢1锛氬ぉ骞蹭簲鍚?
                    if (fiveCombining[dayStem] === yearStem) {
                        conditions.push('澶╁共浜斿悎');
                        totalScore += 25;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢2锛氬湴鏀叚鍚?
                    if (sixHarmonies[dayBranch] === yearBranch) {
                        conditions.push('鍦版敮鍏悎');
                        totalScore += 20;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢3锛氬叚绌匡紙鍙€傜敤浜庡コ鍛斤級
                    if (gender === 'female' && sixHarms[dayBranch] === yearBranch) {
                        conditions.push('鍦版敮鍏┛');
                        totalScore += 15;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢4锛氫簩鐮?
                    if (sixBreaks[dayBranch] === yearBranch || sixBreaks[yearBranch] === dayBranch) {
                        conditions.push('鍦版敮浜岀牬');
                        totalScore += 10;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢5锛氬ぉ鍚堝湴鍚?
                    if (fiveCombining[dayStem] === yearStem && sixHarmonies[dayBranch] === yearBranch) {
                        conditions.push('澶╁悎鍦板悎');
                        totalScore += 30;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢6锛氬ぉ骞蹭箣鍒冨悎鏉€锛堝コ鍛斤級
                    // 鏍规嵁鐢ㄦ埛鎻愪緵鐨勫懡鐞嗚鍒欐纭疄鐜帮細
                    // 1. 鍙湁闃虫棩骞诧紙鐢蹭笝搴氬，锛夋墠鏈夊垉
                    // 2. 鍙湁濂冲懡閫傜敤姝よ鍒?
                    // 3. 闇€瑕佹鏌ュ師灞€涓槸鍚︽湁涓冩潃
                    if (gender === 'female') {
                        // 闃冲共锛氱敳涓欏簹澹紙鎴婂湡鏃犲垉锛?
                        const yangStemsWithBlade = ['jia', 'bing', 'geng', 'ren'];
                        if (yangStemsWithBlade.includes(dayStem)) {
                            // 鍒冪殑瀵瑰簲鍏崇郴锛氱敳鍒冧负涔欙紝涓欏垉涓轰竵锛屽簹鍒冧负杈涳紝澹垉涓虹櫢
                            const bladeMap = {
                                'jia': 'yi',
                                'bing': 'ding',
                                'geng': 'xin',
                                'ren': 'gui'
                            };
                            
                            // 涓冩潃鐨勫搴斿叧绯伙細鏃ヤ富澶╁共瀵瑰簲鐨勪竷鏉€
                            const killingOfficerMap = {
                                'jia': 'geng',  // 鐢叉棩涓讳竷鏉€涓哄簹
                                'bing': 'ren',  // 涓欐棩涓讳竷鏉€涓哄，
                                'geng': 'jia',  // 搴氭棩涓讳竷鏉€涓虹敳
                                'ren': 'bing'   // 澹棩涓讳竷鏉€涓轰笝
                            };
                            
                            const blade = bladeMap[dayStem];
                            const killingOfficer = killingOfficerMap[dayStem];
                            
                            // 鍘熷眬澶╁共锛堝勾鏌便€佹湀鏌便€佹椂鏌憋級
                            const baZiStems = [
                                baZi.yearStem,
                                baZi.monthStem,
                                baZi.hourStem
                            ];
                            
                            let hasBladeAndKillingOfficer = false;
                            
                            // 绗竴鏉￠€昏緫锛氭鏌ユ祦骞村ぉ骞叉槸鍚︿负鏃ヤ富鐨勫垉锛屼笖鍘熷眬涓瓨鍦ㄥ搴旂殑涓冩潃
                            if (yearStem === blade && baZiStems.some(stem => stem === killingOfficer)) {
                                hasBladeAndKillingOfficer = true;
                            }
                            
                            // 绗簩鏉￠€昏緫锛氭鏌ュ師灞€涓槸鍚︽湁鏃ヤ富鐨勫垉锛屼笖娴佸勾澶╁共涓哄搴旂殑涓冩潃
                            if (!hasBladeAndKillingOfficer && baZiStems.some(stem => stem === blade) && yearStem === killingOfficer) {
                                hasBladeAndKillingOfficer = true;
                            }
                            
                            // 濡傛灉婊¤冻浠讳竴鏉′欢锛屾坊鍔?澶╁共涔嬪垉鍚堟潃'鏍囪
                            if (hasBladeAndKillingOfficer) {
                                conditions.push('澶╁共涔嬪垉鍚堟潃');
                                totalScore += 25;
                                isSoulmate = true;
                            }
                        }
                    }
                    
                    // 鏉′欢7锛氬共鏀嚜鍚?
                    const currentPillar = dayStem + dayBranch;
                    if (selfCombining.includes(currentPillar) && dayStem === yearStem && dayBranch === yearBranch) {
                        conditions.push('骞叉敮鑷悎');
                        totalScore += 25;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢8锛氱敺鍛借储鏄熴€佸コ鍛藉畼鏉€锛堟劅鎯呭嚭鐜帮級
                    if (gender === 'male') {
                        // 鐢峰懡锛氭垜鍏嬭€呬负璐?濡?
                        const myElement = stemElements[dayStem];
                        const yearElement = stemElements[yearStem];
                        if (fiveElements[myElement] && fiveElements[myElement].restrains === yearElement) {
                            // 鑾峰彇骞存湀澶╁共锛堝師灞€淇℃伅锛?
                            const originalYearStem = document.getElementById('year-stem')?.value || '';
                            const originalMonthStem = document.getElementById('month-stem')?.value || '';
                            
                            // 妫€鏌ュ勾鏈堝ぉ骞叉槸鍚︽湁姣斿姭锛堜笌鏃ュ厓鍚屼簲琛岋級
                            const hasBiJie = (originalYearStem && stemElements[originalYearStem] === myElement) || 
                                           (originalMonthStem && stemElements[originalMonthStem] === myElement);
                            
                            if (hasBiJie) {
                                conditions.push('鐢峰懡璐㈡槦鏄撅紝浣嗗勾鏈堟湁姣斿姭锛屾劅鎯呭嚭鐜颁篃鏄埆浜虹殑');
                                totalScore += 15; // 闄嶄綆鏉冮噸
                                isSoulmate = false; // 涓嶆槸鎰熸儏
                            } else {
                                conditions.push('鐢峰懡璐㈡槦鏄?);
                                totalScore += 30; // 澧炲姞璐㈡槦鐨勬潈閲?
                                isSoulmate = true;
                            }
                        }
                    } else {
                        // 濂冲懡锛氳鍏嬭€呬负瀹樻潃=澶?鎴?鎴戝厠鑰呬篃浠ｈ〃鐢蜂汉鎴栬€呮劅鎯?
                        const myElement = stemElements[dayStem];
                        const yearElement = stemElements[yearStem];
                        if (fiveElements[yearElement] && fiveElements[yearElement].restrains === myElement) {
                            conditions.push('濂冲懡瀹樻潃鏄?);
                            totalScore += 30;
                            isSoulmate = true;
                        } else if (fiveElements[myElement] && fiveElements[myElement].restrains === yearElement) {
                            // 鑾峰彇骞存湀澶╁共锛堝師灞€淇℃伅锛?
                            const originalYearStem = document.getElementById('year-stem')?.value || '';
                            const originalMonthStem = document.getElementById('month-stem')?.value || '';
                            
                            // 妫€鏌ュ勾鏈堝ぉ骞叉槸鍚︽湁姣斿姭锛堜笌鏃ュ厓鍚屼簲琛岋級
                            const hasBiJie = (originalYearStem && stemElements[originalYearStem] === myElement) || 
                                           (originalMonthStem && stemElements[originalMonthStem] === myElement);
                            
                            if (hasBiJie) {
                                conditions.push('鎴戝厠鑰呬负璐㈣〃绀烘劅鎯呭嚭鐜帮紝浣嗗勾鏈堟湁姣斿姭锛屾劅鎯呭嚭鐜颁篃鏄埆浜虹殑');
                                totalScore += 10; // 闄嶄綆鏉冮噸
                                isSoulmate = false; // 涓嶆槸鎰熸儏
                            } else {
                                conditions.push('鎴戝厠鑰呬负璐㈣〃绀烘劅鎯呭嚭鐜?);
                                totalScore += 20;
                                isSoulmate = true;
                            }
                        }
                    }
                    
                    // 鏉′欢9锛氬か濡诲涓虹琚┛鐮达紙浠呴€傜敤浜庡コ鍛斤級
                    // 鍗佸ぉ骞茬殑绂勪綅锛氱敳绂勫湪瀵咃紝涔欑鍦ㄥ嵂锛屼笝绂勫湪宸筹紝涓佺鍦ㄥ崍锛屾垔绂勫湪宸筹紝宸辩鍦ㄥ崍锛屽簹绂勫湪鐢筹紝杈涚鍦ㄩ厜锛屽，绂勫湪浜ワ紝鐧哥鍦ㄥ瓙
                    const stemLuMap = {
                        'jia': 'yin',
                        'yi': 'mao',
                        'bing': 'si',
                        'ding': 'wu',
                        'wu': 'si',
                        'ji': 'wu',
                        'geng': 'shen',
                        'xin': 'you',
                        'ren': 'hai',
                        'gui': 'zi'
                    };
                    
                    // 鍙湁褰撴棩鏀槸鏃ュ共鐨勭浣嶆椂锛屾墠妫€鏌ユ槸鍚﹁绌跨牬
                    if (gender === 'female' && stemLuMap[dayStem] === dayBranch) {
                        if (sixHarms[dayBranch] === yearBranch || (sixBreaks[dayBranch] === yearBranch || sixBreaks[yearBranch] === dayBranch)) {
                            conditions.push('澶瀹琚┛鐮?);
                            totalScore += 15;
                            isSoulmate = true;
                        }
                    }
                    
                    // 鏉′欢10锛氬か濡诲鍦版敮鏈皵浠ユ祦骞村舰寮忓睍鐜板湪澶╁共涓婁笖琚棩骞插悎浣?
                    const branchMainQis = branchMainQi[dayBranch] || [];
                    if (branchMainQis.includes(yearStem) && fiveCombining[dayStem] === yearStem) {
                        conditions.push('澶瀹湰姘旇鏃ュ共鍚堜綇');
                        totalScore += 20;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢11锛氭祦骞村拰鏃ユ煴鐩稿悓涓斿共鏀嚜鍚?
                    if (dayStem === yearStem && dayBranch === yearBranch && selfCombining.includes(dayStem + dayBranch)) {
                        conditions.push('娴佸勾涓庢棩鏌辩浉鍚屼笖骞叉敮鑷悎');
                        totalScore += 30;
                        isSoulmate = true;
                    }
                    
                    // 鏉′欢12锛氫激瀹樺悎鏉€鑰呬唬琛ㄦ兂璋堟亱鐖憋紝鎰熸儏鍑虹幇锛堥槾澶╁共鐨勪激瀹樺悎鏉€锛屽彧閽堝濂冲懡锛?
                    // 浼ゅ畼鍚堟潃鐨勫叿浣撶粍鍚堬紝闇€瑕佷激瀹樹笌瀹樻潃鐩镐簰鍚?
                    // 涔欎激瀹樹负涓欏烦鍚堝簹鐢抽噾瀹樻潃锛涗竵浼ゅ畼涓烘垔鍚堢櫢姘村畼鏉€锛?
                    // 宸变激瀹樺簹鐢冲悎涔欏嵂鏈ㄥ畼鏉€锛涜緵浼ゅ畼澹亥鍚堜竵鍗堢伀瀹樻潃锛?
                    // 鐧镐激瀹樼敳瀵呭悎宸变笐瀹樻潃
                    
                    // 鍙拡瀵瑰コ鍛?
                    if (gender === 'female') {
                        // 妫€鏌ユ槸鍚︿负闃村ぉ骞?
                        if (stemYinyang[dayStem] === 'yin') {
                        let hasInjuryOfficerCombiningKilling = false;
                        
                        // 鍒嗗埆澶勭悊姣忎釜闃村ぉ骞茬殑浼ゅ畼鍚堟潃鎯呭喌
                        switch (dayStem) {
                            case 'yi': {
                                // 涔欑殑浼ゅ畼鏄笝/宸筹紝瀹樻潃鏄簹/鐢?
                                // 妫€鏌ユ槸鍚﹀瓨鍦ㄤ笝涓庡簹鍚堬紝鎴栧烦涓庣敵鍚?
                                const hasBingGengCombination = allStems.includes('bing') && allStems.includes('geng');
                                const hasSiShenCombination = allBranches.includes('si') && allBranches.includes('shen');
                                hasInjuryOfficerCombiningKilling = hasBingGengCombination || hasSiShenCombination;
                                break;
                            }
                            case 'ding': {
                                // 涓佺殑浼ゅ畼鏄垔锛屽畼鏉€鏄櫢
                                // 妫€鏌ユ槸鍚﹀瓨鍦ㄦ垔涓庣櫢鍚?
                                hasInjuryOfficerCombiningKilling = allStems.includes('wu') && allStems.includes('gui');
                                break;
                            }
                            case 'ji': {
                                // 宸辩殑浼ゅ畼鏄簹/鐢筹紝瀹樻潃鏄箼/鍗?
                                // 妫€鏌ユ槸鍚﹀瓨鍦ㄥ簹涓庝箼鍚堬紝鎴栫敵涓庡嵂鍚?
                                const hasGengYiCombination = allStems.includes('geng') && allStems.includes('yi');
                                const hasShenMaoCombination = allBranches.includes('shen') && allBranches.includes('mao');
                                hasInjuryOfficerCombiningKilling = hasGengYiCombination || hasShenMaoCombination;
                                break;
                            }
                            case 'xin': {
                                // 杈涚殑浼ゅ畼鏄，/浜ワ紝瀹樻潃鏄竵/鍗?
                                // 妫€鏌ユ槸鍚﹀瓨鍦ㄥ，涓庝竵鍚堬紝鎴栦亥涓庡崍鍚?
                                const hasRenDingCombination = allStems.includes('ren') && allStems.includes('ding');
                                const hasHaiWuCombination = allBranches.includes('hai') && allBranches.includes('wu');
                                hasInjuryOfficerCombiningKilling = hasRenDingCombination || hasHaiWuCombination;
                                break;
                            }
                            case 'gui': {
                                // 鐧哥殑浼ゅ畼鏄敳/瀵咃紝瀹樻潃鏄繁/涓?
                                // 妫€鏌ユ槸鍚﹀瓨鍦ㄧ敳涓庡繁鍚堬紝鎴栧瘏涓庝笐鍚?
                                const hasJiaJiCombination = allStems.includes('jia') && allStems.includes('ji');
                                const hasYinChouCombination = allBranches.includes('yin') && allBranches.includes('chou');
                                hasInjuryOfficerCombiningKilling = hasJiaJiCombination || hasYinChouCombination;
                                break;
                            }
                        }
                        
                        if (hasInjuryOfficerCombiningKilling) {
                            conditions.push('浼ゅ畼鍚堟潃');
                            totalScore += 40; // 鍗?0%鐨勬鐜?
                            isSoulmate = true;
                        }
                        }
                    }
                    
                    // 涓嶆槸鎰熸儏鐨勬潯浠讹細娴佸勾澶╁共鍑虹幇璐㈡槦锛屼絾灞€涓湁姣斿姭鍚堣储鏄?
                    const isNotSoulmate = false; // 杩欓噷绠€鍖栧鐞嗭紝瀹為檯搴旂敤涓渶瑕佸師灞€淇℃伅
                    
                    return {
                        isSoulmate: isSoulmate && !isNotSoulmate,
                        conditions: conditions,
                        score: Math.min(100, totalScore)
                    };
                }
                
                // 涓婚€昏緫锛氬垎鏋愭湭鏉?骞?
                const currentYear = new Date().getFullYear();
                const matchYears = [];
                
                for (let year = currentYear; year <= currentYear + 5; year++) {
                    const yearPillar = getYearPillar(year);
                    const yearStem = yearPillar.stem;
                    const yearBranch = yearPillar.branch;
                    const yearPillarChinese = stemsChinese[yearStem] + branchesChinese[yearBranch];
                    
                    // 鐗瑰埆涓?025骞村拰2026骞存坊鍔犺缁嗘棩蹇楋紝渚夸簬鍒嗘瀽
                    if (year === 2025 || year === 2026) {
                        console.log(`===== 璇︾粏鍒嗘瀽${year}骞?${yearPillarChinese}) =====`);
                        console.log(`鏃ユ煴: ${stem}${branch}, 骞存煴: ${yearStem}${yearBranch}`);
                        // 妫€鏌ュ悇涓潯浠?
                        console.log(`鏉′欢1-澶╁共浜斿悎: ${fiveCombining[stem] === yearStem}`);
                        console.log(`鏉′欢2-鍦版敮鍏悎: ${sixHarmonies[branch] === yearBranch}`);
                        console.log(`鏉′欢3-鍏┛: ${gender === 'female' && sixHarms[branch] === yearBranch}`);
                        console.log(`鏉′欢4-浜岀牬: ${sixBreaks[branch] === yearBranch || sixBreaks[yearBranch] === branch}`);
                        console.log(`鏉′欢5-澶╁悎鍦板悎: ${fiveCombining[stem] === yearStem && sixHarmonies[branch] === yearBranch}`);
                        // 鐢峰懡璐㈡槦妫€鏌?
                        if (gender === 'male') {
                            const myElement = stemElements[stem];
                            const yearElement = stemElements[yearStem];
                            const isMaleWealth = fiveElements[myElement] && fiveElements[myElement].restrains === yearElement;
                            console.log(`鏉′欢8-鐢峰懡璐㈡槦鏄? ${isMaleWealth} (myElement=${myElement}, yearElement=${yearElement})`);
                        }
                    }
                    
                    console.log(`鍒嗘瀽骞翠唤: ${year}(${yearPillarChinese})`);
                    
                    // 鏋勫缓瀹屾暣鐨勫叓瀛椾俊鎭璞?
                    const baZi = {
                        yearStem: document.getElementById('year-stem')?.value || 'jia',
                        yearBranch: document.getElementById('year-branch')?.value || 'zi',
                        monthStem: document.getElementById('month-stem')?.value || 'jia',
                        monthBranch: document.getElementById('month-branch')?.value || 'yin',
                        dayStem: stem,
                        dayBranch: branch,
                        hourStem: document.getElementById('hour-stem')?.value || 'jia',
                        hourBranch: document.getElementById('hour-branch')?.value || 'zi'
                    };
                    
                    // 妫€鏌ユ劅鎯呮潯浠?
                    const result = checkSoulmateConditions(year, yearStem, yearBranch, gender, baZi);
                    
                    // 鏍规嵁鍛戒腑鏉′欢鏁伴噺璁剧疆姒傜巼
                    let probability;
                    const conditionCount = result.conditions.length;
                    if (conditionCount >= 3) {
                        probability = 80; // 鈮?鏉¤鍒欙紝姒傜巼80%
                    } else if (conditionCount === 2) {
                        probability = 50; // =2鏉¤鍒欙紝姒傜巼50%
                    } else if (conditionCount === 1) {
                        probability = 30; // =1鏉¤鍒欙紝姒傜巼30%
                    } else {
                        probability = result.score; // 鏃犲懡涓潯浠舵椂浣跨敤鍘熷垎鏁?
                    }
                    probability = Math.max(0, Math.min(100, probability));
                    
                    // 鏋勫缓骞翠唤缁撴灉瀵硅薄
                    matchYears.push({
                        year: year,
                        probability: probability,
                        isSoulmate: result.isSoulmate && probability >= 30, // 闄嶄綆闃堝€硷紝璁╂洿澶氬勾浠借兘琚樉绀?
                        conditions: result.conditions,
                        stem: yearStem,
                        branch: yearBranch,
                        chinesePillar: yearPillarChinese,
                        matchCount: result.conditions.length
                    });
                }
                
                // 杩囨护鍑烘劅鎯呭勾浠?
                let soulmateYears = matchYears.filter(year => year.isSoulmate);
                
                // 濡傛灉娌℃湁鎰熸儏骞翠唤锛屼絾鏈夋鐜囪緝楂樼殑骞翠唤锛屽皢姒傜巼鏈€楂樼殑1-2涓勾浠戒篃瑙嗕负鎰熸儏
                if (soulmateYears.length === 0) {
                    // 鎸夋鐜囬檷搴忔帓搴忔墍鏈夊勾浠?
                    const sortedByProbability = [...matchYears].sort((a, b) => b.probability - a.probability);
                    
                    // 閫夊彇姒傜巼杈冮珮鐨勫勾浠斤紙鑷冲皯30%锛変綔涓鸿ˉ鍏呮劅鎯?
                    const highProbabilityYears = sortedByProbability.filter(year => year.probability >= 30);
                    
                    if (highProbabilityYears.length > 0) {
                        // 娣诲姞姒傜巼鏈€楂樼殑1-2涓勾浠?
                        const additionalYears = highProbabilityYears.slice(0, 2);
                        additionalYears.forEach(year => {
                            year.isSoulmate = true;
                            // 濡傛灉娌℃湁鏉′欢锛屾坊鍔犻粯璁ゆ潯浠?
                            if (year.conditions.length === 0) {
                                year.conditions = ['鎰熸儏鏃舵満閫愭笎鎴愮啛', '閫傚悎绉瀬鎷撳睍绀句氦鍦?];
                            }
                        });
                        soulmateYears = additionalYears;
                    } else {
                        console.log('娌℃湁鎵惧埌绗﹀悎鏉′欢鐨勬劅鎯呭勾浠?);
                    }
                }
                
                // 鎺掑簭锛氭劅鎯呮鐜囬珮鐨勫勾浠芥帓鍦ㄥ墠闈?
                soulmateYears.sort((a, b) => b.probability - a.probability);
                
                // 杩囨护鎺夋潯浠朵腑鍖呭惈'骞存湀鏈夋瘮鍔?鐨勫勾浠斤紝鍥犱负杩欒〃绀烘槸鍒汉鐨勭紭鍒?
                soulmateYears = soulmateYears.filter(year => {
                    return !year.conditions.some(condition => condition.includes('骞存湀鏈夋瘮鍔?));
                });
                
                // 闄愬埗缁撴灉鏁伴噺
                soulmateYears = soulmateYears.slice(0, 3);
                
                // 鐢熸垚瑙ｉ噴
                let explanation = '';
                if (soulmateYears.length > 0) {
                    explanation = `鏍规嵁鎮ㄧ殑鏃ユ煴${stemsChinese[stem] || stem}${branchesChinese[branch] || branch}鍒嗘瀽锛宍;
                    explanation += soulmateYears.length > 1 ? 
                        `${soulmateYears.map(y => y.year).join('骞淬€?)}骞存槸鎮ㄩ亣鍒版劅鎯呯殑杈冩湁鍒╂椂鏈恒€俙 :
                        `${soulmateYears[0].year}骞存槸鎮ㄩ亣鍒版劅鎯呯殑鏈€浣虫椂鏈猴紝姒傜巼绾︿负${soulmateYears[0].probability}%銆俙;
                } else {
                    explanation = '鏍规嵁鍒嗘瀽锛屽缓璁繚鎸佺Н鏋佸績鎬侊紝鎰熸儏鍙兘鍦ㄤ笉缁忔剰闂村埌鏉ャ€?;
                }
                
                const result = { 
                    years: soulmateYears,
                    explanation: explanation
                };
                
                console.log('鎰熸儏骞翠唤棰勬祴缁撴灉:', result);
                console.log('===== 鎰熸儏骞翠唤棰勬祴缁撴潫 =====');
                return result;
            } catch (error) {
                console.error('===== 鎰熸儏骞翠唤棰勬祴鍑洪敊 =====', error);
                
                // 鍗充娇鍑洪敊涔熻杩斿洖淇濆簳缁撴灉
                const currentYear = new Date().getFullYear();
                return { 
                    years: [
                        { 
                            year: currentYear + 1,
                            probability: 75,
                            isSoulmate: true,
                            chinesePillar: '涓欏崍',
                            conditions: ['绯荤粺榛樿鍒嗘瀽'],
                            stem: 'bing',
                            branch: 'wu',
                            matchCount: 1
                        },
                        { 
                            year: currentYear + 2,
                            probability: 65,
                            isSoulmate: true,
                            chinesePillar: '涓佹湭',
                            conditions: ['绯荤粺榛樿鍒嗘瀽'],
                            stem: 'ding',
                            branch: 'wei',
                            matchCount: 1
                        }
                    ],
                    explanation: '绯荤粺宸蹭娇鐢ㄩ粯璁ゆ暟鎹繘琛屽垎鏋愶紝璇峰弬鑰冪粨鏋溿€?
                };
            }
        }
        
        // 鍒涘缓璇︾粏鐨勬祴璇曞嚱鏁版潵楠岃瘉predictTiming瀹炵幇
        function testPredictTiming() {
            console.log('===== 璇︾粏娴嬭瘯鎰熸儏骞翠唤棰勬祴妯″潡 =====');
            
            // 娴嬭瘯涓嶅悓鎬у埆鍜屾棩鏌辩殑鎯呭喌
            const testCases = [
                { gender: 'male', stem: 'jia', branch: 'zi', name: '鐢峰懡鐢插瓙鏃? },
                { gender: 'female', stem: 'yi', branch: 'mao', name: '濂冲懡涔欏嵂鏃? },
                { gender: 'male', stem: 'bing', branch: 'wu', name: '鐢峰懡涓欏崍鏃? },
                { gender: 'female', stem: 'ding', branch: 'wei', name: '濂冲懡涓佹湭鏃? },
                { gender: 'male', stem: 'wu', branch: 'chen', name: '鐢峰懡鎴婅景鏃? },
                { gender: 'female', stem: 'ji', branch: 'chou', name: '濂冲懡宸变笐鏃? },
                { gender: 'male', stem: 'geng', branch: 'shen', name: '鐢峰懡搴氱敵鏃? },
                { gender: 'female', stem: 'xin', branch: 'you', name: '濂冲懡杈涢厜鏃? },
                { gender: 'male', stem: 'ren', branch: 'hai', name: '鐢峰懡鐧镐亥鏃? },
                { gender: 'female', stem: 'gui', branch: 'zi', name: '濂冲懡鐧镐笐鏃? }
            ];
            
            let allTestsPassed = true;
            const currentYear = new Date().getFullYear();
            
            testCases.forEach((testCase, index) => {
                try {
                    console.log(`\n娴嬭瘯鐢ㄤ緥 ${index + 1}/${testCases.length}: ${testCase.name}`);
                    console.log(`  鍙傛暟: gender=${testCase.gender}, stem=${testCase.stem}, branch=${testCase.branch}`);
                    
                    // 鎵ц棰勬祴
                    console.time(`  鎵ц鏃堕棿`);
                    const result = predictTiming(testCase.gender, testCase.stem, testCase.branch);
                    console.timeEnd(`  鎵ц鏃堕棿`);
                    
                    // 楠岃瘉杩斿洖鏍煎紡
                    console.log('  楠岃瘉缁撴灉鏍煎紡...');
                    const hasValidStructure = result && 
                        Array.isArray(result.years) && 
                        typeof result.explanation === 'string';
                    
                    const hasValidYears = result.years.every(year => {
                        return year &&
                            typeof year.year === 'number' &&
                            year.year >= currentYear &&
                            typeof year.probability === 'number' &&
                            year.probability >= 0 && year.probability <= 100 &&
                            Array.isArray(year.conditions) &&
                            typeof year.chinesePillar === 'string' &&
                            typeof year.matchCount === 'number';
                    });
                    
                    console.log(`  缁撴瀯楠岃瘉: ${hasValidStructure ? '閫氳繃' : '澶辫触'}`);
                    console.log(`  骞翠唤鏁版嵁楠岃瘉: ${hasValidYears ? '閫氳繃' : '澶辫触'}`);
                    console.log(`  棰勬祴鐨勬劅鎯呭勾浠芥暟: ${result.years.length}`);
                    
                    // 杈撳嚭璇︾粏缁撴灉
                    if (result.years.length > 0) {
                        console.log('  鎰熸儏骞翠唤璇︽儏:');
                        result.years.forEach(year => {
                            console.log(`    - ${year.year}骞?${year.chinesePillar}): 姒傜巼=${year.probability}%, 鍖归厤鏉′欢鏁?${year.matchCount}`);
                            console.log(`      鏉′欢: ${year.conditions.join(', ')}`);
                        });
                    } else {
                        console.log('  鏈壘鍒板尮閰嶇殑鎰熸儏骞翠唤');
                    }
                    
                    console.log(`  瑙ｉ噴鏂囨湰: ${result.explanation}`);
                    
                    // 鏍囪娴嬭瘯缁撴灉
                    if (!hasValidStructure || !hasValidYears) {
                        allTestsPassed = false;
                        console.log('  娴嬭瘯鐘舵€? 鉂?澶辫触');
                    } else {
                        console.log('  娴嬭瘯鐘舵€? 鉁?閫氳繃');
                    }
                    
                    // 瀵瑰墠涓や釜娴嬭瘯鐢ㄤ緥杩涜鏄剧ず鍑芥暟娴嬭瘯
                    if (index < 2) {
                        try {
                            console.log('  娴嬭瘯displayTimingResult鍑芥暟...');
                            // 淇濆瓨褰撳墠DOM鐘舵€?
                            const resultContent = document.getElementById('result-content');
                            const originalDisplay = resultContent.style.display;
                            
                            // 鎵ц鏄剧ず鍑芥暟
                            displayTimingResult(result);
                            console.log('  displayTimingResult娴嬭瘯: 鉁?鎴愬姛');
                            
                            // 鎭㈠鍘熷鐘舵€?
                            resultContent.style.display = originalDisplay;
                        } catch (displayError) {
                            console.error('  displayTimingResult娴嬭瘯: 鉂?澶辫触', displayError);
                            allTestsPassed = false;
                        }
                    }
                    
                } catch (error) {
                    console.error(`娴嬭瘯鐢ㄤ緥 ${index + 1} 鎵ц閿欒:`, error);
                    allTestsPassed = false;
                }
            });
            
            // 杈撳嚭鎬讳綋缁撴灉
            console.log('\n===== 娴嬭瘯鎬荤粨 =====');
            console.log(`鎬讳綋缁撴灉: ${allTestsPassed ? '鉁?鍏ㄩ儴閫氳繃' : '鉂?閮ㄥ垎澶辫触'}`);
            console.log(`娴嬭瘯鐢ㄤ緥鎬绘暟: ${testCases.length}`);
            console.log('===================');
            
            return allTestsPassed;
        }
        
        // 鍦ㄩ〉闈㈠姞杞藉畬鎴愬悗鑷姩杩愯娴嬭瘯
        window.addEventListener('load', function() {
            setTimeout(function() {
                console.log('椤甸潰鍔犺浇瀹屾垚锛屽紑濮嬪垵濮嬪寲娴嬭瘯...');
                testPredictTiming();
                console.log('娴嬭瘯瀹屾垚锛岃鏌ョ湅鎺у埗鍙版棩蹇楄幏鍙栬缁嗕俊鎭?);
            }, 1000); // 寤惰繜1绉掕繍琛屾祴璇曪紝纭繚鎵€鏈変緷璧栭兘宸插姞杞?
        });
        
        // 閲嶇疆鎰熸儏骞翠唤棰勬祴
        function resetTiming() {
            // 閲嶇疆鎬у埆閫夋嫨涓洪粯璁ゅ€硷紙鐢凤級
            const maleRadio = document.querySelector('input[name="timing-gender"][value="male"]');
            if (maleRadio) {
                maleRadio.checked = true;
                // 鏇存柊閫変腑鐘舵€佹牱寮?
                const avatarContainers = document.querySelectorAll('.timing-gender-avatar .avatar-container');
                avatarContainers.forEach(container => {
                    container.classList.remove('border-4', 'border-blue-500');
                });
                if (maleRadio.closest('.avatar-container')) {
                    maleRadio.closest('.avatar-container').classList.add('border-4', 'border-blue-500');
                }
            }
            // 閲嶇疆澶╁共鍦版敮閫夋嫨
            const dayMasterStem = document.getElementById('day-master-stem');
            const dayBranch = document.getElementById('day-branch');
            if (dayMasterStem) dayMasterStem.value = 'jia';
            if (dayBranch) dayBranch.value = 'zi';
            // 闅愯棌缁撴灉鍖哄煙
            const resultArea = document.getElementById('result-area');
            if (resultArea) resultArea.classList.add('hidden');
        }
        
        // 瀹氫箟甯搁噺鍜屾槧灏勫叧绯?
        const DIRECTION_MAP = {
            zi: '鍖楁柟',
            chou: '涓滃寳鏂?,
            yin: '涓滃寳鏂?,
            mao: '涓滄柟',
            chen: '涓滃崡鏂?,
            si: '涓滃崡鏂?,
            wu: '鍗楁柟',
            wei: '瑗垮崡鏂?,
            shen: '瑗垮崡鏂?,
            you: '瑗挎柟',
            xu: '瑗垮寳鏂?,
            hai: '瑗垮寳鏂?
        };
        
        const ELEMENT_BRANCHES = {
            wood: ['yin', 'mao', 'chen'],
            fire: ['si', 'wu', 'wei'],
            earth: ['chen', 'wei', 'xu', 'chou'],
            metal: ['shen', 'you', 'xu'],
            water: ['hai', 'zi', 'chou']
        };
        
        // 鎰熸儏鏂逛綅璁＄畻鍑芥暟锛堢畝鍖栫増锛岀洿鎺ヤ娇鐢ㄤ簲琛岋級
        function calculatePosition(gender, dayMasterElement) {
            // 瀹氫箟浜旇鐩稿厠鍏崇郴锛堥噾鍏嬫湪锛屾湪鍏嬪湡锛屽湡鍏嬫按锛屾按鍏嬬伀锛岀伀鍏嬮噾锛?
            const conqueringRelations = {
                metal: 'wood',
                wood: 'earth',
                earth: 'water',
                water: 'fire',
                fire: 'metal'
            };
            
            // 瀹氫箟浜旇瀵瑰簲鐨勬柟浣嶉敭锛岃€冭檻鐏湡鍚屽
            const elementDirectionMap = {
                wood: ['east'],
                fire: ['south', 'local'],
                earth: ['south', 'local'],
                metal: ['west'],
                water: ['north']
            };
            
            // 鏍规嵁鎬у埆鍜屾棩涓讳簲琛岀‘瀹氭劅鎯呬簲琛?
            let soulmateElement;
            if (gender === 'male') {
                // 鐢峰懡鍏嬭€呬负濡?
                soulmateElement = conqueringRelations[dayMasterElement];
            } else {
                // 濂冲懡琚厠鑰呬负澶紙闇€瑕佹壘鍒板厠鑷繁鐨勪簲琛岋級
                for (const [element, conquered] of Object.entries(conqueringRelations)) {
                    if (conquered === dayMasterElement) {
                        soulmateElement = element;
                        break;
                    }
                }
            }
            
            // 鑾峰彇鎰熸儏瀵瑰簲鐨勬柟浣嶏紝骞剁炕璇戞垚褰撳墠璇█
            const directionKeys = elementDirectionMap[soulmateElement] || ['鏈煡'];
            const directions = directionKeys.map(dirKey => translate(dirKey));
            
            // 鐢熸垚瑙ｉ噴
            const genderText = gender === 'male' ? translate('male') : translate('female');
            
            // 浜旇鍚嶇О鏄犲皠
            const elementNames = {
                wood: translate('wood'),
                fire: translate('fire'),
                earth: translate('earth'),
                metal: translate('metal'),
                water: translate('water')
            };
            
            const dayMasterElementName = elementNames[dayMasterElement] || dayMasterElement;
            const soulmateElementName = elementNames[soulmateElement] || soulmateElement;
            
            // 浣跨敤缈昏瘧妯℃澘鐢熸垚瑙ｉ噴鏂囨湰
            let explanationTemplate;
            if (gender === 'male') {
                explanationTemplate = translate('malePositionExplanation');
            } else {
                explanationTemplate = translate('femalePositionExplanation');
            }
            
            // 鏇挎崲妯℃澘涓殑鍙橀噺
            let explanation = explanationTemplate
                .replaceAll('{dayMasterElement}', dayMasterElementName)
                .replace('{gender}', genderText)
                .replace('{soulmateElement}', soulmateElementName)
                .replace('{directions}', directions.join('銆?));
            
            return { direction: directions.join('銆?), explanation };
        }
        
        // 鑾峰彇鍦版敮鐨勪簲琛屽睘鎬?
        function getBranchElement(branch) {
            for (const [element, branches] of Object.entries(ELEMENT_BRANCHES)) {
                if (branches.includes(branch)) {
                    const elementMap = {
                        wood: '鏈?,
                        fire: '鐏?,
                        earth: '鍦?,
                        metal: '閲?,
                        water: '姘?
                    };
                    return elementMap[element];
                }
            }
            return '鏈煡';
        }
        
        // 浜旇鐩稿厠鍏崇郴鏄犲皠
        const controllingCycles = {
            wood: 'earth',
            fire: 'metal',
            earth: 'water',
            metal: 'wood',
            water: 'fire'
        };
        
        // 浜旇鍚嶇О鏄犲皠
        const elementNames = {
            wood: '鏈?,
            fire: '鐏?,
            earth: '鍦?,
            metal: '閲?,
            water: '姘?
        };
        
        // 鏂逛綅浜旇鏄犲皠
        const directionElements = {
            '涓?: 'wood',
            '鍗?: 'fire',
            '瑗?: 'metal',
            '鍖?: 'water',
            '鏈湴': 'earth'
        };
        
        // 鍩庡競缁忕含搴︽暟鎹簱
        const cityCoordinates = {
            // 涓浗鍩庡競
            '鍖椾含': { lat: 39.9042, lng: 116.4074 },
            '涓滃煄鍖?: { lat: 39.9289, lng: 116.4173 },
            '瑗垮煄鍖?: { lat: 39.9042, lng: 116.3688 },
            '鏈濋槼鍖?: { lat: 39.9489, lng: 116.4882 },
            '涓板彴鍖?: { lat: 39.8650, lng: 116.2882 },
            '鐭虫櫙灞卞尯': { lat: 39.9140, lng: 116.1990 },
            '娴锋穩鍖?: { lat: 40.0025, lng: 116.3142 },
            '闂ㄥご娌熷尯': { lat: 39.9042, lng: 115.9519 },
            '鎴垮北鍖?: { lat: 39.7400, lng: 115.9800 },
            '閫氬窞鍖?: { lat: 39.9042, lng: 116.6553 },
            '椤轰箟鍖?: { lat: 40.1394, lng: 116.6553 },
            '鏄屽钩鍖?: { lat: 40.2189, lng: 116.2315 },
            '澶у叴鍖?: { lat: 39.7361, lng: 116.3333 },
            '鎬€鏌斿尯': { lat: 40.3250, lng: 116.6333 },
            '骞宠胺鍖?: { lat: 40.1394, lng: 117.1289 },
            '瀵嗕簯鍖?: { lat: 40.3750, lng: 116.8417 },
            '寤跺簡鍖?: { lat: 40.4606, lng: 115.9833 },
            '涓婃捣': { lat: 31.2304, lng: 121.4737 },
            // 涓婃捣甯傝緰鍖?
            '榛勬郸鍖?: { lat: 31.2317, lng: 121.4726 },
            '寰愭眹鍖?: { lat: 31.1957, lng: 121.4369 },
            '闀垮畞鍖?: { lat: 31.2142, lng: 121.4290 },
            '闈欏畨鍖?: { lat: 31.2330, lng: 121.4580 },
            '鏅檧鍖?: { lat: 31.2394, lng: 121.4280 },
            '铏瑰彛鍖?: { lat: 31.2643, lng: 121.4764 },
            '鏉ㄦ郸鍖?: { lat: 31.2714, lng: 121.5037 },
            '娴︿笢鏂板尯': { lat: 31.2304, lng: 121.5090 },
            '闂佃鍖?: { lat: 31.1093, lng: 121.3833 },
            '瀹濆北鍖?: { lat: 31.3812, lng: 121.4880 },
            '鍢夊畾鍖?: { lat: 31.2338, lng: 121.2370 },
            '閲戝北鍖?: { lat: 30.8958, lng: 121.1420 },
            '鏉炬睙鍖?: { lat: 31.0067, lng: 121.2420 },
            '闈掓郸鍖?: { lat: 31.1530, lng: 121.1320 },
            '濂夎搐鍖?: { lat: 30.9167, lng: 121.4667 },
            '宕囨槑鍖?: { lat: 31.6213, lng: 121.4067 },
            // 澶╂触甯傝緰鍖?
            '鍜屽钩鍖?: { lat: 39.1334, lng: 117.1902 },
            '娌充笢鍖?: { lat: 39.1287, lng: 117.2308 },
            '娌宠タ鍖?: { lat: 39.0841, lng: 117.2169 },
            '鍗楀紑鍖?: { lat: 39.1253, lng: 117.1893 },
            '娌冲寳鍖?: { lat: 39.1470, lng: 117.2016 },
            '绾㈡ˉ鍖?: { lat: 39.1411, lng: 117.1636 },
            '涓滀附鍖?: { lat: 39.0930, lng: 117.3435 },
            '瑗块潚鍖?: { lat: 39.0958, lng: 117.0753 },
            '娲ュ崡鍖?: { lat: 38.9513, lng: 117.3280 },
            '鍖楄景鍖?: { lat: 39.2383, lng: 117.1902 },
            '姝︽竻鍖?: { lat: 39.3631, lng: 117.0592 },
            '瀹濆澔鍖?: { lat: 39.7150, lng: 117.3100 },
            '婊ㄦ捣鏂板尯': { lat: 39.0333, lng: 117.6167 },
            '瀹佹渤鍖?: { lat: 39.3333, lng: 117.8333 },
            '闈欐捣鍖?: { lat: 38.9333, lng: 116.9000 },
            '钃熷窞鍖?: { lat: 40.0500, lng: 117.4000 },
            // 閲嶅簡甯傝緰鍖?
            '娓濅腑鍖?: { lat: 29.5630, lng: 106.5515 },
            '姹熷寳鍖?: { lat: 29.5850, lng: 106.5800 },
            '娓濆寳鍖?: { lat: 29.6000, lng: 106.6333 },
            '涔濋緳鍧″尯': { lat: 29.5167, lng: 106.4667 },
            '娌欏潽鍧濆尯': { lat: 29.5667, lng: 106.4000 },
            '鍗楀哺鍖?: { lat: 29.5000, lng: 106.5833 },
            '宸村崡鍖?: { lat: 29.3167, lng: 106.5000 },
            '鍖楃鍖?: { lat: 29.8333, lng: 106.3000 },
            '澶ф浮鍙ｅ尯': { lat: 29.4833, lng: 106.4333 },
            '涓囧窞鍖?: { lat: 30.8333, lng: 108.3500 },
            '娑櫟鍖?: { lat: 29.7000, lng: 107.3500 },
            '姘稿窛鍖?: { lat: 29.3500, lng: 105.7500 },
            '姹熸触鍖?: { lat: 29.1833, lng: 106.1500 },
            '鍚堝窛鍖?: { lat: 29.9000, lng: 106.2833 },
            '鍗楀窛鍖?: { lat: 29.1000, lng: 107.1000 },
            '缍︽睙鍖?: { lat: 29.0000, lng: 106.6500 },
            '澶ц冻鍖?: { lat: 29.4000, lng: 105.7000 },
            '鐠у北鍖?: { lat: 29.5667, lng: 106.2333 },
            '閾滄鍖?: { lat: 29.8000, lng: 105.8333 },
            '娼煎崡鍖?: { lat: 30.1500, lng: 105.8500 },
            '鑽ｆ槍鍖?: { lat: 29.6167, lng: 105.5333 },
            '寮€宸炲尯': { lat: 31.1667, lng: 108.3833 },
            '姊佸钩鍖?: { lat: 30.6667, lng: 107.7500 },
            '姝﹂殕鍖?: { lat: 29.2833, lng: 107.7833 },
            '鍩庡彛鍘?: { lat: 31.9000, lng: 108.6500 },
            '涓伴兘鍘?: { lat: 29.8333, lng: 107.7000 },
            '鍨睙鍘?: { lat: 30.3333, lng: 107.3333 },
            '蹇犲幙': { lat: 30.3833, lng: 108.0333 },
            '浜戦槼鍘?: { lat: 30.9500, lng: 108.7833 },
            '濂夎妭鍘?: { lat: 31.0667, lng: 109.5000 },
            '宸北鍘?: { lat: 31.0833, lng: 109.8667 },
            '宸邯鍘?: { lat: 31.4333, lng: 109.6333 },
            '鐭虫煴鍦熷鏃忚嚜娌诲幙': { lat: 29.9833, lng: 108.1333 },
            '绉€灞卞湡瀹舵棌鑻楁棌鑷不鍘?: { lat: 28.4500, lng: 108.9833 },
            '閰夐槼鍦熷鏃忚嫍鏃忚嚜娌诲幙': { lat: 28.8500, lng: 108.7500 },
            '褰按鑻楁棌鍦熷鏃忚嚜娌诲幙': { lat: 29.2833, lng: 108.1833 },
            // 娌冲寳鐪佸湴绾у競
            '鐭冲搴?: { lat: 38.0428, lng: 114.5149 },
            '鍞愬北': { lat: 39.6333, lng: 118.1667 },
            '绉︾殗宀?: { lat: 39.9312, lng: 119.5853 },
            '閭兏': { lat: 36.6167, lng: 114.4667 },
            '閭㈠彴': { lat: 37.0667, lng: 114.5000 },
            '淇濆畾': { lat: 38.8610, lng: 115.4805 },
            '寮犲鍙?: { lat: 40.8244, lng: 114.8744 },
            '鎵垮痉': { lat: 40.9798, lng: 117.9090 },
            '娌у窞': { lat: 38.3000, lng: 116.8333 },
            '寤婂潑': { lat: 39.5333, lng: 116.7000 },
            '琛℃按': { lat: 37.7297, lng: 115.7219 },
            // 灞辫タ鐪佸湴绾у競
            '澶師': { lat: 37.8716, lng: 112.5489 },
            '澶у悓': { lat: 40.0783, lng: 113.3094 },
            '闃虫硥': { lat: 37.8573, lng: 113.5786 },
            '闀挎不': { lat: 36.1850, lng: 113.1333 },
            '鏅嬪煄': { lat: 35.4833, lng: 112.8333 },
            '鏈斿窞': { lat: 39.3000, lng: 112.4333 },
            '鏅嬩腑': { lat: 37.6813, lng: 112.7322 },
            '杩愬煄': { lat: 35.0389, lng: 111.0194 },
            '蹇诲窞': { lat: 38.4181, lng: 112.7272 },
            '涓存本': { lat: 36.0800, lng: 111.5000 },
            '鍚曟': { lat: 37.5167, lng: 111.1000 },
            // 杈藉畞鐪佸湴绾у競
            '娌堥槼': { lat: 41.8057, lng: 123.4315 },
            '澶ц繛': { lat: 38.9140, lng: 121.6147 },
            '闉嶅北': { lat: 41.1106, lng: 122.9958 },
            '鎶氶『': { lat: 41.8642, lng: 123.9708 },
            '鏈邯': { lat: 41.3000, lng: 123.7500 },
            '涓逛笢': { lat: 40.1333, lng: 124.3333 },
            '閿﹀窞': { lat: 41.1333, lng: 121.1500 },
            '钀ュ彛': { lat: 40.6667, lng: 122.2000 },
            '闃滄柊': { lat: 42.0000, lng: 121.6167 },
            '杈介槼': { lat: 41.2667, lng: 123.1500 },
            '鐩橀敠': { lat: 41.1167, lng: 122.0000 },
            '閾佸箔': { lat: 42.3333, lng: 123.8500 },
            '鏈濋槼': { lat: 41.5750, lng: 120.4583 },
            '钁姦宀?: { lat: 40.7500, lng: 120.8333 },
            // 鍚夋灄鐪佸湴绾у競
            '闀挎槬': { lat: 43.8170, lng: 125.3235 },
            '鍚夋灄': { lat: 43.8170, lng: 125.3235 },
            '鍥涘钩': { lat: 43.1667, lng: 124.3500 },
            '杈芥簮': { lat: 42.9000, lng: 125.1500 },
            '閫氬寲': { lat: 41.7667, lng: 125.9000 },
            '鐧藉北': { lat: 41.9333, lng: 126.4333 },
            '鏉惧師': { lat: 45.1333, lng: 124.8000 },
            '鐧藉煄': { lat: 45.6333, lng: 122.8333 },
            '寤惰竟': { lat: 42.9333, lng: 129.5167 },
            // 榛戦緳姹熺渷鍦扮骇甯?
            '鍝堝皵婊?: { lat: 45.8038, lng: 126.5349 },
            '榻愰綈鍝堝皵': { lat: 47.3333, lng: 123.9000 },
            '楦¤タ': { lat: 45.3000, lng: 130.9000 },
            '楣ゅ矖': { lat: 47.3333, lng: 130.3000 },
            '鍙岄腑灞?: { lat: 46.6333, lng: 131.1000 },
            '澶у簡': { lat: 46.5833, lng: 125.0000 },
            '浼婃槬': { lat: 47.7333, lng: 128.9000 },
            '浣虫湪鏂?: { lat: 46.8000, lng: 130.3500 },
            '涓冨彴娌?: { lat: 45.7833, lng: 131.0500 },
            '鐗′腹姹?: { lat: 44.5833, lng: 129.6000 },
            '榛戞渤': { lat: 50.2333, lng: 127.4000 },
            '缁ュ寲': { lat: 46.6333, lng: 126.9000 },
            '澶у叴瀹夊箔': { lat: 52.3333, lng: 124.0000 },
            // 姹熻嫃鐪佸湴绾у競
            '鍗椾含': { lat: 32.0603, lng: 118.7969 },
            '鏃犻敗': { lat: 31.5908, lng: 120.2985 },
            '寰愬窞': { lat: 34.2632, lng: 117.1851 },
            '甯稿窞': { lat: 31.7899, lng: 119.9573 },
            '鑻忓窞': { lat: 31.2989, lng: 120.5853 },
            '鍗楅€?: { lat: 32.0165, lng: 120.8646 },
            '杩炰簯娓?: { lat: 34.6000, lng: 119.1667 },
            '娣畨': { lat: 33.5907, lng: 119.0214 },
            '鐩愬煄': { lat: 33.3872, lng: 120.1300 },
            '鎵窞': { lat: 32.3933, lng: 119.4286 },
            '闀囨睙': { lat: 32.2000, lng: 119.4500 },
            '娉板窞': { lat: 32.4333, lng: 119.9000 },
            '瀹胯縼': { lat: 33.9667, lng: 118.2000 },
            // 娴欐睙鐪佸湴绾у競
            '鏉窞': { lat: 30.2741, lng: 120.1551 },
            '瀹佹尝': { lat: 29.8683, lng: 121.5440 },
            '娓╁窞': { lat: 28.0100, lng: 120.6500 },
            '鍢夊叴': { lat: 30.7628, lng: 120.7694 },
            '婀栧窞': { lat: 30.8683, lng: 120.0536 },
            '缁嶅叴': { lat: 30.0000, lng: 120.5833 },
            '閲戝崕': { lat: 29.1250, lng: 119.6250 },
            '琛㈠窞': { lat: 28.9000, lng: 118.8833 },
            '鑸熷北': { lat: 30.0333, lng: 122.1167 },
            '鍙板窞': { lat: 28.6667, lng: 121.4000 },
            '涓芥按': { lat: 28.4500, lng: 119.9250 },
            // 瀹夊窘鐪佸湴绾у競
            '鍚堣偉': { lat: 31.8206, lng: 117.2272 },
            '鑺滄箹': { lat: 31.3500, lng: 118.3833 },
            '铓屽煚': { lat: 32.9333, lng: 117.3333 },
            '娣崡': { lat: 32.6500, lng: 116.9167 },
            '椹瀺灞?: { lat: 31.6833, lng: 118.4833 },
            '娣寳': { lat: 33.9500, lng: 116.7833 },
            '閾滈櫟': { lat: 30.9333, lng: 117.8167 },
            '瀹夊簡': { lat: 30.5333, lng: 117.0333 },
            '榛勫北': { lat: 29.7167, lng: 118.3167 },
            '婊佸窞': { lat: 32.3333, lng: 118.3000 },
            '闃滈槼': { lat: 32.8900, lng: 115.8167 },
            '瀹垮窞': { lat: 33.6333, lng: 116.9000 },
            '鍏畨': { lat: 31.7500, lng: 116.5000 },
            '浜冲窞': { lat: 33.8667, lng: 115.7833 },
            '姹犲窞': { lat: 30.6667, lng: 117.4833 },
            '瀹ｅ煄': { lat: 30.9500, lng: 118.7500 },
            // 绂忓缓鐪佸湴绾у競
            '绂忓窞': { lat: 26.0745, lng: 119.2965 },
            '鍘﹂棬': { lat: 24.4798, lng: 118.0894 },
            '鑾嗙敯': { lat: 25.4333, lng: 119.0000 },
            '涓夋槑': { lat: 26.2500, lng: 117.6167 },
            '娉夊窞': { lat: 24.8667, lng: 118.6167 },
            '婕冲窞': { lat: 24.5167, lng: 117.6167 },
            '鍗楀钩': { lat: 26.6167, lng: 118.1500 },
            '榫欏博': { lat: 25.0833, lng: 117.0167 },
            '瀹佸痉': { lat: 26.6500, lng: 119.5333 },
            // 姹熻タ鐪佸湴绾у競
            '鍗楁槍': { lat: 28.6822, lng: 115.8581 },
            '鏅痉闀?: { lat: 29.3000, lng: 117.2000 },
            '钀嶄埂': { lat: 27.6333, lng: 113.8000 },
            '涔濇睙': { lat: 29.7167, lng: 115.9000 },
            '鏂颁綑': { lat: 27.8167, lng: 114.9167 },
            '楣版江': { lat: 28.2333, lng: 117.0167 },
            '璧ｅ窞': { lat: 25.8500, lng: 114.9000 },
            '鍚夊畨': { lat: 27.1833, lng: 114.9667 },
            '瀹滄槬': { lat: 27.8000, lng: 114.3000 },
            '鎶氬窞': { lat: 27.9417, lng: 116.3417 },
            '涓婇ザ': { lat: 28.4500, lng: 117.9750 },
            // 灞变笢鐪佸湴绾у競
            '娴庡崡': { lat: 36.6519, lng: 117.1201 },
            '闈掑矝': { lat: 36.0671, lng: 120.3826 },
            '娣勫崥': { lat: 36.8000, lng: 118.0500 },
            '鏋ｅ簞': { lat: 34.8667, lng: 117.5333 },
            '涓滆惀': { lat: 37.4667, lng: 118.4000 },
            '鐑熷彴': { lat: 37.5333, lng: 121.4000 },
            '娼嶅潑': { lat: 36.7000, lng: 119.1333 },
            '娴庡畞': { lat: 35.4000, lng: 116.5833 },
            '娉板畨': { lat: 36.1833, lng: 117.1333 },
            '濞佹捣': { lat: 37.5000, lng: 122.1000 },
            '鏃ョ収': { lat: 35.4200, lng: 119.4600 },
            '鑾辫姕': { lat: 36.2000, lng: 117.7000 },
            '涓存矀': { lat: 35.0500, lng: 118.3500 },
            '寰峰窞': { lat: 37.4500, lng: 116.3000 },
            '鑱婂煄': { lat: 36.4500, lng: 115.9500 },
            '婊ㄥ窞': { lat: 37.3667, lng: 117.9833 },
            '鑿忔辰': { lat: 35.2400, lng: 115.4800 },
            // 婀栧寳鐪佸湴绾у競
            '姝︽眽': { lat: 30.5928, lng: 114.3055 },
            '榛勭煶': { lat: 30.2000, lng: 115.0000 },
            '鍗佸牥': { lat: 32.6000, lng: 110.7833 },
            '瀹滄槍': { lat: 30.7000, lng: 111.3000 },
            '瑗勯槼': { lat: 32.0667, lng: 112.1500 },
            '閯傚窞': { lat: 30.3500, lng: 114.8500 },
            '鑽嗛棬': { lat: 31.0333, lng: 112.2000 },
            '瀛濇劅': { lat: 30.9200, lng: 113.9200 },
            '鑽嗗窞': { lat: 30.3351, lng: 112.2472 },
            '榛勫唸': { lat: 30.4500, lng: 114.8700 },
            '鍜稿畞': { lat: 29.8500, lng: 114.2700 },
            '闅忓窞': { lat: 31.7333, lng: 113.3833 },
            '鎭╂柦': { lat: 30.2700, lng: 109.4800 },
            '绁炲啘鏋?: { lat: 31.7500, lng: 110.4000 },
            // 婀栧崡鐪佸湴绾у競
            '闀挎矙': { lat: 28.2278, lng: 112.9388 },
            '鏍床': { lat: 27.8333, lng: 113.1667 },
            '婀樻江': { lat: 27.8767, lng: 112.9358 },
            '琛￠槼': { lat: 26.9000, lng: 112.5833 },
            '閭甸槼': { lat: 27.2333, lng: 111.4667 },
            '宀抽槼': { lat: 29.3500, lng: 113.1250 },
            '甯稿痉': { lat: 29.0500, lng: 111.6917 },
            '寮犲鐣?: { lat: 29.1333, lng: 110.4833 },
            '鐩婇槼': { lat: 28.5667, lng: 112.3333 },
            '閮村窞': { lat: 25.7833, lng: 113.0250 },
            '姘稿窞': { lat: 26.4250, lng: 111.6167 },
            '鎬€鍖?: { lat: 27.5500, lng: 109.9667 },
            '濞勫簳': { lat: 27.7167, lng: 112.0000 },
            '婀樿タ': { lat: 28.2708, lng: 109.7375 },
            // 骞夸笢鐪佸湴绾у競
            '骞垮窞': { lat: 23.1291, lng: 113.2644 },
            '娣卞湷': { lat: 22.5431, lng: 114.0579 },
            '鐝犳捣': { lat: 22.1987, lng: 113.5493 },
            '姹曞ご': { lat: 23.3500, lng: 116.6000 },
            '浣涘北': { lat: 23.0200, lng: 113.1167 },
            '闊跺叧': { lat: 24.8167, lng: 113.6000 },
            '婀涙睙': { lat: 21.2167, lng: 110.3667 },
            '鑲囧簡': { lat: 23.0500, lng: 112.4833 },
            '姹熼棬': { lat: 22.5700, lng: 113.0900 },
            '鑼傚悕': { lat: 21.6667, lng: 110.8333 },
            '鎯犲窞': { lat: 23.0969, lng: 114.4095 },
            '姊呭窞': { lat: 24.2900, lng: 116.1000 },
            '姹曞熬': { lat: 22.7700, lng: 115.3700 },
            '娌虫簮': { lat: 23.7300, lng: 114.6800 },
            '闃虫睙': { lat: 21.8500, lng: 111.9500 },
            '娓呰繙': { lat: 23.7000, lng: 113.0000 },
            '涓滆帪': { lat: 23.0458, lng: 113.7431 },
            '涓北': { lat: 22.5286, lng: 113.3931 },
            '娼窞': { lat: 23.6667, lng: 116.6000 },
            '鎻槼': { lat: 23.5500, lng: 116.3500 },
            '浜戞诞': { lat: 22.9333, lng: 112.0833 },
            // 娴峰崡鐪佸煄甯?
            '娴峰彛': { lat: 20.0440, lng: 110.3490 },
            '涓変簹': { lat: 18.2500, lng: 109.5000 },
            '涓夋矙': { lat: 16.8300, lng: 112.3600 },
            '鍎嬪窞': { lat: 19.5100, lng: 109.5600 },
            '浜旀寚灞?: { lat: 18.7700, lng: 109.5100 },
            '鐞兼捣': { lat: 19.2500, lng: 110.4600 },
            '鏂囨槍': { lat: 19.6100, lng: 110.7100 },
            '涓囧畞': { lat: 18.8000, lng: 110.3900 },
            '涓滄柟': { lat: 19.0900, lng: 108.6000 },
            '瀹氬畨': { lat: 19.6800, lng: 110.3100 },
            '灞槍': { lat: 19.3600, lng: 110.1300 },
            '婢勮繄': { lat: 19.7500, lng: 110.0000 },
            '涓撮珮': { lat: 19.9100, lng: 109.6900 },
            '鐧芥矙': { lat: 19.2000, lng: 109.4500 },
            '鏄屾睙': { lat: 19.2500, lng: 109.0300 },
            '涔愪笢': { lat: 18.7300, lng: 109.1900 },
            '闄垫按': { lat: 18.4800, lng: 109.9100 },
            '淇濅涵': { lat: 18.6400, lng: 109.7000 },
            '鐞间腑': { lat: 19.0000, lng: 109.8300 },
            // 鍥涘窛鐪佸湴绾у競
            '鎴愰兘': { lat: 30.5728, lng: 104.0668 },
            '鑷础': { lat: 29.3500, lng: 104.7700 },
            '鏀€鏋濊姳': { lat: 26.5800, lng: 101.7100 },
            '娉稿窞': { lat: 28.8800, lng: 105.4400 },
            '寰烽槼': { lat: 31.1300, lng: 104.3800 },
            '缁甸槼': { lat: 31.4639, lng: 104.7510 },
            '骞垮厓': { lat: 32.4300, lng: 105.8300 },
            '閬傚畞': { lat: 30.5000, lng: 105.5800 },
            '鍐呮睙': { lat: 29.5900, lng: 105.0600 },
            '涔愬北': { lat: 29.5700, lng: 103.7700 },
            '鍗楀厖': { lat: 30.8000, lng: 106.1100 },
            '鐪夊北': { lat: 30.0500, lng: 103.8600 },
            '瀹滃': { lat: 28.7600, lng: 104.6300 },
            '骞垮畨': { lat: 30.4800, lng: 106.6100 },
            '杈惧窞': { lat: 31.2000, lng: 107.5000 },
            '闆呭畨': { lat: 30.0000, lng: 103.0000 },
            '宸翠腑': { lat: 31.8500, lng: 106.7300 },
            '璧勯槼': { lat: 30.1200, lng: 104.6500 },
            '闃垮潩': { lat: 32.9500, lng: 101.9200 },
            '鐢樺瓬': { lat: 31.6000, lng: 100.2000 },
            '鍑夊北': { lat: 27.8000, lng: 102.2500 },
            // 璐靛窞鐪佸湴绾у競
            '璐甸槼': { lat: 26.5783, lng: 106.7078 },
            '鍏洏姘?: { lat: 26.5900, lng: 104.8000 },
            '閬典箟': { lat: 27.7000, lng: 106.9000 },
            '瀹夐『': { lat: 26.2500, lng: 105.9200 },
            '姣曡妭': { lat: 27.3000, lng: 105.3800 },
            '閾滀粊': { lat: 27.7300, lng: 109.1100 },
            '榛斾笢鍗?: { lat: 26.5800, lng: 108.0200 },
            '榛斿崡': { lat: 26.1500, lng: 107.5200 },
            '榛旇タ鍗?: { lat: 25.0500, lng: 104.9000 },
            // 浜戝崡鐪佸湴绾у競
            '鏄嗘槑': { lat: 25.0453, lng: 102.7126 },
            '鏇查潠': { lat: 25.5000, lng: 103.7000 },
            '鐜夋邯': { lat: 24.3500, lng: 102.5200 },
            '淇濆北': { lat: 25.1200, lng: 99.1100 },
            '鏄€?: { lat: 27.3300, lng: 103.7000 },
            '涓芥睙': { lat: 26.8600, lng: 100.2500 },
            '鏅幢': { lat: 22.7900, lng: 100.9700 },
            '涓存钵': { lat: 23.8800, lng: 100.0800 },
            '妤氶泟': { lat: 25.0200, lng: 101.5200 },
            '绾㈡渤': { lat: 23.3600, lng: 103.2400 },
            '鏂囧北': { lat: 23.3700, lng: 104.2500 },
            '瑗垮弻鐗堢撼': { lat: 22.0000, lng: 100.8000 },
            '澶х悊': { lat: 25.6900, lng: 100.1800 },
            '寰峰畯': { lat: 24.4400, lng: 98.5800 },
            '鎬掓睙': { lat: 25.8700, lng: 98.8700 },
            '杩簡': { lat: 27.8300, lng: 99.7000 },
            // 瑗胯棌鑷不鍖哄湴绾у競
            '鎷夎惃': { lat: 29.6500, lng: 91.1628 },
            '鏃ュ杸鍒?: { lat: 29.2600, lng: 88.8800 },
            '鏄岄兘': { lat: 31.1500, lng: 97.1800 },
            '鏋楄姖': { lat: 29.5000, lng: 94.3300 },
            '灞卞崡': { lat: 29.2800, lng: 91.7700 },
            '閭ｆ洸': { lat: 31.4800, lng: 92.0000 },
            '闃块噷': { lat: 32.5000, lng: 80.1800 },
            // 闄曡タ鐪佸湴绾у競
            '瑗垮畨': { lat: 34.3416, lng: 108.9398 },
            '閾滃窛': { lat: 35.0800, lng: 109.0800 },
            '瀹濋浮': { lat: 34.3600, lng: 107.1500 },
            '鍜搁槼': { lat: 34.3400, lng: 108.7000 },
            '娓崡': { lat: 34.5100, lng: 109.5000 },
            '寤跺畨': { lat: 36.5000, lng: 109.4700 },
            '姹変腑': { lat: 33.0700, lng: 107.0300 },
            '姒嗘灄': { lat: 38.2700, lng: 109.7400 },
            '瀹夊悍': { lat: 32.6900, lng: 109.0200 },
            '鍟嗘礇': { lat: 33.8700, lng: 109.9600 },
            // 鐢樿們鐪佸湴绾у競
            '鍏板窞': { lat: 36.0611, lng: 103.8343 },
            '鍢夊唱鍏?: { lat: 39.7833, lng: 98.1833 },
            '閲戞槍': { lat: 38.5000, lng: 102.1800 },
            '鐧介摱': { lat: 36.5500, lng: 104.1200 },
            '澶╂按': { lat: 34.6000, lng: 105.7200 },
            '姝﹀▉': { lat: 37.9200, lng: 102.6300 },
            '寮犳帠': { lat: 38.9300, lng: 100.4500 },
            '骞冲噳': { lat: 35.5400, lng: 106.6800 },
            '閰掓硥': { lat: 39.7400, lng: 98.5000 },
            '搴嗛槼': { lat: 35.7200, lng: 107.6800 },
            '瀹氳タ': { lat: 35.5700, lng: 104.6200 },
            '闄囧崡': { lat: 33.3800, lng: 104.9000 },
            '涓村': { lat: 35.6000, lng: 103.2200 },
            '鐢樺崡': { lat: 34.9200, lng: 102.9200 },
            // 闈掓捣鐪佸湴绾у競
            '瑗垮畞': { lat: 36.6172, lng: 101.7782 },
            '娴蜂笢': { lat: 36.2600, lng: 102.0700 },
            '娴峰寳': { lat: 37.3800, lng: 100.9000 },
            '榛勫崡': { lat: 35.5200, lng: 102.0000 },
            '娴峰崡': { lat: 36.2800, lng: 100.5800 },
            '鏋滄礇': { lat: 34.4800, lng: 100.2500 },
            '鐜夋爲': { lat: 33.0000, lng: 97.0000 },
            '娴疯タ': { lat: 36.4000, lng: 95.9000 },
            // 瀹佸鍥炴棌鑷不鍖哄湴绾у競
            '閾跺窛': { lat: 38.4680, lng: 106.2418 },
            '鐭冲槾灞?: { lat: 39.0200, lng: 106.3900 },
            '鍚村繝': { lat: 37.9900, lng: 106.2100 },
            '鍥哄師': { lat: 36.0100, lng: 106.2800 },
            '涓崼': { lat: 37.5100, lng: 105.1900 },
            // 鏂扮枂缁村惥灏旇嚜娌诲尯鍦扮骇甯?
            '涔岄瞾鏈ㄩ綈': { lat: 43.8256, lng: 87.6168 },
            '鍏嬫媺鐜涗緷': { lat: 45.5900, lng: 84.8700 },
            '鍚愰瞾鐣?: { lat: 42.9300, lng: 89.1500 },
            '鍝堝瘑': { lat: 42.8000, lng: 93.4500 },
            '鏄屽悏': { lat: 44.0200, lng: 87.3100 },
            '鍗氬皵濉旀媺': { lat: 44.9000, lng: 82.1000 },
            '宸撮煶閮': { lat: 41.7600, lng: 86.1400 },
            '闃垮厠鑻?: { lat: 41.1500, lng: 80.2500 },
            '鍏嬪瓬鍕掕嫃': { lat: 39.7000, lng: 76.1200 },
            '鍠€浠€': { lat: 39.4500, lng: 75.9800 },
            '鍜岀敯': { lat: 37.1200, lng: 79.9200 },
            '浼婄妬': { lat: 43.9000, lng: 81.3300 },
            '濉斿煄': { lat: 46.7300, lng: 82.9300 },
            '闃垮嫆娉?: { lat: 47.8600, lng: 88.1600 },
            '鐭虫渤瀛?: { lat: 44.2900, lng: 85.9400 },
            '闃挎媺灏?: { lat: 40.5300, lng: 81.2800 },
            '鍥炬湪鑸掑厠': { lat: 39.8000, lng: 79.0600 },
            '浜斿娓?: { lat: 44.1500, lng: 87.5300 },
            '鍖楀悲': { lat: 47.3700, lng: 87.8600 },
            '閾侀棬鍏?: { lat: 41.7900, lng: 85.8700 },
            '鍙屾渤': { lat: 44.7800, lng: 82.2800 },
            '鍙厠杈炬媺': { lat: 44.1200, lng: 81.0200 },
            '鏄嗙帀': { lat: 37.1000, lng: 79.0300 },
            '鑳℃潹娌?: { lat: 44.8300, lng: 84.7500 },
            '鏂版槦': { lat: 42.8000, lng: 91.2500 },
            // 鍐呰挋鍙よ嚜娌诲尯鍦扮骇甯?
            '鍛煎拰娴╃壒': { lat: 40.8183, lng: 111.7519 },
            '鍖呭ご': { lat: 40.6500, lng: 109.8300 },
            '涔屾捣': { lat: 39.6400, lng: 106.8300 },
            '璧ゅ嘲': { lat: 42.2700, lng: 118.9300 },
            '閫氳窘': { lat: 43.6100, lng: 122.2800 },
            '閯傚皵澶氭柉': { lat: 39.8100, lng: 109.7900 },
            '鍛间鸡璐濆皵': { lat: 49.2000, lng: 119.7000 },
            '宸村溅娣栧皵': { lat: 40.7500, lng: 107.3800 },
            '涔屽叞瀵熷竷': { lat: 41.0300, lng: 113.1000 },
            '鍏村畨': { lat: 46.0900, lng: 122.0800 },
            '閿℃灄閮嫆': { lat: 43.9300, lng: 116.0800 },
            '闃挎媺鍠?: { lat: 38.8300, lng: 105.6800 },
            // 骞胯タ澹棌鑷不鍖哄湴绾у競
            '鍗楀畞': { lat: 22.8170, lng: 108.3661 },
            '鏌冲窞': { lat: 23.6288, lng: 109.3795 },
            '妗傛灄': { lat: 25.2744, lng: 110.2925 },
            '姊у窞': { lat: 23.4798, lng: 111.3598 },
            '鍖楁捣': { lat: 21.4817, lng: 109.1172 },
            '闃插煄娓?: { lat: 21.6200, lng: 108.3600 },
            '閽﹀窞': { lat: 21.9700, lng: 108.6200 },
            '璐垫腐': { lat: 23.1100, lng: 109.6000 },
            '鐜夋灄': { lat: 22.6300, lng: 110.1500 },
            '鐧捐壊': { lat: 23.9000, lng: 106.6100 },
            '璐哄窞': { lat: 24.4000, lng: 111.5500 },
            '娌虫睜': { lat: 24.7000, lng: 108.0500 },
            '鏉ュ': { lat: 23.7500, lng: 109.2300 },
            '宕囧乏': { lat: 22.3600, lng: 107.3600 },
            // 棣欐腐鐗瑰埆琛屾斂鍖?
            '棣欐腐': { lat: 22.3193, lng: 114.1694 },
            // 棣欐腐鐗瑰埆琛屾斂鍖鸿緰鍖?
            '涓タ鍖?: { lat: 22.2833, lng: 114.1500 },
            '涓滃尯': { lat: 22.2833, lng: 114.2250 },
            '鍗楀尯': { lat: 22.2417, lng: 114.1583 },
            '婀句粩鍖?: { lat: 22.2750, lng: 114.1833 },
            '涔濋緳鍩庡尯': { lat: 22.3333, lng: 114.1833 },
            '瑙傚鍖?: { lat: 22.3167, lng: 114.2250 },
            '娣辨按鍩楀尯': { lat: 22.3333, lng: 114.1500 },
            '榛勫ぇ浠欏尯': { lat: 22.3500, lng: 114.1833 },
            '娌瑰皷鏃哄尯': { lat: 22.3000, lng: 114.1667 },
            '绂诲矝鍖?: { lat: 22.2333, lng: 113.9333 },
            '钁甸潚鍖?: { lat: 22.3500, lng: 114.1000 },
            '鍖楀尯': { lat: 22.4500, lng: 114.1000 },
            '瑗胯础鍖?: { lat: 22.3667, lng: 114.2667 },
            '娌欑敯鍖?: { lat: 22.3833, lng: 114.1833 },
            '澶у煍鍖?: { lat: 22.4333, lng: 114.1333 },
            '鑽冩咕鍖?: { lat: 22.3750, lng: 114.1167 },
            '灞棬鍖?: { lat: 22.3750, lng: 113.9500 },
            '鍏冩湕鍖?: { lat: 22.4167, lng: 114.0000 },
            // 婢抽棬鐗瑰埆琛屾斂鍖?
            '婢抽棬': { lat: 22.1987, lng: 113.5493 },
            // 婢抽棬鐗瑰埆琛屾斂鍖哄爞鍖?
            '鑺卞湴鐜涘爞鍖?: { lat: 22.1987, lng: 113.5493 },
            '鍦ｅ畨澶氬凹鍫傚尯': { lat: 22.1987, lng: 113.5493 },
            '澶у爞鍖?: { lat: 22.1987, lng: 113.5493 },
            '鏈涘痉鍫傚尯': { lat: 22.1987, lng: 113.5493 },
            '椋庨『鍫傚尯': { lat: 22.1987, lng: 113.5493 },
            '鍢夋ā鍫傚尯': { lat: 22.1987, lng: 113.5493 },
            '鍦ｆ柟娴庡悇鍫傚尯': { lat: 22.1987, lng: 113.5493 },
            '璺肮濉捣鍖?: { lat: 22.1987, lng: 113.5493 },
            '閲嶅簡': { lat: 29.4316, lng: 106.9123 },
            '澶╂触': { lat: 39.3434, lng: 117.3616 },
            '鍗椾含': { lat: 32.0603, lng: 118.7969 },
            '鑻忓窞': { lat: 31.2989, lng: 120.5853 },
            '閮戝窞': { lat: 34.7466, lng: 113.6254 },
            '闀挎矙': { lat: 28.2278, lng: 112.9388 },
            '娌堥槼': { lat: 41.8057, lng: 123.4315 },
            '闈掑矝': { lat: 36.0671, lng: 120.3826 },
            '娴庡崡': { lat: 36.6519, lng: 117.1201 },
            '鍝堝皵婊?: { lat: 45.8038, lng: 126.5349 },
            '绂忓窞': { lat: 26.0745, lng: 119.2965 },
            '鍘﹂棬': { lat: 24.4798, lng: 118.0894 },
            '鏄嗘槑': { lat: 25.0453, lng: 102.7126 },
            '鍗楁槍': { lat: 28.6822, lng: 115.8581 },
            '璐甸槼': { lat: 26.5783, lng: 106.7078 },
            '澶師': { lat: 37.8716, lng: 112.5489 },
            '鐭冲搴?: { lat: 38.0428, lng: 114.5149 },
            '鍗楀畞': { lat: 22.8170, lng: 108.3661 },
            '鍏板窞': { lat: 36.0611, lng: 103.8343 },
            '閾跺窛': { lat: 38.4680, lng: 106.2418 },
            '瑗垮畞': { lat: 36.6172, lng: 101.7782 },
            '涔岄瞾鏈ㄩ綈': { lat: 43.8256, lng: 87.6168 },
            '鎷夎惃': { lat: 29.6500, lng: 91.1628 },
            '鍛煎拰娴╃壒': { lat: 40.8183, lng: 111.7519 },
            '闀挎槬': { lat: 43.8170, lng: 125.3235 },
            '鍚堣偉': { lat: 31.8206, lng: 117.2272 },
            '娴峰彛': { lat: 20.0440, lng: 110.3490 },
            '涓変簹': { lat: 18.2500, lng: 109.5000 },
            '娲涢槼': { lat: 34.6236, lng: 112.4324 },
            '寮€灏?: { lat: 34.7990, lng: 114.3594 },
            '瀹夐槼': { lat: 36.1051, lng: 114.3580 },
            '鏂颁埂': { lat: 35.3072, lng: 113.8755 },
            '鐒︿綔': { lat: 35.2473, lng: 113.2493 },
            '婵槼': { lat: 35.7767, lng: 115.0078 },
            '璁告槍': { lat: 34.0128, lng: 113.8184 },
            '婕渤': { lat: 33.5668, lng: 114.0224 },
            '涓夐棬宄?: { lat: 34.7735, lng: 111.1190 },
            '鍗楅槼': { lat: 33.0158, lng: 112.5397 },
            '鍟嗕笜': { lat: 34.4351, lng: 115.6581 },
            '淇￠槼': { lat: 32.1393, lng: 114.0820 },
            '鍛ㄥ彛': { lat: 33.6251, lng: 114.6568 },
            '椹婚┈搴?: { lat: 32.9896, lng: 114.0199 },
            '娴庢簮': { lat: 35.0873, lng: 112.5973 },
            '骞抽《灞?: { lat: 33.7573, lng: 113.2952 },
            '楣ゅ': { lat: 35.7387, lng: 114.2781 },
            '鑽嗗窞': { lat: 30.3351, lng: 112.2472 },
            '瑗垮畨': { lat: 34.3416, lng: 108.9398 },
            '婀栧寳': { lat: 30.5928, lng: 114.3055 },
            '婀栧崡': { lat: 28.2278, lng: 112.9388 },
            '娌冲崡': { lat: 34.7466, lng: 113.6254 },
            '娌冲寳': { lat: 38.0428, lng: 114.5149 },
            '灞变笢': { lat: 36.6519, lng: 117.1201 },
            '灞辫タ': { lat: 37.8716, lng: 112.5489 },
            '闄曡タ': { lat: 34.3416, lng: 108.9398 },
            '鐢樿們': { lat: 36.0611, lng: 103.8343 },
            '闈掓捣': { lat: 36.6172, lng: 101.7782 },
            '鍥涘窛': { lat: 30.5728, lng: 104.0668 },
            '浜戝崡': { lat: 25.0453, lng: 102.7126 },
            '璐靛窞': { lat: 26.5783, lng: 106.7078 },
            '瑗胯棌': { lat: 29.6500, lng: 91.1628 },
            '鏂扮枂': { lat: 43.8256, lng: 87.6168 },
            '骞胯タ': { lat: 22.8170, lng: 108.3661 },
            '骞夸笢': { lat: 23.1291, lng: 113.2644 },
            '娴峰崡': { lat: 20.0440, lng: 110.3490 },
            '绂忓缓': { lat: 26.0745, lng: 119.2965 },
            '姹熻タ': { lat: 28.6822, lng: 115.8581 },
            '瀹夊窘': { lat: 31.8206, lng: 117.2272 },
            '娴欐睙': { lat: 30.2741, lng: 120.1551 },
            '姹熻嫃': { lat: 32.0603, lng: 118.7969 },
            '榛戦緳姹?: { lat: 45.8038, lng: 126.5349 },
            '鍚夋灄': { lat: 43.8170, lng: 125.3235 },
            '杈藉畞': { lat: 41.8057, lng: 123.4315 },
            '鍐呰挋鍙?: { lat: 40.8183, lng: 111.7519 },
            '瀹佸': { lat: 38.4680, lng: 106.2418 },
            '棣欐腐': { lat: 22.3193, lng: 114.1694 },
            '婢抽棬': { lat: 22.1987, lng: 113.5493 },
            '鍙版咕': { lat: 23.6978, lng: 120.9605 },
            // 涓浗鍘跨骇甯?- 鎸夌渷浠藉垎绫?
            // 姹熻嫃鐪佸幙绾у競
            '鏃犻敗': { lat: 31.5908, lng: 120.2985 },
            '鏄嗗北': { lat: 31.3989, lng: 120.9853 },
            '姹熼槾': { lat: 31.9167, lng: 120.2947 },
            '寮犲娓?: { lat: 31.8542, lng: 120.5514 },
            '甯哥啛': { lat: 31.6492, lng: 120.7574 },
            '澶粨': { lat: 31.4567, lng: 121.1181 },
            '瀹滃叴': { lat: 31.3592, lng: 119.8153 },
            // 姹熻嫃鐪佸幙鍩?
            '涓板幙': { lat: 34.7000, lng: 116.5000 },
            '娌涘幙': { lat: 34.7333, lng: 116.9167 },
            '鐫㈠畞鍘?: { lat: 33.9500, lng: 117.9167 },
            '濡備笢鍘?: { lat: 32.3333, lng: 121.1500 },
            '娴峰畨鍘?: { lat: 32.5700, lng: 120.4500 },
            '鍚笢甯?: { lat: 31.8000, lng: 121.6667 },
            '濡傜殝甯?: { lat: 32.3833, lng: 120.5333 },
            '娴烽棬甯?: { lat: 31.9667, lng: 121.1500 },
            '涓滄捣鍘?: { lat: 34.5000, lng: 118.7500 },
            '鐏屼簯鍘?: { lat: 34.3000, lng: 119.2000 },
            '鐏屽崡鍘?: { lat: 34.3333, lng: 119.5500 },
            '璧ｆ鍖?: { lat: 34.8333, lng: 119.1667 },
            // 娴欐睙鐪佸幙绾у競
            '涔変箤': { lat: 29.3292, lng: 120.0934 },
            '璇告毃': { lat: 29.7111, lng: 120.2344 },
            '浣欏': { lat: 30.0458, lng: 121.1558 },
            '鎱堟邯': { lat: 30.1833, lng: 121.2333 },
            '涔愭竻': { lat: 28.1467, lng: 120.9458 },
            '鐟炲畨': { lat: 27.7767, lng: 120.6533 },
            // 骞夸笢鐪佸幙绾у競
            '椤哄痉': { lat: 22.8076, lng: 113.2894 },
            '鍗楁捣': { lat: 23.0347, lng: 113.1222 },
            '涓滆帪': { lat: 23.0458, lng: 113.7431 },
            '涓北': { lat: 22.5286, lng: 113.3931 },
            '鏅畞': { lat: 23.2881, lng: 116.1000 },
            '鍥涗細': { lat: 23.3500, lng: 112.6167 },
            // 灞变笢鐪佸幙绾у競
            '鍗冲ⅷ': { lat: 36.3833, lng: 120.4903 },
            '鑳跺窞': { lat: 36.2875, lng: 120.0481 },
            '骞冲害': { lat: 36.7667, lng: 119.9781 },
            '鑾辫タ': { lat: 36.8667, lng: 120.5203 },
            '婊曞窞': { lat: 35.0981, lng: 117.1747 },
            '榫欏彛': { lat: 37.6425, lng: 120.5175 },
            // 灞变笢鐪佸幙鍩?
            '骞抽槾鍘?: { lat: 36.2833, lng: 116.4667 },
            '娴庨槼鍘?: { lat: 36.9500, lng: 117.1333 },
            '鍟嗘渤鍘?: { lat: 37.3167, lng: 117.1167 },
            '妗撳彴鍘?: { lat: 36.9500, lng: 117.8000 },
            '楂橀潚鍘?: { lat: 37.1833, lng: 117.6000 },
            '娌傛簮鍘?: { lat: 36.1833, lng: 118.1500 },
            '骞块ザ鍘?: { lat: 37.0667, lng: 118.4167 },
            '鍒╂触鍘?: { lat: 37.4500, lng: 118.2000 },
            '闀垮矝鍘?: { lat: 37.9167, lng: 120.7833 },
            '涓存湊鍘?: { lat: 36.5000, lng: 118.5000 },
            '鏄屼箰鍘?: { lat: 36.6833, lng: 118.8833 },
            '娌傚崡鍘?: { lat: 35.5500, lng: 118.4667 },
            '鏇瑰幙': { lat: 34.8333, lng: 115.5333 },
            '鍗曞幙': { lat: 34.8333, lng: 116.0833 },
            '鎴愭鍘?: { lat: 34.9333, lng: 115.8000 },
            '宸ㄩ噹鍘?: { lat: 35.3500, lng: 116.0833 },
            '閮撳煄鍘?: { lat: 35.5833, lng: 115.8833 },
            '閯勫煄鍘?: { lat: 35.5500, lng: 115.5333 },
            '涓滄槑鍘?: { lat: 35.3167, lng: 115.0000 },
            '瀹氶櫠鍖?: { lat: 35.0700, lng: 115.5700 },
            // 绂忓缓鐪佸幙绾у競
            '鏅嬫睙': { lat: 24.7906, lng: 118.5997 },
            '鐭崇嫯': { lat: 24.7528, lng: 118.6597 },
            '鍗楀畨': { lat: 24.9631, lng: 118.3828 },
            '绂忔竻': { lat: 25.7333, lng: 119.3833 },
            '闀夸箰': { lat: 25.9500, lng: 119.5833 },
            // 绂忓缓鐪佸幙鍩?
            '闂戒警鍘?: { lat: 26.1667, lng: 119.1333 },
            '杩炴睙鍘?: { lat: 26.2000, lng: 119.5500 },
            '缃楁簮鍘?: { lat: 26.4833, lng: 119.5000 },
            '闂芥竻鍘?: { lat: 26.2333, lng: 118.8000 },
            '姘告嘲鍘?: { lat: 25.8833, lng: 118.9000 },
            '骞虫江鍘?: { lat: 25.5167, lng: 119.7000 },
            '浠欐父鍘?: { lat: 25.3333, lng: 118.7833 },
            '鏄庢邯鍘?: { lat: 26.3667, lng: 117.1833 },
            '娓呮祦鍘?: { lat: 26.1000, lng: 116.8000 },
            '瀹佸寲鍘?: { lat: 26.2500, lng: 116.6333 },
            '澶х敯鍘?: { lat: 25.6833, lng: 117.8333 },
            '灏ゆ邯鍘?: { lat: 26.1500, lng: 118.1500 },
            '娌欏幙': { lat: 26.4000, lng: 117.7500 },
            '灏嗕箰鍘?: { lat: 26.7000, lng: 117.4500 },
            '娉板畞鍘?: { lat: 26.9333, lng: 117.1833 },
            '寤哄畞鍘?: { lat: 26.8500, lng: 116.8500 },
            '姘稿畨甯?: { lat: 25.9000, lng: 117.3833 },
            '鎯犲畨鍘?: { lat: 24.9000, lng: 118.7833 },
            '瀹夋邯鍘?: { lat: 25.0833, lng: 118.1833 },
            '姘告槬鍘?: { lat: 25.3333, lng: 118.2333 },
            '寰峰寲鍘?: { lat: 25.5000, lng: 118.1000 },
            '閲戦棬鍘?: { lat: 24.4333, lng: 118.3333 },
            '浜戦渼鍘?: { lat: 23.9500, lng: 117.3333 },
            '婕虫郸鍘?: { lat: 24.1333, lng: 117.6833 },
            '璇忓畨鍘?: { lat: 23.7333, lng: 117.1333 },
            '闀挎嘲鍘?: { lat: 24.7500, lng: 117.7333 },
            '涓滃北鍘?: { lat: 23.7333, lng: 117.4333 },
            '鍗楅潠鍘?: { lat: 24.5500, lng: 117.3000 },
            '骞冲拰鍘?: { lat: 24.3000, lng: 117.3000 },
            '鍗庡畨鍘?: { lat: 24.8500, lng: 117.5000 },
            '榫欐捣甯?: { lat: 24.4333, lng: 117.9333 },
            '椤烘槍鍘?: { lat: 26.8000, lng: 117.8000 },
            '娴﹀煄鍘?: { lat: 27.9500, lng: 118.5833 },
            '鍏夋辰鍘?: { lat: 27.5000, lng: 117.3333 },
            '鏉炬邯鍘?: { lat: 27.5333, lng: 118.7000 },
            '鏀垮拰鍘?: { lat: 27.3500, lng: 118.8000 },
            '閭垫甯?: { lat: 27.3333, lng: 117.4833 },
            '姝﹀し灞卞競': { lat: 27.6833, lng: 118.0000 },
            '寤虹摨甯?: { lat: 27.0500, lng: 118.3833 },
            '寤洪槼甯?: { lat: 27.3000, lng: 118.1833 },
            '闀挎眬鍘?: { lat: 25.8000, lng: 116.1000 },
            '姘稿畾鍘?: { lat: 24.7333, lng: 116.8333 },
            '涓婃澀鍘?: { lat: 25.0400, lng: 116.4300 },
            '姝﹀钩鍘?: { lat: 25.0833, lng: 116.1000 },
            '杩炲煄鍘?: { lat: 25.7000, lng: 116.7333 },
            '婕冲钩甯?: { lat: 25.3000, lng: 117.4833 },
            '闇炴郸鍘?: { lat: 26.8000, lng: 120.0000 },
            '鍙ょ敯鍘?: { lat: 26.5833, lng: 118.7833 },
            '灞忓崡鍘?: { lat: 26.9333, lng: 118.9500 },
            '瀵垮畞鍘?: { lat: 27.4333, lng: 119.5333 },
            '鍛ㄥ畞鍘?: { lat: 27.1333, lng: 119.3333 },
            '鏌樿崳鍘?: { lat: 27.2000, lng: 119.8000 },
            '绂忓畨甯?: { lat: 27.0833, lng: 119.6000 },
            '绂忛紟甯?: { lat: 27.3333, lng: 120.2000 },
            // 娌冲崡鐪佸幙绾у競
            '宸╀箟': { lat: 34.7667, lng: 112.9333 },
            '鑽ラ槼': { lat: 34.7900, lng: 113.3167 },
            '鏂板瘑': { lat: 34.5167, lng: 113.3000 },
            '鏂伴儜': { lat: 34.4000, lng: 113.7000 },
            '鐧诲皝': { lat: 34.4667, lng: 113.0000 },
            '娴庢簮': { lat: 35.0873, lng: 112.5973 },
            // 娌冲崡鐪佸幙鍩?
            '涓墴鍘?: { lat: 34.7361, lng: 114.0536 },
            '鏉炲幙': { lat: 34.5500, lng: 114.7500 },
            '閫氳鍘?: { lat: 34.4333, lng: 114.4167 },
            '灏夋皬鍘?: { lat: 34.4167, lng: 114.1667 },
            '鍏拌€冨幙': { lat: 34.6833, lng: 114.8500 },
            '瀛熸触鍘?: { lat: 34.8333, lng: 112.4167 },
            '鏂板畨鍘?: { lat: 34.7500, lng: 112.1500 },
            '鏍惧窛鍘?: { lat: 33.8167, lng: 111.6167 },
            '宓╁幙': { lat: 34.1333, lng: 112.0167 },
            '姹濋槼鍘?: { lat: 34.1833, lng: 112.4000 },
            '瀹滈槼鍘?: { lat: 34.4333, lng: 112.1000 },
            '娲涘畞鍘?: { lat: 34.3500, lng: 111.6500 },
            '浼婂窛鍘?: { lat: 34.4333, lng: 112.4500 },
            '鍋冨笀甯?: { lat: 34.7333, lng: 112.7500 },
            // 鍥涘窛鐪佸湴绾у競
            '缁甸槼': { lat: 31.4639, lng: 104.7510 },
            // 鍥涘窛鐪佸幙绾у競
            '閮芥睙鍫?: { lat: 31.0000, lng: 103.6000 },
            '褰窞': { lat: 30.9200, lng: 103.9333 },
            '閭涘磧': { lat: 30.4200, lng: 103.4700 },
            '宕囧窞': { lat: 30.6333, lng: 103.6667 },
            '骞挎眽': { lat: 30.9833, lng: 104.2500 },
            // 婀栧寳鐪佸幙绾у競
            '浠欐': { lat: 30.3333, lng: 113.4833 },
            '娼滄睙': { lat: 30.4000, lng: 112.8833 },
            '澶╅棬': { lat: 30.6333, lng: 113.1833 },
            '鏋ｉ槼': { lat: 32.1200, lng: 112.7667 },
            '瀹滃煄': { lat: 31.7167, lng: 112.2500 },
            '澶у喍': { lat: 30.0500, lng: 114.9500 },
            // 婀栧崡鐪佸幙绾у競
            '娴忛槼': { lat: 28.2667, lng: 113.6333 },
            '閱撮櫟': { lat: 27.6750, lng: 113.4250 },
            '婀樹埂': { lat: 27.7500, lng: 112.5333 },
            '闊跺北': { lat: 27.9333, lng: 112.5500 },
            '鑰掗槼': { lat: 26.4333, lng: 112.8333 },
            // 娌冲寳鐪佸幙绾у競
            '涓夋渤': { lat: 39.9500, lng: 117.0000 },
            '闇稿窞': { lat: 39.1200, lng: 116.3333 },
            '娑垮窞': { lat: 39.4833, lng: 115.9667 },
            '瀹夊浗': { lat: 38.4333, lng: 115.3333 },
            '楂樼搴?: { lat: 39.3167, lng: 115.8167 },
            // 娌冲寳鐪佸幙鍩?
            '姝ｅ畾鍘?: { lat: 38.1333, lng: 114.5167 },
            '琛屽攼鍘?: { lat: 38.4333, lng: 114.5500 },
            '鐏靛鍘?: { lat: 38.3167, lng: 114.3333 },
            '楂橀倯鍘?: { lat: 37.6200, lng: 114.5800 },
            '娣辨辰鍘?: { lat: 38.1333, lng: 115.2333 },
            '璧炵殗鍘?: { lat: 37.6833, lng: 114.3833 },
            '鏃犳瀬鍘?: { lat: 38.1833, lng: 114.9667 },
            '骞冲北鍘?: { lat: 38.2000, lng: 114.1500 },
            '鍏冩皬鍘?: { lat: 37.7000, lng: 114.5000 },
            '璧靛幙': { lat: 37.7333, lng: 114.7500 },
            '杈涢泦甯?: { lat: 37.9833, lng: 115.2000 },
            '钘佸煄鍖?: { lat: 38.0333, lng: 114.8333 },
            '楣挎硥鍖?: { lat: 38.0833, lng: 114.1833 },
            '鏍惧煄鍖?: { lat: 38.0000, lng: 114.6000 },
            '浜曢檳鐭垮尯': { lat: 38.0333, lng: 114.0000 },
            '浜曢檳鍘?: { lat: 38.0333, lng: 114.0000 },
            // 灞辫タ鐪佸幙绾у競
            '鍙や氦甯?: { lat: 37.8167, lng: 112.1833 },
            '娼炲煄甯?: { lat: 36.3000, lng: 113.2000 },
            '楂樺钩甯?: { lat: 35.7000, lng: 112.8000 },
            '浠嬩紤甯?: { lat: 37.0000, lng: 111.9000 },
            '姘告祹甯?: { lat: 34.8500, lng: 110.4833 },
            '娌虫触甯?: { lat: 35.6333, lng: 110.7000 },
            '鍘熷钩甯?: { lat: 38.7833, lng: 112.7333 },
            // 灞辫タ鐪佸幙鍩?
            '娓呭緪鍘?: { lat: 37.6200, lng: 112.3500 },
            '闃虫洸鍘?: { lat: 38.0333, lng: 112.6833 },
            '濞勭儲鍘?: { lat: 38.0333, lng: 111.7000 },
            '闃抽珮鍘?: { lat: 40.3833, lng: 113.7833 },
            '澶╅晣鍘?: { lat: 40.3500, lng: 114.0833 },
            '骞跨伒鍘?: { lat: 39.7833, lng: 114.2833 },
            '鐏典笜鍘?: { lat: 39.4333, lng: 114.2333 },
            '娴戞簮鍘?: { lat: 39.6700, lng: 113.6800 },
            '宸︿簯鍘?: { lat: 40.0333, lng: 112.7833 },
            '灞遍槾鍘?: { lat: 39.5000, lng: 112.8000 },
            '搴斿幙': { lat: 39.5833, lng: 113.1833 },
            '鍙崇帀鍘?: { lat: 39.9200, lng: 112.3000 },
            '鎬€浠佸競': { lat: 39.8200, lng: 113.1800 },
            // 闄曡タ鐪佸幙绾у競
            '鍏村钩甯?: { lat: 34.3167, lng: 108.4333 },
            '闊╁煄甯?: { lat: 35.4833, lng: 110.4500 },
            '鍗庨槾甯?: { lat: 34.5833, lng: 110.0500 },
            // 闄曡タ鐪佸幙鍩?
            '钃濈敯鍘?: { lat: 34.1833, lng: 109.3333 },
            '鍛ㄨ嚦鍘?: { lat: 34.1500, lng: 108.2333 },
            '鎴峰幙': { lat: 34.1200, lng: 108.6500 },
            '楂橀櫟鍘?: { lat: 34.5833, lng: 109.1333 },
            '涓夊師鍘?: { lat: 34.6000, lng: 108.9000 },
            '娉鹃槼鍘?: { lat: 34.5333, lng: 108.8333 },
            '涔惧幙': { lat: 34.5333, lng: 108.2333 },
            '绀兼硥鍘?: { lat: 34.4200, lng: 108.4333 },
            '姘稿鍘?: { lat: 34.6333, lng: 108.1833 },
            '褰幙': { lat: 35.0333, lng: 107.9333 },
            '闀挎鍘?: { lat: 35.2333, lng: 107.8333 },
            '鏃倯鍘?: { lat: 35.1333, lng: 108.3333 },
            '娣冲寲鍘?: { lat: 34.8333, lng: 108.5333 },
            '姝﹀姛鍘?: { lat: 34.2500, lng: 108.2333 },
            '鐧芥按鍘?: { lat: 35.1500, lng: 109.5333 },
            '钂插煄鍘?: { lat: 34.9500, lng: 109.5500 },
            '婢勫煄鍘?: { lat: 35.1333, lng: 109.9333 },
            '鍚堥槼鍘?: { lat: 35.2000, lng: 110.1500 },
            '闊╁煄甯?: { lat: 35.4833, lng: 110.4500 },
            '鍗庨槾甯?: { lat: 34.5833, lng: 110.0500 },
            '瀵屽钩鍘?: { lat: 34.7000, lng: 109.1333 },
            // 瀹夊窘鐪佸幙绾у競
            '妗愬煄甯?: { lat: 31.0333, lng: 116.9333 },
            '澶╅暱甯?: { lat: 32.6833, lng: 119.0000 },
            '鏄庡厜甯?: { lat: 32.7833, lng: 117.9833 },
            '鐣岄甯?: { lat: 33.2000, lng: 115.3000 },
            '瀹佸浗甯?: { lat: 30.6200, lng: 118.9800 },
            // 瀹夊窘鐪佸幙鍩?
            '鑲ヤ笢鍘?: { lat: 31.8833, lng: 117.4833 },
            '鑲ヨタ鍘?: { lat: 31.7000, lng: 117.1500 },
            '闀夸赴鍘?: { lat: 32.4833, lng: 117.1500 },
            '搴愭睙鍘?: { lat: 31.2500, lng: 117.2500 },
            '宸㈡箹甯?: { lat: 31.6200, lng: 117.8700 },
            '鏃犱负鍘?: { lat: 31.2000, lng: 117.7000 },
            '鑺滄箹鍘?: { lat: 31.1500, lng: 118.4333 },
            '绻佹槍鍘?: { lat: 31.0700, lng: 118.2300 },
            '鍗楅櫟鍘?: { lat: 30.9000, lng: 118.3000 },
            '鎬€杩滃幙': { lat: 32.9000, lng: 117.1833 },
            '浜旀渤鍘?: { lat: 33.1833, lng: 117.8333 },
            '鍥洪晣鍘?: { lat: 33.3333, lng: 117.3000 },
            '鍑ゅ彴鍘?: { lat: 32.6333, lng: 116.7833 },
            '瀵垮幙': { lat: 32.5500, lng: 116.7000 },
            '褰撴秱鍘?: { lat: 31.5500, lng: 118.4833 },
            // 娴欐睙鐪佸幙鍩?
            '妗愬簮鍘?: { lat: 29.8000, lng: 119.6833 },
            '娣冲畨鍘?: { lat: 29.5000, lng: 119.0000 },
            '寤哄痉甯?: { lat: 29.4700, lng: 119.2700 },
            '涓村畨甯?: { lat: 30.2333, lng: 119.7200 },
            '瀵岄槼鍖?: { lat: 30.0000, lng: 119.9333 },
            '涓村畨鍖?: { lat: 30.2333, lng: 119.7200 },
            '姘稿槈鍘?: { lat: 28.1000, lng: 120.6833 },
            '骞抽槼鍘?: { lat: 27.6500, lng: 120.5500 },
            '鑻嶅崡鍘?: { lat: 27.5000, lng: 120.3833 },
            '鏂囨垚鍘?: { lat: 27.7833, lng: 120.0000 },
            '娉伴『鍘?: { lat: 27.5500, lng: 119.7500 },
            '鐟炲畨甯?: { lat: 27.7767, lng: 120.6533 },
            '涔愭竻甯?: { lat: 28.1467, lng: 120.9458 },
            '娲炲ご鍖?: { lat: 27.8333, lng: 121.1000 },
            // 姹熻タ鐪佸幙绾у競
            '涔愬钩甯?: { lat: 28.9000, lng: 117.1500 },
            '鐟炴槍甯?: { lat: 29.6833, lng: 115.6500 },
            '璐垫邯甯?: { lat: 28.3000, lng: 117.2000 },
            '鐟為噾甯?: { lat: 25.8833, lng: 116.0333 },
            '鍗楀悍甯?: { lat: 25.6000, lng: 114.7500 },
            '浜曞唸灞卞競': { lat: 26.5667, lng: 114.1333 },
            '涓板煄甯?: { lat: 28.1833, lng: 115.7000 },
            '妯熸爲甯?: { lat: 28.0000, lng: 115.5000 },
            '楂樺畨甯?: { lat: 28.4500, lng: 115.3333 },
            // 姹熻タ鐪佸幙鍩?
            '鍗楁槍鍘?: { lat: 28.5833, lng: 115.8000 },
            '鏂板缓鍖?: { lat: 28.6833, lng: 115.7000 },
            '瀹変箟鍘?: { lat: 28.8333, lng: 115.6000 },
            '杩涜搐鍘?: { lat: 28.3333, lng: 116.2000 },
            '娴鍘?: { lat: 29.3000, lng: 117.2000 },
            '鑾茶姳鍘?: { lat: 27.1833, lng: 113.9000 },
            '涓婃牀鍘?: { lat: 27.8000, lng: 113.8333 },
            '鑺︽邯鍘?: { lat: 27.6000, lng: 113.9000 },
            '涔濇睙鍘块暱': { lat: 29.7000, lng: 115.9000 },
            '姝﹀畞鍘?: { lat: 29.2000, lng: 115.0500 },
            '淇按鍘?: { lat: 29.0500, lng: 114.5333 },
            '姘镐慨鍘?: { lat: 29.0000, lng: 115.8500 },
            '寰峰畨鍘?: { lat: 29.3000, lng: 115.8000 },
            '鏄熷瓙鍘?: { lat: 29.4833, lng: 116.0333 },
            '閮芥槍鍘?: { lat: 29.2333, lng: 116.2000 },
            '婀栧彛鍘?: { lat: 29.7333, lng: 116.2000 },
            '褰辰鍘?: { lat: 29.9333, lng: 116.5833 },
            // 婀栧寳鐪佸幙鍩?
            '钄＄敻鍖?: { lat: 30.4000, lng: 113.9500 },
            '姹熷鍖?: { lat: 30.3000, lng: 114.3000 },
            '榛勯檪鍖?: { lat: 30.8333, lng: 114.3000 },
            '鏂版床鍖?: { lat: 30.8333, lng: 114.7000 },
            '榛勭煶娓尯': { lat: 30.2333, lng: 115.0500 },
            '瑗垮灞卞尯': { lat: 30.2000, lng: 115.0000 },
            '涓嬮檰鍖?: { lat: 30.2000, lng: 115.0000 },
            '閾佸北鍖?: { lat: 30.2000, lng: 115.0000 },
            '闃虫柊鍘?: { lat: 29.9000, lng: 115.2000 },
            '澶у喍甯?: { lat: 30.0500, lng: 114.9500 },
            '閮ч槼鍖?: { lat: 32.7833, lng: 110.8500 },
            '閮цタ鍘?: { lat: 32.9333, lng: 110.4000 },
            '绔瑰北鍘?: { lat: 32.2333, lng: 110.1833 },
            '绔规邯鍘?: { lat: 32.3333, lng: 109.7833 },
            '鎴垮幙': { lat: 32.1833, lng: 110.7500 },
            '涓规睙鍙ｅ競': { lat: 32.5333, lng: 111.5833 },
            // 婀栧崡鐪佸幙鍩?
            '闀挎矙鍘?: { lat: 28.2333, lng: 113.0333 },
            '鏈涘煄鍖?: { lat: 28.2333, lng: 112.8000 },
            '瀹佷埂甯?: { lat: 28.2333, lng: 112.5333 },
            '娴忛槼甯?: { lat: 28.2667, lng: 113.6333 },
            '鏍床鍘?: { lat: 27.8333, lng: 113.1500 },
            '鏀稿幙': { lat: 27.0000, lng: 113.3333 },
            '鑼堕櫟鍘?: { lat: 26.7000, lng: 113.5000 },
            '鐐庨櫟鍘?: { lat: 26.3000, lng: 113.7000 },
            '閱撮櫟甯?: { lat: 27.6750, lng: 113.4250 },
            '婀樻江鍘?: { lat: 27.8333, lng: 112.9000 },
            '婀樹埂甯?: { lat: 27.7500, lng: 112.5333 },
            '闊跺北甯?: { lat: 27.9333, lng: 112.5500 },
            // 骞夸笢鐪佸幙绾у競
            '涔愭槍甯?: { lat: 25.1333, lng: 113.3000 },
            '鍗楅泟甯?: { lat: 25.1333, lng: 114.3333 },
            '鍚村窛甯?: { lat: 21.4333, lng: 110.7833 },
            '寤夋睙甯?: { lat: 21.6333, lng: 110.1833 },
            '闆峰窞甯?: { lat: 20.9000, lng: 110.0833 },
            '鍥涗細甯?: { lat: 23.3500, lng: 112.6167 },
            '楂樿甯?: { lat: 23.0333, lng: 112.4667 },
            '鍖栧窞甯?: { lat: 21.6000, lng: 110.5000 },
            '淇″疁甯?: { lat: 22.3000, lng: 110.9000 },
            '楂樺窞甯?: { lat: 21.9333, lng: 110.8333 },
            '鍏村畞甯?: { lat: 24.1500, lng: 115.7333 },
            '闄嗕赴甯?: { lat: 22.9500, lng: 115.7000 },
            '闃虫槬甯?: { lat: 22.1667, lng: 111.7000 },
            '鑻卞痉甯?: { lat: 24.1000, lng: 113.3700 },
            '杩炲窞甯?: { lat: 24.7500, lng: 112.3600 },
            '鏅畞甯?: { lat: 23.2881, lng: 116.1000 },
            '缃楀畾甯?: { lat: 22.7500, lng: 111.5333 },
            // 骞夸笢鐪佸幙鍩?
            '澧炲煄鍖?: { lat: 23.2700, lng: 113.8200 },
            '浠庡寲鍖?: { lat: 23.5500, lng: 113.5333 },
            '鑺遍兘鍖?: { lat: 23.4000, lng: 113.1000 },
            '鐣鍖?: { lat: 23.0500, lng: 113.3200 },
            '鍗楁矙鍖?: { lat: 22.7500, lng: 113.5500 },
            '榛勫煍鍖?: { lat: 23.1167, lng: 113.4500 },
            '鐧戒簯鍖?: { lat: 23.2833, lng: 113.2500 },
            '澶╂渤鍖?: { lat: 23.1333, lng: 113.3500 },
            '瓒婄鍖?: { lat: 23.1250, lng: 113.2500 },
            '娴风彔鍖?: { lat: 23.0833, lng: 113.3000 },
            '鑽旀咕鍖?: { lat: 23.1250, lng: 113.2000 },
            '绂呭煄鍖?: { lat: 23.0000, lng: 113.1000 },
            '鍗楁捣鍖?: { lat: 23.0347, lng: 113.1222 },
            '椤哄痉鍖?: { lat: 22.8076, lng: 113.2894 },
            '楂樻槑鍖?: { lat: 22.6500, lng: 112.8000 },
            '涓夋按鍖?: { lat: 23.1000, lng: 112.8500 },
            // 杈藉畞鐪佸幙绾у競
            '鏂版皯甯?: { lat: 41.9333, lng: 122.7000 },
            '鐡︽埧搴楀競': { lat: 39.6333, lng: 121.9833 },
            '鏅叞搴楀競': { lat: 39.3500, lng: 122.2000 },
            '搴勬渤甯?: { lat: 39.7000, lng: 122.9333 },
            '娴峰煄甯?: { lat: 40.8000, lng: 122.7833 },
            '涓滄腐甯?: { lat: 39.9500, lng: 124.1667 },
            '鍑ゅ煄甯?: { lat: 40.3500, lng: 124.0500 },
            '鍑屾捣甯?: { lat: 41.1333, lng: 121.3333 },
            '鍖楅晣甯?: { lat: 41.6333, lng: 121.8500 },
            '澶х煶妗ュ競': { lat: 40.6333, lng: 122.5333 },
            '鐩栧窞甯?: { lat: 40.4000, lng: 122.3000 },
            '鐏甯?: { lat: 41.3333, lng: 123.2000 },
            '璋冨叺灞卞競': { lat: 42.4333, lng: 123.5000 },
            '寮€鍘熷競': { lat: 42.5333, lng: 124.0500 },
            '鍑屾簮甯?: { lat: 41.2500, lng: 119.3333 },
            '鍖楃エ甯?: { lat: 41.8333, lng: 120.7000 },
            '鍏村煄甯?: { lat: 40.6000, lng: 120.7000 },
            // 鍚夋灄鐪佸幙绾у競
            '寰锋儬甯?: { lat: 44.5333, lng: 125.6000 },
            '涔濆彴甯?: { lat: 44.1500, lng: 125.8500 },
            '姒嗘爲甯?: { lat: 44.8333, lng: 126.5500 },
            '铔熸渤甯?: { lat: 43.7500, lng: 127.3500 },
            '妗︾敻甯?: { lat: 42.9833, lng: 126.7000 },
            '鑸掑叞甯?: { lat: 44.4000, lng: 126.9500 },
            '纾愮煶甯?: { lat: 42.9333, lng: 126.0500 },
            '鍏富宀競': { lat: 43.5000, lng: 124.8000 },
            '鍙岃窘甯?: { lat: 43.5333, lng: 123.5000 },
            '姊呮渤鍙ｅ競': { lat: 42.6900, lng: 125.6900 },
            '闆嗗畨甯?: { lat: 41.1333, lng: 126.1167 },
            '涓存睙甯?: { lat: 41.8333, lng: 126.9500 },
            '娲崡甯?: { lat: 45.3333, lng: 122.7000 },
            '澶у畨甯?: { lat: 45.5500, lng: 124.3333 },
            '寤跺悏甯?: { lat: 42.9000, lng: 129.5000 },
            '鍥句滑甯?: { lat: 42.9700, lng: 129.8500 },
            '鏁﹀寲甯?: { lat: 43.3333, lng: 128.1667 },
            '鐝叉槬甯?: { lat: 42.8333, lng: 130.3333 },
            '榫欎簳甯?: { lat: 42.7500, lng: 129.4833 },
            '鍜岄緳甯?: { lat: 42.5333, lng: 129.0500 },
            // 榛戦緳姹熺渷鍘跨骇甯?
            '灏氬織甯?: { lat: 45.2000, lng: 127.9500 },
            '鍙屽煄甯?: { lat: 45.3333, lng: 126.3333 },
            '浜斿父甯?: { lat: 44.9333, lng: 127.1500 },
            '璁锋渤甯?: { lat: 48.4000, lng: 124.8500 },
            '瀵嗗北甯?: { lat: 45.5333, lng: 131.8500 },
            '铏庢灄甯?: { lat: 45.7500, lng: 133.2000 },
            '閾佸姏甯?: { lat: 46.9333, lng: 128.0500 },
            '缁ヨ姮娌冲競': { lat: 44.4333, lng: 131.2333 },
            '瀹佸畨甯?: { lat: 44.3500, lng: 129.4833 },
            '娴锋灄甯?: { lat: 44.5333, lng: 129.3000 },
            '绌嗘１甯?: { lat: 44.9333, lng: 130.5000 },
            '涓滃畞甯?: { lat: 44.3500, lng: 131.1000 },
            '鍚屾睙甯?: { lat: 47.6000, lng: 132.5500 },
            '瀵岄敠甯?: { lat: 47.2000, lng: 132.0333 },
            '鍖楀畨甯?: { lat: 48.2333, lng: 126.5500 },
            '浜斿ぇ杩炴睜甯?: { lat: 48.6333, lng: 126.0500 },
            '瀹夎揪甯?: { lat: 46.4333, lng: 125.3000 },
            '鑲囦笢甯?: { lat: 46.0700, lng: 125.9300 },
            '娴蜂鸡甯?: { lat: 47.4333, lng: 126.9500 },
            // 娴峰崡鐪佸幙绾у競
            '浜旀寚灞卞競': { lat: 18.7833, lng: 109.5167 },
            '鐞兼捣甯?: { lat: 19.2500, lng: 110.4833 },
            '鍎嬪窞甯?: { lat: 19.5167, lng: 109.5167 },
            '鏂囨槍甯?: { lat: 19.6167, lng: 110.7167 },
            '涓囧畞甯?: { lat: 18.8000, lng: 110.3933 },
            '涓滄柟甯?: { lat: 19.0833, lng: 108.6333 },
            // 璐靛窞鐪佸幙绾у競
            '娓呴晣甯?: { lat: 26.5333, lng: 106.3333 },
            '璧ゆ按甯?: { lat: 28.5833, lng: 105.7833 },
            '浠佹€€甯?: { lat: 27.7833, lng: 106.4167 },
            '鐩樺窞甯?: { lat: 25.7833, lng: 104.6333 },
            '鍏翠箟甯?: { lat: 25.0500, lng: 104.8500 },
            '閮藉寑甯?: { lat: 26.2500, lng: 107.5000 },
            '绂忔硥甯?: { lat: 26.7000, lng: 107.5833 },
            '鍑噷甯?: { lat: 26.5700, lng: 107.9700 },
            '鍏翠粊甯?: { lat: 25.4000, lng: 105.1000 },
            '姣曡妭甯?: { lat: 27.3000, lng: 105.3833 },
            '閾滀粊甯?: { lat: 27.7333, lng: 109.1167 },
            '瀹夐『甯?: { lat: 26.2500, lng: 105.9000 },
            // 浜戝崡鐪佸幙绾у競
            '瀹夊畞甯?: { lat: 24.9500, lng: 102.4833 },
            '瀹ｅ▉甯?: { lat: 26.2500, lng: 104.1000 },
            '姘村瘜甯?: { lat: 28.4333, lng: 104.4500 },
            '鑵惧啿甯?: { lat: 25.0000, lng: 98.5000 },
            '鑺掑競': { lat: 24.4333, lng: 98.5833 },
            '鐟炰附甯?: { lat: 24.0167, lng: 97.8333 },
            '娉告按甯?: { lat: 25.8000, lng: 98.8500 },
            '棣欐牸閲屾媺甯?: { lat: 27.8333, lng: 99.7000 },
            '澶х悊甯?: { lat: 25.6833, lng: 100.1833 },
            '妤氶泟甯?: { lat: 25.0333, lng: 101.5333 },
            '钂欒嚜甯?: { lat: 23.3833, lng: 103.4333 },
            '涓棫甯?: { lat: 23.3500, lng: 103.1833 },
            '寮€杩滃競': { lat: 23.7000, lng: 103.2200 },
            '寮ュ嫆甯?: { lat: 24.4000, lng: 103.4833 },
            '鏂囧北甯?: { lat: 23.3700, lng: 104.2700 },
            '鏅椽甯?: { lat: 22.0000, lng: 100.8000 },
            '鏅幢甯?: { lat: 22.8700, lng: 100.9700 },
            '涓存钵甯?: { lat: 23.8833, lng: 100.0833 },
            '淇濆北甯?: { lat: 25.1000, lng: 99.1833 },
            '鐜夋邯甯?: { lat: 24.3500, lng: 102.5200 },
            // 鐢樿們鐪佸幙绾у競
            '鐜夐棬甯?: { lat: 40.2833, lng: 97.0500 },
            '鏁︾厡甯?: { lat: 40.1333, lng: 94.6500 },
            '涓村甯?: { lat: 35.6167, lng: 103.2000 },
            '鍚堜綔甯?: { lat: 35.0000, lng: 102.9500 },
            // 闈掓捣鐪佸幙绾у競
            '寰蜂护鍝堝競': { lat: 37.3700, lng: 97.3700 },
            '鏍煎皵鏈ㄥ競': { lat: 36.4200, lng: 94.9000 },
            // 鍐呰挋鍙よ嚜娌诲尯鍘跨骇甯?
            '闇嶆灄閮嫆甯?: { lat: 45.5333, lng: 119.6833 },
            '婊℃床閲屽競': { lat: 49.6000, lng: 117.4000 },
            '鐗欏厠鐭冲競': { lat: 49.3000, lng: 120.7000 },
            '鎵庡叞灞競': { lat: 48.0000, lng: 122.7833 },
            '棰濆皵鍙ょ撼甯?: { lat: 50.2000, lng: 119.7000 },
            '鏍规渤甯?: { lat: 50.7833, lng: 121.5333 },
            '涔屽叞娴╃壒甯?: { lat: 46.0833, lng: 122.0833 },
            '闃垮皵灞卞競': { lat: 47.2833, lng: 119.8200 },
            '浜岃繛娴╃壒甯?: { lat: 43.6500, lng: 111.9700 },
            '閿℃灄娴╃壒甯?: { lat: 43.9333, lng: 116.0833 },
            '涓伴晣甯?: { lat: 40.4833, lng: 113.2833 },
            // 骞胯タ澹棌鑷不鍖哄幙绾у競
            '鑽旀郸甯?: { lat: 24.5333, lng: 110.3833 },
            '宀戞邯甯?: { lat: 22.9333, lng: 110.9500 },
            '涓滃叴甯?: { lat: 21.5833, lng: 107.9333 },
            '妗傚钩甯?: { lat: 23.3833, lng: 110.0833 },
            '鍖楁祦甯?: { lat: 22.7333, lng: 110.3000 },
            '闈栬タ甯?: { lat: 23.1500, lng: 106.4333 },
            '骞虫灉甯?: { lat: 23.3333, lng: 107.5333 },
            '鍚堝北甯?: { lat: 23.8333, lng: 108.8000 },
            '鍑ゥ甯?: { lat: 22.1167, lng: 106.7500 },
            // 瑗胯棌鑷不鍖哄幙绾у競
            '鏃ュ杸鍒欏競': { lat: 29.2667, lng: 88.8833 },
            '鏄岄兘甯?: { lat: 31.1500, lng: 97.1833 },
            '鏋楄姖甯?: { lat: 29.5833, lng: 94.4167 },
            '灞卞崡甯?: { lat: 29.2833, lng: 91.7667 },
            '閭ｆ洸甯?: { lat: 31.4833, lng: 92.0667 },
            // 瀹佸鍥炴棌鑷不鍖哄幙绾у競
            '鐏垫甯?: { lat: 38.1833, lng: 106.3333 },
            '闈掗摐宄″競': { lat: 38.0000, lng: 106.0000 },
            // 鏂扮枂缁村惥灏旇嚜娌诲尯鍘跨骇甯?
            '鐭虫渤瀛愬競': { lat: 44.3000, lng: 86.0333 },
            '闃挎媺灏斿競': { lat: 40.5200, lng: 81.2900 },
            '鍥炬湪鑸掑厠甯?: { lat: 39.8333, lng: 79.0333 },
            '浜斿娓犲競': { lat: 44.2833, lng: 87.5833 },
            '鍖楀悲甯?: { lat: 47.3833, lng: 87.8500 },
            '閾侀棬鍏冲競': { lat: 41.7000, lng: 85.9333 },
            '鍙屾渤甯?: { lat: 44.9000, lng: 82.2000 },
            '鍙厠杈炬媺甯?: { lat: 44.1333, lng: 80.8500 },
            '鏄嗙帀甯?: { lat: 37.1833, lng: 79.6333 },
            '鑳℃潹娌冲競': { lat: 44.8833, lng: 85.9500 },
            '鏂版槦甯?: { lat: 42.9333, lng: 93.4833 },
            '鍝堝瘑甯?: { lat: 42.8333, lng: 93.5000 },
            '鍚愰瞾鐣競': { lat: 42.9333, lng: 89.1833 },
            '鏄屽悏甯?: { lat: 44.0333, lng: 87.3167 },
            '闃滃悍甯?: { lat: 44.1833, lng: 87.9833 },
            '绫虫硥甯?: { lat: 43.8333, lng: 87.6000 },
            '鍗氫箰甯?: { lat: 44.9000, lng: 82.1000 },
            '搴撳皵鍕掑競': { lat: 41.7500, lng: 86.0833 },
            '闃垮厠鑻忓競': { lat: 41.1500, lng: 80.2667 },
            '鍠€浠€甯?: { lat: 39.4833, lng: 75.9833 },
            '鍜岀敯甯?: { lat: 37.1167, lng: 79.9167 },
            // 鍙版咕鐪佸幙绾у競
            '鍩洪殕甯?: { lat: 25.1333, lng: 121.7333 },
            '鏂扮甯?: { lat: 24.8333, lng: 120.9667 },
            '鍙颁腑甯?: { lat: 24.1500, lng: 120.6667 },
            '鍢変箟甯?: { lat: 23.4833, lng: 120.4333 },
            '鍙板崡甯?: { lat: 22.9333, lng: 120.1833 },
            '楂橀泟甯?: { lat: 22.6167, lng: 120.3167 },
            // 棣欐腐鐗瑰埆琛屾斂鍖?
            '棣欐腐宀?: { lat: 22.2800, lng: 114.1833 },
            '涔濋緳': { lat: 22.3333, lng: 114.1667 },
            '鏂扮晫': { lat: 22.3750, lng: 114.1333 },
            // 婢抽棬鐗瑰埆琛屾斂鍖?
            '婢抽棬鍗婂矝': { lat: 22.1987, lng: 113.5493 },
            '姘逛粩宀?: { lat: 22.1433, lng: 113.5733 },
            '璺幆宀?: { lat: 22.1333, lng: 113.5500 },
            // 澶栧浗鍩庡競 - 浜氭床
            '涓滀含': { lat: 35.6762, lng: 139.6503 },
            '棣栧皵': { lat: 37.5665, lng: 126.9780 },
            '鏂板姞鍧?: { lat: 1.3521, lng: 103.8198 },
            '鏇艰胺': { lat: 13.7563, lng: 100.5018 },
            '鍚夐殕鍧?: { lat: 3.1390, lng: 101.6869 },
            '闆呭姞杈?: { lat: -6.2088, lng: 106.8456 },
            '椹凹鎷?: { lat: 14.5995, lng: 120.9842 },
            '娌冲唴': { lat: 21.0285, lng: 105.8542 },
            '鑳″織鏄庡競': { lat: 10.8231, lng: 106.6297 },
            '浠板厜': { lat: 16.8667, lng: 96.1914 },
            '閲戣竟': { lat: 11.5561, lng: 104.9282 },
            '涓囪薄': { lat: 17.9757, lng: 102.6331 },
            '鍔犲痉婊￠兘': { lat: 27.7172, lng: 85.3240 },
            '鏂板痉閲?: { lat: 28.6139, lng: 77.2090 },
            '瀛熶拱': { lat: 19.0760, lng: 72.8777 },
            '鍗℃媺濂?: { lat: 24.8607, lng: 67.0011 },
            '浼婃柉鍏板牎': { lat: 33.6844, lng: 73.0479 },
            '寰烽粦鍏?: { lat: 35.6892, lng: 51.3890 },
            '宸存牸杈?: { lat: 33.3152, lng: 44.3661 },
            '鍒╅泤寰?: { lat: 24.7136, lng: 46.6753 },
            '杩嫓': { lat: 25.2048, lng: 55.2708 },
            '闃垮竷鎵庢瘮': { lat: 24.4539, lng: 54.3773 },
            '澶氬搱': { lat: 25.2854, lng: 51.5310 },
            '绉戝▉鐗瑰煄': { lat: 29.3759, lng: 47.9774 },
            '瀹夋浖': { lat: 31.9539, lng: 35.9106 },
            '璐濋瞾鐗?: { lat: 33.8938, lng: 35.5018 },
            '澶ч┈澹潻': { lat: 33.5138, lng: 36.2765 },
            '浼婃柉鍧﹀竷灏?: { lat: 41.0082, lng: 28.9784 },
            '瀹夊崱鎷?: { lat: 39.9334, lng: 32.8597 },
            // 澶栧浗鍩庡競 - 娆ф床
            '浼︽暒': { lat: 51.5074, lng: -0.1278 },
            '宸撮粠': { lat: 48.8566, lng: 2.3522 },
            '鏌忔灄': { lat: 52.5200, lng: 13.4050 },
            '缃楅┈': { lat: 41.9028, lng: 12.4964 },
            '椹痉閲?: { lat: 40.4168, lng: -3.7038 },
            '閲屾柉鏈?: { lat: 38.7223, lng: -9.1393 },
            '缁翠篃绾?: { lat: 48.2082, lng: 16.3738 },
            '甯冮瞾濉炲皵': { lat: 50.8503, lng: 4.3517 },
            '闃垮鏂壒涓?: { lat: 52.3676, lng: 4.9041 },
            '鏃ュ唴鐡?: { lat: 46.2044, lng: 6.1432 },
            '鑻忛粠涓?: { lat: 47.3769, lng: 8.5417 },
            '鎱曞凹榛?: { lat: 48.1351, lng: 11.5820 },
            '娉曞叞鍏嬬': { lat: 50.1109, lng: 8.6821 },
            '姹夊牎': { lat: 53.5511, lng: 9.9937 },
            '鏂痉鍝ュ皵鎽?: { lat: 59.3293, lng: 18.0686 },
            '濂ユ柉闄?: { lat: 59.9139, lng: 10.7522 },
            '鍝ユ湰鍝堟牴': { lat: 55.6761, lng: 12.5683 },
            '璧皵杈涘熀': { lat: 60.1699, lng: 24.9384 },
            '鍗庢矙': { lat: 52.2297, lng: 21.0122 },
            '甯冩媺鏍?: { lat: 50.0755, lng: 14.4378 },
            '甯冭揪浣╂柉': { lat: 47.4979, lng: 19.0402 },
            '甯冨姞鍕掓柉鐗?: { lat: 44.4268, lng: 26.1025 },
            '绱㈣彶浜?: { lat: 42.6977, lng: 23.3219 },
            '闆呭吀': { lat: 37.9838, lng: 23.7275 },
            // 澶栧浗鍩庡競 - 鍖楃編娲?
            '绾界害': { lat: 40.7128, lng: -74.0060 },
            '娲涙潐鐭?: { lat: 34.0522, lng: -118.2437 },
            '鑺濆姞鍝?: { lat: 41.8781, lng: -87.6298 },
            '浼戞柉椤?: { lat: 29.7604, lng: -95.3698 },
            '璐瑰煄': { lat: 39.9526, lng: -75.1652 },
            '鍑ゅ嚢鍩?: { lat: 33.4484, lng: -112.0740 },
            '鍦ｅ畨涓滃凹濂?: { lat: 29.4241, lng: -98.4936 },
            '鍦ｅ湴浜氬摜': { lat: 32.7157, lng: -117.1611 },
            '杈炬媺鏂?: { lat: 32.7767, lng: -96.7970 },
            '鍦ｄ綍濉?: { lat: 37.3382, lng: -121.8863 },
            '澶氫鸡澶?: { lat: 43.6532, lng: -79.3832 },
            '钂欑壒鍒╁皵': { lat: 45.5017, lng: -73.5673 },
            '娓╁摜鍗?: { lat: 49.2827, lng: -123.1207 },
            '娓ュお鍗?: { lat: 45.4215, lng: -75.6972 },
            '澧ㄨタ鍝ュ煄': { lat: 19.4326, lng: -99.1332 },
            '鐡滆揪鎷夊搱鎷?: { lat: 20.6668, lng: -103.3918 },
            '钂欑壒闆?: { lat: 25.6866, lng: -100.3161 },
            // 澶栧浗鍩庡競 - 鍗楃編娲?
            '鍦ｄ繚缃?: { lat: -23.5505, lng: -46.6333 },
            '閲岀害鐑唴鍗?: { lat: -22.9068, lng: -43.1729 },
            '甯冨疁璇烘柉鑹惧埄鏂?: { lat: -34.6037, lng: -58.3816 },
            '鍦ｅ湴浜氬摜': { lat: -33.4489, lng: -70.6693 },
            '鍒╅┈': { lat: -12.0464, lng: -77.0428 },
            '娉㈠摜澶?: { lat: 4.7110, lng: -74.0721 },
            '鍔犳媺鍔犳柉': { lat: 10.4806, lng: -66.9036 },
            '浜氭澗妫?: { lat: -25.2637, lng: -57.5759 },
            '钂欏緱缁寸殑浜?: { lat: -34.9011, lng: -56.1645 },
            '鍩哄': { lat: -0.1807, lng: -78.4678 },
            '鐡滀簹鍩哄皵': { lat: -2.1962, lng: -79.8862 },
            // 澶栧浗鍩庡競 - 澶ф磱娲?
            '鎮夊凹': { lat: -33.8688, lng: 151.2093 },
            '澧ㄥ皵鏈?: { lat: -37.8136, lng: 144.9631 },
            '甯冮噷鏂彮': { lat: -27.4698, lng: 153.0251 },
            '鐝€鏂?: { lat: -31.9505, lng: 115.8605 },
            '闃垮痉鑾卞痉': { lat: -34.9285, lng: 138.6007 },
            '鍫煿鎷?: { lat: -35.2809, lng: 149.1300 },
            '濂ュ厠鍏?: { lat: -36.8485, lng: 174.7633 },
            '鎯犵伒椤?: { lat: -41.2865, lng: 174.7762 },
            // 澶栧浗鍩庡競 - 闈炴床
            '寮€缃?: { lat: 30.0444, lng: 31.2357 },
            '浜氬巻灞卞ぇ': { lat: 31.2001, lng: 29.9187 },
            '寮€鏅暒': { lat: -33.9249, lng: 18.4241 },
            '绾︾堪鍐呮柉鍫?: { lat: -26.2041, lng: 28.0473 },
            '寰风彮': { lat: -29.8587, lng: 31.0218 },
            '鍐呯綏姣?: { lat: -1.2921, lng: 36.8219 },
            '杈剧疮鏂惃鎷夊': { lat: -6.8236, lng: 39.2653 },
            '鎷夊悇鏂?: { lat: 6.5244, lng: 3.3792 },
            '闃垮竷璐?: { lat: 9.0765, lng: 7.3986 },
            '鍠€鍦熺﹩': { lat: 15.5007, lng: 32.5599 },
            '闃垮皵鍙婂皵': { lat: 36.7538, lng: 3.0588 },
            '绐佸凹鏂?: { lat: 36.8065, lng: 10.1815 },
            '鍗¤惃甯冨叞鍗?: { lat: 33.5731, lng: -7.5898 },
            '涓瑰悏灏?: { lat: 35.7596, lng: -5.8339 },
            '鍚夐殕鍧?: { lat: 3.1390, lng: 101.6869 },
            '闆呭姞杈?: { lat: -6.2088, lng: 106.8456 },
            '椹凹鎷?: { lat: 14.5995, lng: 120.9842 },
            '娌冲唴': { lat: 21.0278, lng: 105.8342 },
            '閲戣竟': { lat: 11.5561, lng: 104.9282 },
            '涓囪薄': { lat: 17.9757, lng: 102.6331 },
            '鍐呮瘮閮?: { lat: 19.7417, lng: 96.0785 },
            '浼婃柉鍏板牎': { lat: 33.6844, lng: 73.0479 },
            '鏂板痉閲?: { lat: 28.6139, lng: 77.2090 },
            '瀛熶拱': { lat: 19.0760, lng: 72.8777 },
            '鍗℃媺濂?: { lat: 24.8607, lng: 67.0011 },
            '杈惧崱': { lat: 23.8103, lng: 90.4125 },
            '绉戜鸡鍧?: { lat: 6.9271, lng: 79.8612 },
            '鍔犲痉婊￠兘': { lat: 27.7172, lng: 85.3240 },
            '寤峰竷': { lat: 27.4728, lng: 89.6396 },
            '鍠€甯冨皵': { lat: 34.5333, lng: 69.1667 },
            '寰烽粦鍏?: { lat: 35.6892, lng: 51.3890 },
            '宸存牸杈?: { lat: 33.3152, lng: 44.3661 },
            '鍒╅泤寰?: { lat: 24.7136, lng: 46.6753 },
            '杩嫓': { lat: 25.2048, lng: 55.2708 },
            '澶氬搱': { lat: 25.2867, lng: 51.5333 },
            '闃垮竷鎵庢瘮': { lat: 24.4539, lng: 54.3773 },
            '楹︾撼楹?: { lat: 26.2285, lng: 50.5860 },
            '椹柉鍠€鐗?: { lat: 23.6102, lng: 58.5922 },
            '钀ㄩ偅': { lat: 15.3694, lng: 44.1910 },
            '瀹夊崱鎷?: { lat: 39.9334, lng: 32.8597 },
            '浼婃柉鍧﹀竷灏?: { lat: 41.0082, lng: 28.9784 },
            '澶ч┈澹潻': { lat: 33.5138, lng: 36.2765 },
            '璐濋瞾鐗?: { lat: 33.8938, lng: 35.5018 },
            '瀹夋浖': { lat: 31.9539, lng: 35.9106 },
            '鑰惰矾鎾掑喎': { lat: 31.7683, lng: 35.2137 },
            '寮€缃?: { lat: 30.0444, lng: 31.2357 },
            '鐨勯粠娉㈤噷': { lat: 32.8872, lng: 13.1913 },
            '绐佸凹鏂競': { lat: 36.8065, lng: 10.1815 },
            '闃垮皵鍙婂皵': { lat: 36.7538, lng: 3.0588 },
            '鎷夊反鐗?: { lat: 34.0209, lng: -6.8416 },
            // 澶栧浗鍩庡競 - 娆ф床
            '浼︽暒': { lat: 51.5074, lng: -0.1278 },
            '宸撮粠': { lat: 48.8566, lng: 2.3522 },
            '鏌忔灄': { lat: 52.5200, lng: 13.4050 },
            '缃楅┈': { lat: 41.9028, lng: 12.4964 },
            '椹痉閲?: { lat: 40.4168, lng: -3.7038 },
            '閲屾柉鏈?: { lat: 38.7223, lng: -9.1393 },
            '闃垮鏂壒涓?: { lat: 52.3676, lng: 4.9041 },
            '甯冮瞾濉炲皵': { lat: 50.8503, lng: 4.3517 },
            '缁翠篃绾?: { lat: 48.2082, lng: 16.3738 },
            '鑻忛粠涓?: { lat: 47.3769, lng: 8.5417 },
            '鏃ュ唴鐡?: { lat: 46.2044, lng: 6.1432 },
            '鎱曞凹榛?: { lat: 48.1351, lng: 11.5820 },
            '娉曞叞鍏嬬': { lat: 50.1109, lng: 8.6821 },
            '姹夊牎': { lat: 53.5511, lng: 9.9937 },
            '鏉滃灏斿澶?: { lat: 51.2277, lng: 6.7735 },
            '绉戦殕': { lat: 50.9375, lng: 6.9603 },
            '鏂浘鍔犵壒': { lat: 48.7758, lng: 9.1829 },
            '绫冲叞': { lat: 45.4642, lng: 9.1900 },
            '濞佸凹鏂?: { lat: 45.4408, lng: 12.3155 },
            '浣涚綏浼﹁惃': { lat: 43.7696, lng: 11.2558 },
            '閭ｄ笉鍕掓柉': { lat: 40.8518, lng: 14.2681 },
            '宸村缃楅偅': { lat: 41.3851, lng: 2.1734 },
            '鐡︿鸡瑗夸簹': { lat: 39.4699, lng: -0.3763 },
            '濉炵淮鍒╀簹': { lat: 37.3891, lng: -5.9845 },
            '閲屾柉鏈?: { lat: 38.7223, lng: -9.1393 },
            '娉㈠皵鍥?: { lat: 41.1496, lng: -8.6109 },
            '甯冮瞾鏃?: { lat: 51.2093, lng: 3.2241 },
            '瀹夌壒鍗櫘': { lat: 51.2194, lng: 4.4025 },
            '鍗㈡．鍫″競': { lat: 49.6116, lng: 6.1319 },
            '鍝ユ湰鍝堟牴': { lat: 55.6761, lng: 12.5683 },
            '鏂痉鍝ュ皵鎽?: { lat: 59.3293, lng: 18.0686 },
            '濂ユ柉闄?: { lat: 59.9139, lng: 10.7522 },
            '璧皵杈涘熀': { lat: 60.1699, lng: 24.9384 },
            '闆峰厠闆呮湭鍏?: { lat: 64.1265, lng: -21.8174 },
            '閮芥煆鏋?: { lat: 53.3498, lng: -6.2603 },
            '鐖变竵鍫?: { lat: 55.9533, lng: -3.1883 },
            '鏇煎交鏂壒': { lat: 53.4808, lng: -2.2426 },
            '浼槑缈?: { lat: 52.4862, lng: -1.8904 },
            '鍒╃墿娴?: { lat: 53.4084, lng: -2.9916 },
            '鏍兼媺鏂摜': { lat: 55.8642, lng: -4.2518 },
            '璐濆皵娉曟柉鐗?: { lat: 54.5973, lng: -5.9301 },
            '鍗庢矙': { lat: 52.2297, lng: 21.0122 },
            '甯冩媺鏍?: { lat: 50.0755, lng: 14.4378 },
            '甯冩媺杩柉鎷夊彂': { lat: 48.1486, lng: 17.1077 },
            '甯冭揪浣╂柉': { lat: 47.4979, lng: 19.0402 },
            '缁翠篃绾?: { lat: 48.2082, lng: 16.3738 },
            '甯冨姞鍕掓柉鐗?: { lat: 44.4268, lng: 26.1025 },
            '绱㈤潪浜?: { lat: 42.6977, lng: 23.3219 },
            '闆呭吀': { lat: 37.9838, lng: 23.7275 },
            '钀ㄦ媺鐑獫': { lat: 43.8563, lng: 18.4131 },
            '璐濆皵鏍艰幈寰?: { lat: 44.8170, lng: 20.4651 },
            '鍗㈠竷灏旈泤閭?: { lat: 46.0514, lng: 14.5060 },
            '钀ㄦ牸鍕掑竷': { lat: 45.8150, lng: 15.9819 },
            '鏂鏅噷': { lat: 41.9973, lng: 21.4280 },
            '鍦版媺閭?: { lat: 41.3275, lng: 19.8189 },
            '鑾柉绉?: { lat: 55.7558, lng: 37.6173 },
            '鍦ｅ郊寰楀牎': { lat: 59.9343, lng: 30.3351 },
            // 澶栧浗鍩庡競 - 缇庢床
            '绾界害': { lat: 40.7128, lng: -74.0060 },
            '娲涙潐鐭?: { lat: 34.0522, lng: -118.2437 },
            '鑺濆姞鍝?: { lat: 41.8781, lng: -87.6298 },
            '浼戞柉椤?: { lat: 29.7604, lng: -95.3698 },
            '璐瑰煄': { lat: 39.9526, lng: -75.1652 },
            '鍑ゅ嚢鍩?: { lat: 33.4484, lng: -112.0740 },
            '鍦ｅ畨涓滃凹濂?: { lat: 29.4241, lng: -98.4936 },
            '鍦ｅ湴浜氬摜': { lat: 32.7157, lng: -117.1611 },
            '杈炬媺鏂?: { lat: 32.7767, lng: -96.7970 },
            '鏃ч噾灞?: { lat: 37.7749, lng: -122.4194 },
            '杩堥樋瀵?: { lat: 25.7617, lng: -80.1918 },
            '浜氱壒鍏板ぇ': { lat: 33.7490, lng: -84.3880 },
            '鍗庣洓椤?: { lat: 38.9072, lng: -77.0369 },
            '娉㈠＋椤?: { lat: 42.3601, lng: -71.0589 },
            '瑗块泤鍥?: { lat: 47.6062, lng: -122.3321 },
            '涓逛經': { lat: 39.7392, lng: -104.9903 },
            '澶氫鸡澶?: { lat: 43.6532, lng: -79.3832 },
            '钂欑壒鍒╁皵': { lat: 45.5017, lng: -73.5673 },
            '娓╁摜鍗?: { lat: 49.2827, lng: -123.1207 },
            '娓ュお鍗?: { lat: 45.4215, lng: -75.6972 },
            '鍗″皵鍔犻噷': { lat: 51.0447, lng: -114.0719 },
            '澧ㄨタ鍝ュ煄': { lat: 19.4326, lng: -99.1332 },
            '鐡滆揪鎷夊搱鎷?: { lat: 20.6777, lng: -103.3467 },
            '钂欑壒闆?: { lat: 25.6866, lng: -100.3161 },
            '鍗卞湴椹媺鍩?: { lat: 14.6349, lng: -90.5069 },
            '鍦ｈ惃灏旂摝澶?: { lat: 13.6929, lng: -89.2182 },
            '鐗瑰彜瑗垮姞灏斿反': { lat: 14.0818, lng: -87.2068 },
            '椹偅鐡?: { lat: 12.1328, lng: -86.2500 },
            '鍦ｄ綍濉?: { lat: 9.9281, lng: -84.0907 },
            '宸存嬁椹煄': { lat: 8.9824, lng: -79.5199 },
            '鎷块獨': { lat: 25.0343, lng: -77.3963 },
            '鍝堢摝閭?: { lat: 23.1136, lng: -82.3666 },
            '閲戞柉鏁?: { lat: 17.9667, lng: -76.7931 },
            '澶瓙娓?: { lat: 18.5944, lng: -72.3071 },
            '鍦ｅ鏄庡悇': { lat: 18.4712, lng: -69.9003 },
            '娉㈠摜澶?: { lat: 4.7110, lng: -74.0721 },
            '楹﹀痉鏋?: { lat: 6.2442, lng: -75.5812 },
            '鍗″埄': { lat: 3.4516, lng: -76.5320 },
            '宸村叞鍩轰簹': { lat: 10.9685, lng: -74.7813 },
            '鍔犳媺鍔犳柉': { lat: 10.4880, lng: -66.8792 },
            '椹媺寮€娉?: { lat: 10.6311, lng: -71.6400 },
            '涔旀不鏁?: { lat: 6.8013, lng: -58.1551 },
            '甯曟媺椹噷鍗?: { lat: 5.8520, lng: -55.1661 },
            '鍩哄': { lat: -0.1807, lng: -78.4678 },
            '鐡滀簹鍩哄皵': { lat: -2.1962, lng: -79.8862 },
            '鍒╅┈': { lat: -12.0464, lng: -77.0428 },
            '搴撴柉绉?: { lat: -13.5270, lng: -71.9785 },
            '鎷夊反鏂?: { lat: -16.5000, lng: -68.1500 },
            '鍦ｅ厠椴佹柉': { lat: -17.7863, lng: -63.1816 },
            '宸磋タ鍒╀簹': { lat: -15.7942, lng: -47.8822 },
            '鍦ｄ繚缃?: { lat: -23.5505, lng: -46.6333 },
            '閲岀害鐑唴鍗?: { lat: -22.9068, lng: -43.1729 },
            '钀ㄥ皵鐡﹀': { lat: -12.9714, lng: -38.5014 },
            '绂忓鑾辫惃': { lat: -3.7172, lng: -38.5434 },
            '璐濇礇濂ラ噷钘忕壒': { lat: -19.9167, lng: -43.9345 },
            '鍦ｅ湴浜氬摜': { lat: -33.4489, lng: -70.6693 },
            '鐡﹀皵甯曡幈绱?: { lat: -33.0393, lng: -71.5375 },
            '搴峰鏅タ缈?: { lat: -36.8201, lng: -73.0442 },
            '甯冨疁璇烘柉鑹惧埄鏂?: { lat: -34.6037, lng: -58.3816 },
            '绉戝皵澶氱摝': { lat: -31.4135, lng: -64.1811 },
            '缃楄惃閲屽ゥ': { lat: -32.9468, lng: -60.6393 },
            '钂欏緱缁寸殑浜?: { lat: -34.9011, lng: -56.1645 },
            '浜氭澗妫?: { lat: -25.2637, lng: -57.5759 },
            // 澶栧浗鍩庡競 - 澶ф磱娲?
            '鎮夊凹': { lat: -33.8688, lng: 151.2093 },
            '澧ㄥ皵鏈?: { lat: -37.8136, lng: 144.9631 },
            '甯冮噷鏂彮': { lat: -27.4698, lng: 153.0251 },
            '鐝€鏂?: { lat: -31.9505, lng: 115.8605 },
            '闃垮痉鑾卞痉': { lat: -34.9285, lng: 138.6007 },
            '鍫煿鎷?: { lat: -35.2809, lng: 149.1300 },
            '榛勯噾娴峰哺': { lat: -28.0167, lng: 153.4000 },
            '绾藉崱鏂皵': { lat: -32.9267, lng: 151.7783 },
            '鎯犵伒椤?: { lat: -41.2865, lng: 174.7762 },
            '濂ュ厠鍏?: { lat: -36.8485, lng: 174.7633 },
            '鍩虹潱鍩?: { lat: -43.5321, lng: 172.6362 },
            '浣嗗凹涓?: { lat: -45.8742, lng: 170.5036 },
            '鑾皵鍏规瘮娓?: { lat: -9.4431, lng: 147.1797 },
            '闇嶅凹浜氭媺': { lat: -9.4333, lng: 159.9500 },
            '缁存媺娓?: { lat: -17.7397, lng: 168.3278 },
            '鑻忕摝': { lat: -18.1416, lng: 178.4419 },
            // 澶栧浗鍩庡競 - 闈炴床
            '寮€缃?: { lat: 30.0444, lng: 31.2357 },
            '浜氬巻灞卞ぇ': { lat: 31.2001, lng: 29.9187 },
            '鍚夎惃': { lat: 30.0131, lng: 31.2089 },
            '鍗㈠厠绱?: { lat: 25.6867, lng: 32.6333 },
            '闃挎柉鏃?: { lat: 24.0889, lng: 32.8998 },
            '鐨勯粠娉㈤噷': { lat: 32.8872, lng: 13.1913 },
            '鐝姞瑗?: { lat: 32.1167, lng: 20.0667 },
            '绐佸凹鏂競': { lat: 36.8065, lng: 10.1815 },
            '鏂硶鍏嬫柉': { lat: 34.7333, lng: 10.7500 },
            '闃垮皵鍙婂皵': { lat: 36.7538, lng: 3.0588 },
            '濂ュ叞': { lat: 35.6932, lng: -0.6301 },
            '鍚涘＋鍧︿竵': { lat: 36.3650, lng: 6.6147 },
            '鎷夊反鐗?: { lat: 34.0209, lng: -6.8416 },
            '鍗¤惃甯冨叞鍗?: { lat: 33.5731, lng: -7.5898 },
            '涓瑰悏灏?: { lat: 35.7596, lng: -5.8330 },
            '椹媺鍠€浠€': { lat: 31.6295, lng: -7.9811 },
            '鍔摝鍏嬭倴鐗?: { lat: 18.0650, lng: -15.9980 },
            '杈惧杸灏?: { lat: 14.6937, lng: -17.4441 },
            '鐝彔灏?: { lat: 13.4432, lng: -16.5786 },
            '宸撮┈绉?: { lat: 12.6333, lng: -8.0000 },
            '鐡﹀姞鏉滃彜': { lat: 12.3657, lng: -1.5339 },
            '绉戠撼鍏嬮噷': { lat: 9.5375, lng: -13.7000 },
            '寮楅噷鏁?: { lat: 8.4840, lng: -13.2299 },
            '钂欑綏缁翠簹': { lat: 6.3005, lng: -10.7969 },
            '闃挎瘮璁?: { lat: 5.3451, lng: -4.0246 },
            '浜氱﹩鑻忓厠缃?: { lat: 6.8264, lng: -5.2893 },
            '闃垮厠鎷?: { lat: 5.6037, lng: -0.1870 },
            '搴撻┈瑗?: { lat: 6.6934, lng: -1.6228 },
            '濉旈┈鍒?: { lat: 9.4000, lng: -0.8333 },
            '娲涚編': { lat: 6.1241, lng: 1.2208 },
            '娉㈠璇轰紡': { lat: 6.4965, lng: 2.6036 },
            '绉戞墭鍔?: { lat: 6.3690, lng: 2.4172 },
            '灏间簹缇?: { lat: 13.5137, lng: 2.1098 },
            '闃垮竷璐?: { lat: 9.0765, lng: 7.3986 },
            '鎷夊悇鏂?: { lat: 6.4541, lng: 3.3947 },
            '鍗¤': { lat: 12.0028, lng: 8.5929 },
            '浼婂反涓?: { lat: 7.3776, lng: 3.9470 },
            '闆呮俯寰?: { lat: 3.8667, lng: 11.5167 },
            '鏉滈樋鎷?: { lat: 4.0500, lng: 9.7000 },
            '椹媺鍗?: { lat: 3.7500, lng: 8.7833 },
            '鎭╄淳姊呯撼': { lat: 12.1000, lng: 15.0500 },
            '鐝悏': { lat: 4.3676, lng: 18.5550 },
            '鍠€鍦熺﹩': { lat: 15.5000, lng: 32.5500 },
            '鏈卞反': { lat: 4.8517, lng: 31.5825 },
            '浜氱殑鏂簹璐濆反': { lat: 9.0300, lng: 38.7400 },
            '寰烽浄杈剧摝': { lat: 9.6000, lng: 41.8500 },
            '闃挎柉椹媺': { lat: 15.3311, lng: 38.9250 },
            '鎽╁姞杩矙': { lat: 2.0371, lng: 45.3438 },
            '鍚夊竷鎻愬競': { lat: 11.5820, lng: 43.1456 },
            '鍐呯綏姣?: { lat: 1.2921, lng: 36.8219 },
            '钂欏反钀?: { lat: -4.0435, lng: 39.6682 },
            '鍩鸿嫃鏈?: { lat: 0.1022, lng: 34.7519 },
            '鍧庡笗鎷?: { lat: 0.3476, lng: 32.5825 },
            '鎭╁痉鍩?: { lat: 0.0667, lng: 32.4533 },
            '鍩哄姞鍒?: { lat: -1.9403, lng: 30.0619 },
            '甯冪惣甯冩媺': { lat: -3.3731, lng: 29.3697 },
            '閲戞矙钀?: { lat: -4.3250, lng: 15.3222 },
            '鍗㈡湰宸村笇': { lat: -11.6667, lng: 27.4833 },
            '甯冩媺鏌寸淮灏?: { lat: -4.2667, lng: 15.2667 },
            '鍒╀集缁村皵': { lat: 0.3900, lng: 9.4500 },
            '缃楀畨杈?: { lat: -8.8383, lng: 13.2344 },
            '鍗㈣惃鍗?: { lat: -15.4167, lng: 28.2833 },
            '鍒╅殕鍦?: { lat: -13.9626, lng: 33.7741 },
            '椹櫘鎵?: { lat: -25.9650, lng: 32.5892 },
            '璐濇媺': { lat: -19.8400, lng: 34.8389 },
            '濉旈偅閭ｅ埄浣?: { lat: -18.9136, lng: 47.5361 },
            '瀹夊閭ｉ偅鍒╀經': { lat: -18.9136, lng: 47.5361 },
            '鍥鹃樋椹タ绾?: { lat: -18.1564, lng: 49.3286 },
            '缁村鍒╀簹': { lat: -4.6182, lng: 55.4510 },
            '璺槗娓?: { lat: -20.1619, lng: 57.4983 },
            '鍝堟媺闆?: { lat: -17.8296, lng: 31.0531 },
            '甯冩媺鐡︾害': { lat: -20.1500, lng: 28.5833 },
            '鍝堝崥缃楀唴': { lat: -24.6282, lng: 25.9231 },
            '娓╁緱鍜屽厠': { lat: -22.5594, lng: 17.0833 },
            '姣斿嫆闄€鍒╀簹': { lat: -25.7463, lng: 28.1881 },
            '绾︾堪鍐呮柉鍫?: { lat: -26.2041, lng: 28.0473 },
            '寮€鏅暒': { lat: -33.9249, lng: 18.4241 },
            '寰风彮': { lat: -29.8587, lng: 31.0218 },
            '浼婁附鑾庣櫧娓?: { lat: -33.9600, lng: 25.6000 },
            '濮嗗反宸村唴': { lat: -26.3167, lng: 31.1333 },
            '椹鍗?: { lat: -29.3178, lng: 27.4881 }
        };
        
        // 鍩庡競鐪熷疄鎬ф牎楠屽嚱鏁?
        function isValidCity(city) {
            // 鐩存帴鍖归厤
            if (cityCoordinates[city]) {
                return true;
            }
            
            // 鍘婚櫎鍚庣紑鍖归厤锛堝競銆佸幙銆佸尯銆侀晣銆佷埂銆佹潙绛夛級
            const cityWithoutSuffix = city.replace(/甯倈鍘縷鍖簗闀噟涔鏉憒鐩焲鏃梶鑷不宸瀨鑷不鍘縷鑷不鍖簗鐗瑰埆琛屾斂鍖簗鍦板尯|鐪亅鐩磋緰甯倈鐗瑰埆琛屾斂鍖?g, '');
            if (cityCoordinates[cityWithoutSuffix]) {
                return true;
            }
            
            // 濡傛灉寮€澶磋瘑鍒嚭鏈夋晥鐨勫湴鍚嶏紝鍚庨潰鐨勮窡闅忓垯鏃犻渶璇嗗埆
            // 閬嶅巻鎵€鏈夊煄甯傚潗鏍囷紝妫€鏌ユ槸鍚︽湁鍩庡競鍚嶆槸杈撳叆鐨勫墠缂€
            for (const validCity in cityCoordinates) {
                if (city.startsWith(validCity) || cityWithoutSuffix.startsWith(validCity)) {
                    return true;
                }
            }
            
            // 灏濊瘯鍖归厤鐪佷唤/鍥藉
            const provinceMatch = city.match(/^(鍖椾含|涓婃捣|澶╂触|閲嶅簡|娌冲寳|灞辫タ|杈藉畞|鍚夋灄|榛戦緳姹焲姹熻嫃|娴欐睙|瀹夊窘|绂忓缓|姹熻タ|灞变笢|娌冲崡|婀栧寳|婀栧崡|骞夸笢|娴峰崡|鍥涘窛|璐靛窞|浜戝崡|闄曡タ|鐢樿們|闈掓捣|鍙版咕|鍐呰挋鍙骞胯タ|瑗胯棌|瀹佸|鏂扮枂|棣欐腐|婢抽棬|涓浗|缇庡浗|鑻卞浗|娉曞浗|寰峰浗|鏃ユ湰|闊╁浗|婢冲ぇ鍒╀簹|鍔犳嬁澶淇勭綏鏂瘄鍗板害|宸磋タ|鍗楅潪|鏂板姞鍧椹潵瑗夸簹|娉板浗|鍗板害灏艰タ浜殀鑿插緥瀹緗瓒婂崡|鏌煍瀵▅鑰佹対|缂呯敻|宸村熀鏂潶|瀛熷姞鎷夊浗|鏂噷鍏板崱|灏兼硦灏攟涓嶄腹|闃垮瘜姹梶浼婃湕|浼婃媺鍏媩娌欑壒闃挎媺浼瘄绉戝▉鐗箌闃胯仈閰媩鍗″灏攟宸存灄|闃挎浖|涔熼棬|鍦熻€冲叾|鍙欏埄浜殀榛庡反瀚﹟绾︽棪|浠ヨ壊鍒梶宸村嫆鏂潶|鍩冨強|鍒╂瘮浜殀绐佸凹鏂瘄闃垮皵鍙婂埄浜殀鎽╂礇鍝姣涢噷濉斿凹浜殀濉炲唴鍔犲皵|鍐堟瘮浜殀椹噷|甯冨熀绾虫硶绱鍑犲唴浜殀鍑犲唴浜氭瘮缁峾浣涘緱瑙抾濉炴媺鍒╂槀|鍒╂瘮閲屼簹|绉戠壒杩摝|鍔犵撼|澶氬摜|璐濆畞|灏兼棩灏攟灏兼棩鍒╀簹|鍠€楹﹂殕|璧ら亾鍑犲唴浜殀涔嶅緱|涓潪|鑻忎腹|鍗楄嫃涓箌鍩冨淇勬瘮浜殀鍘勭珛鐗归噷浜殀绱㈤┈閲寍鍚夊竷鎻恷鑲凹浜殀鍧︽灏间簹|涔屽共杈緗鍗㈡椇杈緗甯冮殕杩獆鍒氭灉(閲?|鍒氭灉(甯?|鍔犺摤|鍦ｅ缇庡拰鏅灄瑗挎瘮|瀹夊摜鎷墊璧炴瘮浜殀椹媺缁磡鑾姣斿厠|绉戞懇缃梶椹揪鍔犳柉鍔爘濉炶垖灏攟姣涢噷姹傛柉|鐣欏凹姹獆娲ュ反甯冮煢|鍗氳尐鐡︾撼|绾崇背姣斾簹|鍗楅潪|鏂▉澹叞|鑾辩储鎵榺鎸▉|鐟炲吀|鑺叞|涓归害|鍐板矝|鐖卞皵鍏皘鐖辨矙灏间簹|鎷夎劚缁翠簹|绔嬮櫠瀹泑鐧戒縿缃楁柉|涔屽厠鍏皘娉㈠叞|鎹峰厠|鏂礇浼愬厠|鍖堢墮鍒﹟缃楅┈灏间簹|淇濆姞鍒╀簹|鏂礇鏂囧凹浜殀鍏嬬綏鍦颁簹|娉㈤粦|濉炲皵缁翠簹|榛戝北|鍖楅┈鍏堕】|闃垮皵宸村凹浜殀甯岃厞|鎰忓ぇ鍒﹟姊佃拏鍐坾鍦ｉ┈鍔涜|椹€充粬|瑗跨彮鐗檤钁¤悇鐗檤瀹夐亾灏攟鐟炲＋|鍒楁敮鏁﹀＋鐧粅濂ュ湴鍒﹟姣斿埄鏃秥鑽峰叞|鍗㈡．鍫鎽╃撼鍝娉曞浗|寰峰浗|鑻卞浗|鐖卞皵鍏皘鐩村竷缃楅檧|缇庡浗|鍔犳嬁澶澧ㄨタ鍝鍗卞湴椹媺|浼埄鍏箌钀ㄥ皵鐡﹀|娲兘鎷夋柉|灏煎姞鎷夌摐|鍝ユ柉杈鹃粠鍔爘宸存嬁椹瑋宸村搱椹瑋鍙ゅ反|鐗欎拱鍔爘娴峰湴|澶氱背灏煎姞|瀹夋彁鐡滃拰宸村竷杈緗鍦ｅ熀鑼ㄥ拰灏肩淮鏂瘄澶氱背灏煎厠|鍦ｅ崲瑗夸簹|鍦ｆ枃妫壒鍜屾牸鏋楃撼涓佹柉|鏍兼灄绾宠揪|宸村反澶氭柉|鐗圭珛灏艰揪鍜屽宸村摜|娉㈠榛庡悇|缇庡睘缁村皵浜兢宀泑鑻卞睘缁村皵浜兢宀泑瀹夊湱鎷墊钂欑壒濉炴媺鐗箌鐡滃痉缃楁櫘|椹彁灏煎厠|鍦ｉ┈涓亅鍦ｅ反娉板嫆绫硘鑽峰睘瀹夌殑鍒楁柉|闃块瞾宸磡搴撴媺绱鍗氬灏攟鍝ヤ鸡姣斾簹|濮斿唴鐟炴媺|鍦簹閭鑻忛噷鍗梶娉曞睘鍦簹閭鍘勭摐澶氬皵|绉橀瞾|鐜诲埄缁翠簹|宸磋タ|鏅哄埄|闃挎牴寤穦涔屾媺鍦瓅宸存媺鍦瓅婢冲ぇ鍒╀簹|鏂拌タ鍏皘宸村竷浜氭柊鍑犲唴浜殀鎵€缃楅棬缇ゅ矝|鐡﹀姫闃垮浘|鏂愭祹|鍩洪噷宸存柉|椹粛灏旂兢宀泑瀵嗗厠缃楀凹瑗夸簹鑱旈偊|鐟欓瞾|甯曞姵|钀ㄦ懇浜殀姹ゅ姞|鍥剧摝鍗搴撳厠缇ゅ矝|绾藉焹|鎵樺厠鍔硘缇庡睘钀ㄦ懇浜殀鍏冲矝|鍖楅┈閲屼簹绾崇兢宀泑娉曞睘娉㈠埄灏艰タ浜殀鐡﹀埄鏂拰瀵屽浘绾硘鏂板杸閲屽灏间簹|鐨壒鍑仼缇ゅ矝)$/);
            if (provinceMatch && cityCoordinates[provinceMatch[1]]) {
                return true;
            }
            
            // 灏濊瘯鍖归厤鍥藉棣栭兘
            const countryCapitals = {
                '缇庡浗': '鍗庣洓椤?,
                '鑻卞浗': '浼︽暒',
                '娉曞浗': '宸撮粠',
                '寰峰浗': '鏌忔灄',
                '鏃ユ湰': '涓滀含',
                '闊╁浗': '棣栧皵',
                '婢冲ぇ鍒╀簹': '鍫煿鎷?,
                '鍔犳嬁澶?: '娓ュお鍗?,
                '淇勭綏鏂?: '鑾柉绉?,
                '鍗板害': '鏂板痉閲?,
                '宸磋タ': '宸磋タ鍒╀簹',
                '鍗楅潪': '姣斿嫆闄€鍒╀簹',
                '鏂板姞鍧?: '鏂板姞鍧?,
                '椹潵瑗夸簹': '鍚夐殕鍧?,
                '娉板浗': '鏇艰胺',
                '鍗板害灏艰タ浜?: '闆呭姞杈?,
                '鑿插緥瀹?: '椹凹鎷?,
                '瓒婂崡': '娌冲唴',
                '鏌煍瀵?: '閲戣竟',
                '鑰佹対': '涓囪薄',
                '缂呯敻': '鍐呮瘮閮?,
                '宸村熀鏂潶': '浼婃柉鍏板牎',
                '瀛熷姞鎷夊浗': '杈惧崱',
                '鏂噷鍏板崱': '绉戜鸡鍧?,
                '灏兼硦灏?: '鍔犲痉婊￠兘',
                '涓嶄腹': '寤峰竷',
                '闃垮瘜姹?: '鍠€甯冨皵',
                '浼婃湕': '寰烽粦鍏?,
                '浼婃媺鍏?: '宸存牸杈?,
                '娌欑壒闃挎媺浼?: '鍒╅泤寰?,
                '绉戝▉鐗?: '绉戝▉鐗瑰煄',
                '闃胯仈閰?: '闃垮竷鎵庢瘮',
                '鍗″灏?: '澶氬搱',
                '宸存灄': '楹︾撼楹?,
                '闃挎浖': '椹柉鍠€鐗?,
                '涔熼棬': '钀ㄩ偅',
                '鍦熻€冲叾': '瀹夊崱鎷?,
                '鍙欏埄浜?: '澶ч┈澹潻',
                '榛庡反瀚?: '璐濋瞾鐗?,
                '绾︽棪': '瀹夋浖',
                '浠ヨ壊鍒?: '鑰惰矾鎾掑喎',
                '宸村嫆鏂潶': '鎷夊瀹夋媺',
                '鍩冨強': '寮€缃?,
                '鍒╂瘮浜?: '鐨勯粠娉㈤噷',
                '绐佸凹鏂?: '绐佸凹鏂競',
                '闃垮皵鍙婂埄浜?: '闃垮皵鍙婂皵',
                '鎽╂礇鍝?: '鎷夊反鐗?,
                '姣涢噷濉斿凹浜?: '鍔摝鍏嬭倴鐗?,
                '濉炲唴鍔犲皵': '杈惧杸灏?,
                '鍐堟瘮浜?: '鐝彔灏?,
                '椹噷': '宸撮┈绉?,
                '甯冨熀绾虫硶绱?: '鐡﹀姞鏉滃彜',
                '鍑犲唴浜?: '绉戠撼鍏嬮噷',
                '鍑犲唴浜氭瘮缁?: '姣旂粛',
                '浣涘緱瑙?: '鏅媺浜?,
                '濉炴媺鍒╂槀': '寮楅噷鏁?,
                '鍒╂瘮閲屼簹': '钂欑綏缁翠簹',
                '绉戠壒杩摝': '浜氱﹩鑻忓厠缃?,
                '鍔犵撼': '闃垮厠鎷?,
                '澶氬摜': '娲涚編',
                '璐濆畞': '娉㈠璇轰紡',
                '灏兼棩灏?: '灏间簹缇?,
                '灏兼棩鍒╀簹': '闃垮竷璐?,
                '鍠€楹﹂殕': '闆呮俯寰?,
                '璧ら亾鍑犲唴浜?: '椹媺鍗?,
                '涔嶅緱': '鎭╄淳姊呯撼',
                '涓潪': '鐝悏',
                '鑻忎腹': '鍠€鍦熺﹩',
                '鍗楄嫃涓?: '鏈卞反',
                '鍩冨淇勬瘮浜?: '浜氱殑鏂簹璐濆反',
                '鍘勭珛鐗归噷浜?: '闃挎柉椹媺',
                '绱㈤┈閲?: '鎽╁姞杩矙',
                '鍚夊竷鎻?: '鍚夊竷鎻愬競'
            };
            
            if (countryCapitals[city] && cityCoordinates[countryCapitals[city]]) {
                return true;
            }
            
            if (countryCapitals[cityWithoutSuffix] && cityCoordinates[countryCapitals[cityWithoutSuffix]]) {
                return true;
            }
            
            // 妫€鏌ユ槸鍚︿负鍥藉鍚嶇О
            if (countryCapitals.hasOwnProperty(city)) {
                return true;
            }
            
            if (countryCapitals.hasOwnProperty(cityWithoutSuffix)) {
                return true;
            }
            
            // 鐗规畩澶勭悊锛氭鏌ユ槸鍚︿负鍘跨骇甯傦紙鍙兘闇€瑕佹洿澶嶆潅鐨勫尮閰嶏級
            // 灏濊瘯鍖归厤鍩庡競鍚嶄腑鐨勭渷浠戒俊鎭?
            const provincePattern = /(鍖椾含|涓婃捣|澶╂触|閲嶅簡|娌冲寳|灞辫タ|杈藉畞|鍚夋灄|榛戦緳姹焲姹熻嫃|娴欐睙|瀹夊窘|绂忓缓|姹熻タ|灞变笢|娌冲崡|婀栧寳|婀栧崡|骞夸笢|娴峰崡|鍥涘窛|璐靛窞|浜戝崡|闄曡タ|鐢樿們|闈掓捣|鍙版咕|鍐呰挋鍙骞胯タ|瑗胯棌|瀹佸|鏂扮枂)/;
            const provinceInCity = city.match(provincePattern);
            if (provinceInCity) {
                // 鎻愬彇鍩庡競鍚嶏紙鍘婚櫎鐪佷唤锛?
                const cityOnly = city.replace(provinceInCity[0], '').replace(/甯倈鍘縷鍖簗闀噟涔鏉?g, '').trim();
                if (cityCoordinates[cityOnly]) {
                    return true;
                }
            }
            
            return false;
        }
        
        // 璁＄畻涓ょ偣涔嬮棿鐨勬柟浣嶈锛堣繑鍥?-360搴︼級
        function calculateBearing(lat1, lng1, lat2, lng2) {
            // 灏嗙粡绾害杞崲涓哄姬搴?
            const toRad = (degrees) => degrees * Math.PI / 180;
            const toDeg = (radians) => radians * 180 / Math.PI;
            
            lat1 = toRad(lat1);
            lng1 = toRad(lng1);
            lat2 = toRad(lat2);
            lng2 = toRad(lng2);
            
            // 璁＄畻缁忓害宸紝浣跨敤鍚戜笢鐨勮矾寰勶紙鏇寸鍚堢洿瑙傛劅鍙楋級
            let deltaLng = lng2 - lng1;
            
            // 璁＄畻鏂逛綅瑙?
            const y = Math.sin(deltaLng) * Math.cos(lat2);
            const x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(deltaLng);
            
            let bearing = Math.atan2(y, x);
            
            // 杞崲涓哄害鏁?
            bearing = toDeg(bearing);
            
            // 杞崲涓?-360搴?
            bearing = (bearing + 360) % 360;
            
            return bearing;
        }
        
        // 灏嗘柟浣嶈杞崲涓烘柟浣嶅悕绉帮紙浠?5掳涓哄垝鍒嗗師鍒欙紝鏇寸鍚堢洿瑙傛劅鍙楋級
        function bearingToDirection(bearing) {
            // 璋冩暣鏂逛綅瑙掞紝纭繚0-360搴?
            bearing = (bearing + 360) % 360;
            
            // 鏇寸粏鐨勬柟鍚戝垝鍒嗭紝绗﹀悎鐩磋鎰熷彈
            if (bearing < 11.25 || bearing >= 348.75) {
                return '鍖?;
            } else if (bearing >= 11.25 && bearing < 33.75) {
                return '鍖楀亸涓?;
            } else if (bearing >= 33.75 && bearing < 56.25) {
                return '涓滃寳';
            } else if (bearing >= 56.25 && bearing < 78.75) {
                return '涓滃亸鍖?;
            } else if (bearing >= 78.75 && bearing < 101.25) {
                return '涓?;
            } else if (bearing >= 101.25 && bearing < 123.75) {
                return '涓滃亸鍗?;
            } else if (bearing >= 123.75 && bearing < 146.25) {
                return '涓滃崡';
            } else if (bearing >= 146.25 && bearing < 168.75) {
                return '鍗楀亸涓?;
            } else if (bearing >= 168.75 && bearing < 191.25) {
                return '鍗?;
            } else if (bearing >= 191.25 && bearing < 213.75) {
                return '鍗楀亸瑗?;
            } else if (bearing >= 213.75 && bearing < 236.25) {
                return '瑗垮崡';
            } else if (bearing >= 236.25 && bearing < 258.75) {
                return '瑗垮亸鍗?;
            } else if (bearing >= 258.75 && bearing < 281.25) {
                return '瑗?;
            } else if (bearing >= 281.25 && bearing < 303.75) {
                return '瑗垮亸鍖?;
            } else if (bearing >= 303.75 && bearing < 326.25) {
                return '瑗垮寳';
            } else if (bearing >= 326.25 && bearing < 348.75) {
                return '鍖楀亸瑗?;
            }
            return '鍖?; // 榛樿杩斿洖鍖?
        }
        
        // 鑾峰彇鏂逛綅鐨勫搴旀柟浣嶏紙濡備笢鍖楀搴旇タ鍗楋紝涓滃崡瀵瑰簲瑗垮寳锛?
        function getOppositeDirection(direction) {
            const oppositeMap = {
                '鍖?: '鍗?,
                '鍖楀亸涓?: '鍗楀亸瑗?,
                '涓滃寳': '瑗垮崡',
                '涓滃亸鍖?: '瑗垮亸鍗?,
                '涓?: '瑗?,
                '涓滃亸鍗?: '瑗垮亸鍖?,
                '涓滃崡': '瑗垮寳',
                '鍗楀亸涓?: '鍖楀亸瑗?,
                '鍗?: '鍖?,
                '鍗楀亸瑗?: '鍖楀亸涓?,
                '瑗垮崡': '涓滃寳',
                '瑗垮亸鍗?: '涓滃亸鍖?,
                '瑗?: '涓?,
                '瑗垮亸鍖?: '涓滃亸鍗?,
                '瑗垮寳': '涓滃崡',
                '鍖楀亸瑗?: '鍗楀亸涓?,
                '鏈湴': '鏈湴'
            };
            return oppositeMap[direction] || direction;
        }
        
        // 灏嗘柟浣嶅綊绫伙紙涓滃寳銆佽タ鍖楀睘浜庡寳锛岃タ鍗椼€佷笢鍗楀睘浜庡崡锛屾湰鍦板睘浜庡崡锛?
        function categorizeDirection(direction) {
            if (['鍖楀亸涓?, '涓滃寳', '涓滃亸鍖?, '鍖楀亸瑗?, '瑗垮寳', '瑗垮亸鍖?, '鍖?].includes(direction)) {
                return '鍖?;
            } else if (['鍗楀亸涓?, '涓滃崡', '涓滃亸鍗?, '鍗楀亸瑗?, '瑗垮崡', '瑗垮亸鍗?, '鍗?, '鏈湴'].includes(direction)) {
                return '鍗?;
            } else if (direction === '涓?) {
                return '涓?;
            } else if (direction === '瑗?) {
                return '瑗?;
            }
            return direction;
        }
        
        // 妫€鏌ユ柟浣嶆槸鍚﹀尮閰嶏紙鏈湴鍔犱笂鍗楅兘鍖归厤锛?
        function isDirectionMatch(direction, soulmateDirections) {
            // 鐩存帴鍖归厤
            if (soulmateDirections.includes(direction)) {
                return true;
            }
            
            // 鏈湴鍖归厤鍗椼€佽タ鍗椼€佷笢鍗?
            if (direction === '鏈湴') {
                return soulmateDirections.some(dir => ['鍗?, '瑗垮崡', '涓滃崡'].includes(dir));
            }
            
            // 鍗椼€佽タ鍗椼€佷笢鍗楀尮閰嶆湰鍦?
            if (['鍗?, '瑗垮崡', '涓滃崡'].includes(direction)) {
                return soulmateDirections.includes('鏈湴');
            }
            
            // 褰掔被鍚庡尮閰?
            const categorizedDirection = categorizeDirection(direction);
            return soulmateDirections.some(dir => categorizeDirection(dir) === categorizedDirection);
        }
        
        // 鍩轰簬缁忕含搴︾殑鍦扮悊浣嶇疆鏂逛綅鍒ゆ柇
        function getDirection(fromLocation, toLocation) {
            // 妫€鏌ユ槸鍚︿负鍚屼竴鍦扮偣
            if (fromLocation === toLocation) {
                return '鏈湴';
            }
            
            // 楠岃瘉鍩庡競鐪熷疄鎬?
            if (!isValidCity(fromLocation)) {
                throw new Error(`鏃犳晥鐨勫嚭鍙戝煄甯? ${fromLocation}`);
            }
            
            if (!isValidCity(toLocation)) {
                throw new Error(`鏃犳晥鐨勭洰鏍囧煄甯? ${toLocation}`);
            }
            
            // 杈呭姪鍑芥暟锛氳幏鍙栧湴鐐圭殑缁忕含搴?
            function getCoordinates(location) {
                // 澶勭悊閲嶅鍩庡競鍚嶇殑鐗规畩鎯呭喌
                const duplicateCities = {
                    '瀹夐槼': ['娌冲崡鐪佸畨闃冲競', '璐靛窞鐪佸畨闃冲幙'],
                    '鍗楅槼': ['娌冲崡鐪佸崡闃冲競', '閲嶅簡甯傚崡宸濆尯'],
                    '鏈濋槼': ['杈藉畞鐪佹湞闃冲競', '鍖椾含甯傛湞闃冲尯'],
                    '澶у悓': ['灞辫タ鐪佸ぇ鍚屽競', '鍙版咕鐪佸ぇ鍚屽尯'],
                    '闀挎不': ['灞辫タ鐪侀暱娌诲競', '鍙版咕鐪侀暱娌诲尯'],
                    '鏅嬪煄': ['灞辫タ鐪佹檵鍩庡競', '鍙版咕鐪佹檵瀹夊尯'],
                    '鏈斿窞': ['灞辫タ鐪佹湐宸炲競', '鍙版咕鐪佹湐鍩庡尯'],
                    '鏅嬩腑': ['灞辫タ鐪佹檵涓競', '鍙版咕鐪佹檵涓尯'],
                    '杩愬煄': ['灞辫タ鐪佽繍鍩庡競', '鍙版咕鐪佽繍鍩庡尯'],
                    '蹇诲窞': ['灞辫タ鐪佸炕宸炲競', '鍙版咕鐪佸炕宸炲尯'],
                    '涓存本': ['灞辫タ鐪佷复姹惧競', '鍙版咕鐪佷复姹惧尯'],
                    '鍚曟': ['灞辫タ鐪佸悤姊佸競', '鍙版咕鐪佸悤姊佸尯'],
                    '娌堥槼': ['杈藉畞鐪佹矆闃冲競', '鍙版咕鐪佹矆闃冲尯'],
                    '澶ц繛': ['杈藉畞鐪佸ぇ杩炲競', '鍙版咕鐪佸ぇ杩炲尯'],
                    '闉嶅北': ['杈藉畞鐪侀瀺灞卞競', '鍙版咕鐪侀瀺灞卞尯'],
                    '鎶氶『': ['杈藉畞鐪佹姎椤哄競', '鍙版咕鐪佹姎椤哄尯'],
                    '鏈邯': ['杈藉畞鐪佹湰婧競', '鍙版咕鐪佹湰婧尯'],
                    '涓逛笢': ['杈藉畞鐪佷腹涓滃競', '鍙版咕鐪佷腹涓滃尯'],
                    '閿﹀窞': ['杈藉畞鐪侀敠宸炲競', '鍙版咕鐪侀敠宸炲尯'],
                    '钀ュ彛': ['杈藉畞鐪佽惀鍙ｅ競', '鍙版咕鐪佽惀鍙ｅ尯'],
                    '闃滄柊': ['杈藉畞鐪侀槣鏂板競', '鍙版咕鐪侀槣鏂板尯'],
                    '杈介槼': ['杈藉畞鐪佽窘闃冲競', '鍙版咕鐪佽窘闃冲尯'],
                    '鐩橀敠': ['杈藉畞鐪佺洏閿﹀競', '鍙版咕鐪佺洏閿﹀尯'],
                    '閾佸箔': ['杈藉畞鐪侀搧宀競', '鍙版咕鐪侀搧宀尯'],
                    '鏈濋槼': ['杈藉畞鐪佹湞闃冲競', '鍖椾含甯傛湞闃冲尯'],
                    '钁姦宀?: ['杈藉畞鐪佽懌鑺﹀矝甯?, '鍙版咕鐪佽懌鑺﹀矝鍖?]
                };
                
                // 妫€鏌ユ槸鍚︿负閲嶅鍩庡競鍚?
                const locationWithoutSuffix = location.replace(/甯倈鍘縷鍖簗闀噟涔鏉憒鐩焲鏃梶鑷不宸瀨鑷不鍘縷鑷不鍖簗鐗瑰埆琛屾斂鍖?g, '');
                if (duplicateCities[locationWithoutSuffix]) {
                    throw new Error(`瀛樺湪澶氫釜鍚屽悕鍩庡競锛?{duplicateCities[locationWithoutSuffix].join('銆?)}銆傝杈撳叆鏇磋缁嗙殑鍩庡競鍚嶏紝濡?娌冲崡鐪佸畨闃冲競"鎴?璐靛窞鐪佸畨闃冲幙"銆俙);
                }
                
                // 鐩存帴鍖归厤
                if (cityCoordinates[location]) {
                    return cityCoordinates[location];
                }
                
                // 鍘婚櫎鍚庣紑鍖归厤锛堝競銆佸幙銆佸尯銆侀晣銆佷埂銆佹潙绛夛級
                if (cityCoordinates[locationWithoutSuffix]) {
                    return cityCoordinates[locationWithoutSuffix];
                }
                
                // 濡傛灉寮€澶磋瘑鍒嚭鏈夋晥鐨勫湴鍚嶏紝鍚庨潰鐨勮窡闅忓垯鏃犻渶璇嗗埆
                // 閬嶅巻鎵€鏈夊煄甯傚潗鏍囷紝妫€鏌ユ槸鍚︽湁鍩庡競鍚嶆槸杈撳叆鐨勫墠缂€
                for (const validCity in cityCoordinates) {
                    if (location.startsWith(validCity) || locationWithoutSuffix.startsWith(validCity)) {
                        return cityCoordinates[validCity];
                    }
                }
                
                // 灏濊瘯鍖归厤鐪佷唤/鍥藉
                const provinceMatch = location.match(/^(鍖椾含|涓婃捣|澶╂触|閲嶅簡|娌冲寳|灞辫タ|杈藉畞|鍚夋灄|榛戦緳姹焲姹熻嫃|娴欐睙|瀹夊窘|绂忓缓|姹熻タ|灞变笢|娌冲崡|婀栧寳|婀栧崡|骞夸笢|娴峰崡|鍥涘窛|璐靛窞|浜戝崡|闄曡タ|鐢樿們|闈掓捣|鍙版咕|鍐呰挋鍙骞胯タ|瑗胯棌|瀹佸|鏂扮枂|棣欐腐|婢抽棬|涓浗|缇庡浗|鑻卞浗|娉曞浗|寰峰浗|鏃ユ湰|闊╁浗|婢冲ぇ鍒╀簹|鍔犳嬁澶淇勭綏鏂瘄鍗板害|宸磋タ|鍗楅潪|鏂板姞鍧椹潵瑗夸簹|娉板浗|鍗板害灏艰タ浜殀鑿插緥瀹緗瓒婂崡|鏌煍瀵▅鑰佹対|缂呯敻|宸村熀鏂潶|瀛熷姞鎷夊浗|鏂噷鍏板崱|灏兼硦灏攟涓嶄腹|闃垮瘜姹梶浼婃湕|浼婃媺鍏媩娌欑壒闃挎媺浼瘄绉戝▉鐗箌闃胯仈閰媩鍗″灏攟宸存灄|闃挎浖|涔熼棬|鍦熻€冲叾|鍙欏埄浜殀榛庡反瀚﹟绾︽棪|浠ヨ壊鍒梶宸村嫆鏂潶|鍩冨強|鍒╂瘮浜殀绐佸凹鏂瘄闃垮皵鍙婂埄浜殀鎽╂礇鍝姣涢噷濉斿凹浜殀濉炲唴鍔犲皵|鍐堟瘮浜殀椹噷|甯冨熀绾虫硶绱鍑犲唴浜殀鍑犲唴浜氭瘮缁峾浣涘緱瑙抾濉炴媺鍒╂槀|鍒╂瘮閲屼簹|绉戠壒杩摝|鍔犵撼|澶氬摜|璐濆畞|灏兼棩灏攟灏兼棩鍒╀簹|鍠€楹﹂殕|璧ら亾鍑犲唴浜殀涔嶅緱|涓潪|鑻忎腹|鍗楄嫃涓箌鍩冨淇勬瘮浜殀鍘勭珛鐗归噷浜殀绱㈤┈閲寍鍚夊竷鎻恷鑲凹浜殀鍧︽灏间簹|涔屽共杈緗鍗㈡椇杈緗甯冮殕杩獆鍒氭灉(閲?|鍒氭灉(甯?|鍔犺摤|鍦ｅ缇庡拰鏅灄瑗挎瘮|瀹夊摜鎷墊璧炴瘮浜殀椹媺缁磡鑾姣斿厠|绉戞懇缃梶椹揪鍔犳柉鍔爘濉炶垖灏攟姣涢噷姹傛柉|鐣欏凹姹獆娲ュ反甯冮煢|鍗氳尐鐡︾撼|绾崇背姣斾簹|鍗楅潪|鏂▉澹叞|鑾辩储鎵榺鎸▉|鐟炲吀|鑺叞|涓归害|鍐板矝|鐖卞皵鍏皘鐖辨矙灏间簹|鎷夎劚缁翠簹|绔嬮櫠瀹泑鐧戒縿缃楁柉|涔屽厠鍏皘娉㈠叞|鎹峰厠|鏂礇浼愬厠|鍖堢墮鍒﹟缃楅┈灏间簹|淇濆姞鍒╀簹|鏂礇鏂囧凹浜殀鍏嬬綏鍦颁簹|娉㈤粦|濉炲皵缁翠簹|榛戝北|鍖楅┈鍏堕】|闃垮皵宸村凹浜殀甯岃厞|鎰忓ぇ鍒﹟姊佃拏鍐坾鍦ｉ┈鍔涜|椹€充粬|瑗跨彮鐗檤钁¤悇鐗檤瀹夐亾灏攟鐟炲＋|鍒楁敮鏁﹀＋鐧粅濂ュ湴鍒﹟姣斿埄鏃秥鑽峰叞|鍗㈡．鍫鎽╃撼鍝娉曞浗|寰峰浗|鑻卞浗|鐖卞皵鍏皘鐩村竷缃楅檧|缇庡浗|鍔犳嬁澶澧ㄨタ鍝鍗卞湴椹媺|浼埄鍏箌钀ㄥ皵鐡﹀|娲兘鎷夋柉|灏煎姞鎷夌摐|鍝ユ柉杈鹃粠鍔爘宸存嬁椹瑋宸村搱椹瑋鍙ゅ反|鐗欎拱鍔爘娴峰湴|澶氱背灏煎姞|瀹夋彁鐡滃拰宸村竷杈緗鍦ｅ熀鑼ㄥ拰灏肩淮鏂瘄澶氱背灏煎厠|鍦ｅ崲瑗夸簹|鍦ｆ枃妫壒鍜屾牸鏋楃撼涓佹柉|鏍兼灄绾宠揪|宸村反澶氭柉|鐗圭珛灏艰揪鍜屽宸村摜|娉㈠榛庡悇|缇庡睘缁村皵浜兢宀泑鑻卞睘缁村皵浜兢宀泑瀹夊湱鎷墊钂欑壒濉炴媺鐗箌鐡滃痉缃楁櫘|椹彁灏煎厠|鍦ｉ┈涓亅鍦ｅ反娉板嫆绫硘鑽峰睘瀹夌殑鍒楁柉|闃块瞾宸磡搴撴媺绱鍗氬灏攟鍝ヤ鸡姣斾簹|濮斿唴鐟炴媺|鍦簹閭鑻忛噷鍗梶娉曞睘鍦簹閭鍘勭摐澶氬皵|绉橀瞾|鐜诲埄缁翠簹|宸磋タ|鏅哄埄|闃挎牴寤穦涔屾媺鍦瓅宸存媺鍦瓅婢冲ぇ鍒╀簹|鏂拌タ鍏皘宸村竷浜氭柊鍑犲唴浜殀鎵€缃楅棬缇ゅ矝|鐡﹀姫闃垮浘|鏂愭祹|鍩洪噷宸存柉|椹粛灏旂兢宀泑瀵嗗厠缃楀凹瑗夸簹鑱旈偊|鐟欓瞾|甯曞姵|钀ㄦ懇浜殀姹ゅ姞|鍥剧摝鍗搴撳厠缇ゅ矝|绾藉焹|鎵樺厠鍔硘缇庡睘钀ㄦ懇浜殀鍏冲矝|鍖楅┈閲屼簹绾崇兢宀泑娉曞睘娉㈠埄灏艰タ浜殀鐡﹀埄鏂拰瀵屽浘绾硘鏂板杸閲屽灏间簹|鐨壒鍑仼缇ゅ矝)$/);
                if (provinceMatch && cityCoordinates[provinceMatch[1]]) {
                    return cityCoordinates[provinceMatch[1]];
                }
                
                // 灏濊瘯鍖归厤鍥藉棣栭兘
                const countryCapitals = {
                    '缇庡浗': '鍗庣洓椤?,
                    '鑻卞浗': '浼︽暒',
                    '娉曞浗': '宸撮粠',
                    '寰峰浗': '鏌忔灄',
                    '鏃ユ湰': '涓滀含',
                    '闊╁浗': '棣栧皵',
                    '婢冲ぇ鍒╀簹': '鍫煿鎷?,
                    '鍔犳嬁澶?: '娓ュお鍗?,
                    '淇勭綏鏂?: '鑾柉绉?,
                    '鍗板害': '鏂板痉閲?,
                    '宸磋タ': '宸磋タ鍒╀簹',
                    '鍗楅潪': '姣斿嫆闄€鍒╀簹',
                    '鏂板姞鍧?: '鏂板姞鍧?,
                    '椹潵瑗夸簹': '鍚夐殕鍧?,
                    '娉板浗': '鏇艰胺',
                    '鍗板害灏艰タ浜?: '闆呭姞杈?,
                    '鑿插緥瀹?: '椹凹鎷?,
                    '瓒婂崡': '娌冲唴',
                    '鏌煍瀵?: '閲戣竟',
                    '鑰佹対': '涓囪薄',
                    '缂呯敻': '鍐呮瘮閮?,
                    '宸村熀鏂潶': '浼婃柉鍏板牎',
                    '瀛熷姞鎷夊浗': '杈惧崱',
                    '鏂噷鍏板崱': '绉戜鸡鍧?,
                    '灏兼硦灏?: '鍔犲痉婊￠兘',
                    '涓嶄腹': '寤峰竷',
                    '闃垮瘜姹?: '鍠€甯冨皵',
                    '浼婃湕': '寰烽粦鍏?,
                    '浼婃媺鍏?: '宸存牸杈?,
                    '娌欑壒闃挎媺浼?: '鍒╅泤寰?,
                    '绉戝▉鐗?: '绉戝▉鐗瑰煄',
                    '闃胯仈閰?: '闃垮竷鎵庢瘮',
                    '鍗″灏?: '澶氬搱',
                    '宸存灄': '楹︾撼楹?,
                    '闃挎浖': '椹柉鍠€鐗?,
                    '涔熼棬': '钀ㄩ偅',
                    '鍦熻€冲叾': '瀹夊崱鎷?,
                    '鍙欏埄浜?: '澶ч┈澹潻',
                    '榛庡反瀚?: '璐濋瞾鐗?,
                    '绾︽棪': '瀹夋浖',
                    '浠ヨ壊鍒?: '鑰惰矾鎾掑喎',
                    '宸村嫆鏂潶': '鎷夊瀹夋媺',
                    '鍩冨強': '寮€缃?,
                    '鍒╂瘮浜?: '鐨勯粠娉㈤噷',
                    '绐佸凹鏂?: '绐佸凹鏂競',
                    '闃垮皵鍙婂埄浜?: '闃垮皵鍙婂皵',
                    '鎽╂礇鍝?: '鎷夊反鐗?,
                    '姣涢噷濉斿凹浜?: '鍔摝鍏嬭倴鐗?,
                    '濉炲唴鍔犲皵': '杈惧杸灏?,
                    '鍐堟瘮浜?: '鐝彔灏?,
                    '椹噷': '宸撮┈绉?,
                    '甯冨熀绾虫硶绱?: '鐡﹀姞鏉滃彜',
                    '鍑犲唴浜?: '绉戠撼鍏嬮噷',
                    '鍑犲唴浜氭瘮缁?: '姣旂粛',
                    '浣涘緱瑙?: '鏅媺浜?,
                    '濉炴媺鍒╂槀': '寮楅噷鏁?,
                    '鍒╂瘮閲屼簹': '钂欑綏缁翠簹',
                    '绉戠壒杩摝': '浜氱﹩鑻忓厠缃?,
                    '鍔犵撼': '闃垮厠鎷?,
                    '澶氬摜': '娲涚編',
                    '璐濆畞': '娉㈠璇轰紡',
                    '灏兼棩灏?: '灏间簹缇?,
                    '灏兼棩鍒╀簹': '闃垮竷璐?,
                    '鍠€楹﹂殕': '闆呮俯寰?,
                    '璧ら亾鍑犲唴浜?: '椹媺鍗?,
                    '涔嶅緱': '鎭╄淳姊呯撼',
                    '涓潪': '鐝悏',
                    '鑻忎腹': '鍠€鍦熺﹩',
                    '鍗楄嫃涓?: '鏈卞反',
                    '鍩冨淇勬瘮浜?: '浜氱殑鏂簹璐濆反',
                    '鍘勭珛鐗归噷浜?: '闃挎柉椹媺',
                    '绱㈤┈閲?: '鎽╁姞杩矙',
                    '鍚夊竷鎻?: '鍚夊竷鎻愬競',
                    '鑲凹浜?: '鍐呯綏姣?,
                    '鍧︽灏间簹': '澶氬椹?,
                    '涔屽共杈?: '鍧庡笗鎷?,
                    '鍗㈡椇杈?: '鍩哄姞鍒?,
                    '甯冮殕杩?: '甯冪惣甯冩媺',
                    '鍒氭灉(閲?': '閲戞矙钀?,
                    '鍒氭灉(甯?': '甯冩媺鏌寸淮灏?,
                    '鍔犺摤': '鍒╀集缁村皵',
                    '鍦ｅ缇庡拰鏅灄瑗挎瘮': '鍦ｅ缇?,
                    '瀹夊摜鎷?: '缃楀畨杈?,
                    '璧炴瘮浜?: '鍗㈣惃鍗?,
                    '椹媺缁?: '鍒╅殕鍦?,
                    '鑾姣斿厠': '椹櫘鎵?,
                    '绉戞懇缃?: '鑾綏灏?,
                    '椹揪鍔犳柉鍔?: '濉旈偅閭ｅ埄浣?,
                    '濉炶垖灏?: '缁村鍒╀簹',
                    '姣涢噷姹傛柉': '璺槗娓?,
                    '鐣欏凹姹?: '鍦ｄ絾灏?,
                    '娲ュ反甯冮煢': '鍝堟媺闆?,
                    '鍗氳尐鐡︾撼': '鍝堝崥缃楀唴',
                    '绾崇背姣斾簹': '娓╁緱鍜屽厠',
                    '鍗楅潪': '姣斿嫆闄€鍒╀簹',
                    '鏂▉澹叞': '濮嗗反宸村唴',
                    '鑾辩储鎵?: '椹鍗?,
                    '鎸▉': '濂ユ柉闄?,
                    '鐟炲吀': '鏂痉鍝ュ皵鎽?,
                    '鑺叞': '璧皵杈涘熀',
                    '涓归害': '鍝ユ湰鍝堟牴',
                    '鍐板矝': '闆峰厠闆呮湭鍏?,
                    '鐖卞皵鍏?: '閮芥煆鏋?,
                    '鐖辨矙灏间簹': '濉旀灄',
                    '鎷夎劚缁翠簹': '閲屽姞',
                    '绔嬮櫠瀹?: '缁村皵绾芥柉',
                    '鐧戒縿缃楁柉': '鏄庢柉鍏?,
                    '涔屽厠鍏?: '鍩鸿緟',
                    '娉㈠叞': '鍗庢矙',
                    '鎹峰厠': '甯冩媺鏍?,
                    '鏂礇浼愬厠': '甯冩媺杩柉鎷夊彂',
                    '鍖堢墮鍒?: '甯冭揪浣╂柉',
                    '缃楅┈灏间簹': '甯冨姞鍕掓柉鐗?,
                    '淇濆姞鍒╀簹': '绱㈤潪浜?,
                    '鏂礇鏂囧凹浜?: '鍗㈠竷灏旈泤閭?,
                    '鍏嬬綏鍦颁簹': '钀ㄦ牸鍕掑竷',
                    '娉㈤粦': '钀ㄦ媺鐑獫',
                    '濉炲皵缁翠簹': '璐濆皵鏍艰幈寰?,
                    '榛戝北': '娉㈠痉鎴堥噷瀵?,
                    '鍖楅┈鍏堕】': '鏂鏅噷',
                    '闃垮皵宸村凹浜?: '鍦版媺閭?,
                    '甯岃厞': '闆呭吀',
                    '鎰忓ぇ鍒?: '缃楅┈',
                    '姊佃拏鍐?: '姊佃拏鍐堝煄',
                    '鍦ｉ┈鍔涜': '鍦ｉ┈鍔涜',
                    '椹€充粬': '鐡﹁幈濉?,
                    '瑗跨彮鐗?: '椹痉閲?,
                    '钁¤悇鐗?: '閲屾柉鏈?,
                    '瀹夐亾灏?: '瀹夐亾灏斿煄',
                    '鐟炲＋': '浼皵灏?,
                    '鍒楁敮鏁﹀＋鐧?: '鐡︽潨鍏?,
                    '濂ュ湴鍒?: '缁翠篃绾?,
                    '姣斿埄鏃?: '甯冮瞾濉炲皵',
                    '鑽峰叞': '闃垮鏂壒涓?,
                    '鍗㈡．鍫?: '鍗㈡．鍫″競',
                    '鎽╃撼鍝?: '鎽╃撼鍝ュ煄',
                    '澧ㄨタ鍝?: '澧ㄨタ鍝ュ煄',
                    '鍗卞湴椹媺': '鍗卞湴椹媺鍩?,
                    '浼埄鍏?: '璐濆皵鑾綐',
                    '钀ㄥ皵鐡﹀': '鍦ｈ惃灏旂摝澶?,
                    '娲兘鎷夋柉': '鐗瑰彜瑗垮姞灏斿反',
                    '灏煎姞鎷夌摐': '椹偅鐡?,
                    '鍝ユ柉杈鹃粠鍔?: '鍦ｄ綍濉?,
                    '宸存嬁椹?: '宸存嬁椹煄',
                    '宸村搱椹?: '鎷块獨',
                    '鍙ゅ反': '鍝堢摝閭?,
                    '鐗欎拱鍔?: '閲戞柉鏁?,
                    '娴峰湴': '澶瓙娓?,
                    '澶氱背灏煎姞': '鍦ｅ鏄庡悇',
                    '瀹夋彁鐡滃拰宸村竷杈?: '鍦ｇ害缈?,
                    '鍦ｅ熀鑼ㄥ拰灏肩淮鏂?: '宸存柉鐗瑰皵',
                    '澶氱背灏煎厠': '缃楃储',
                    '鍦ｅ崲瑗夸簹': '鍗℃柉鐗归噷',
                    '鍦ｆ枃妫壒鍜屾牸鏋楃撼涓佹柉': '閲戞柉鏁?,
                    '鏍兼灄绾宠揪': '鍦ｄ箶娌?,
                    '宸村反澶氭柉': '甯冮噷濂囨暒',
                    '鐗圭珛灏艰揪鍜屽宸村摜': '瑗跨彮鐗欐腐',
                    '鍝ヤ鸡姣斾簹': '娉㈠摜澶?,
                    '濮斿唴鐟炴媺': '鍔犳媺鍔犳柉',
                    '鍦簹閭?: '涔旀不鏁?,
                    '鑻忛噷鍗?: '甯曟媺椹噷鍗?,
                    '娉曞睘鍦簹閭?: '鍗″',
                    '鍘勭摐澶氬皵': '鍩哄',
                    '绉橀瞾': '鍒╅┈',
                    '鐜诲埄缁翠簹': '鎷夊反鏂?,
                    '宸磋タ': '宸磋タ鍒╀簹',
                    '鏅哄埄': '鍦ｅ湴浜氬摜',
                    '闃挎牴寤?: '甯冨疁璇烘柉鑹惧埄鏂?,
                    '涔屾媺鍦?: '钂欏緱缁寸殑浜?,
                    '宸存媺鍦?: '浜氭澗妫?,
                    '鏂拌タ鍏?: '鎯犵伒椤?,
                    '宸村竷浜氭柊鍑犲唴浜?: '鑾皵鍏规瘮娓?,
                    '鎵€缃楅棬缇ゅ矝': '闇嶅凹浜氭媺',
                    '鐡﹀姫闃垮浘': '缁存媺娓?,
                    '鏂愭祹': '鑻忕摝',
                    '鍩洪噷宸存柉': '濉旀媺鐡?,
                    '椹粛灏旂兢宀?: '椹湵缃?,
                    '瀵嗗厠缃楀凹瑗夸簹鑱旈偊': '甯曞埄鍩哄皵',
                    '鐟欓瞾': '浜氫鸡',
                    '甯曞姵': '姊呰幈鍑ゥ鍏?,
                    '钀ㄦ懇浜?: '闃跨毊浜?,
                    '姹ゅ姞': '鍔簱闃挎礇娉?,
                    '鍥剧摝鍗?: '瀵岀撼瀵屾彁',
                    '搴撳厠缇ゅ矝': '闃跨摝椴侀樋',
                    '绾藉焹': '闃挎礇鑿?,
                    '鎵樺厠鍔?: '娉曡€冪',
                    '缇庡睘钀ㄦ懇浜?: '甯曟灉甯曟灉',
                    '鍏冲矝': '闃垮姞灏间簹',
                    '鍖楅┈閲屼簹绾崇兢宀?: '濉炵彮',
                    '娉曞睘娉㈠埄灏艰タ浜?: '甯曠毊鎻?,
                    '鐡﹀埄鏂拰瀵屽浘绾?: '椹涔屽浘',
                    '鏂板杸閲屽灏间簹': '鍔編闃?,
                    '鐨壒鍑仼缇ゅ矝': '浜氬綋鏂暒'
                };
                
                // 灏濊瘯鍖归厤鍥藉瀵瑰簲鐨勯閮界粡绾害
                if (countryCapitals[location]) {
                    const capitalCoords = cityCoordinates[countryCapitals[location]];
                    if (capitalCoords) {
                        return capitalCoords;
                    }
                }
                
                // 灏濊瘯鍖归厤鍥藉瀵瑰簲鐨勯閮界粡绾害锛堝幓闄ゅ悗缂€锛?
                if (countryCapitals[locationWithoutSuffix]) {
                    const capitalCoords = cityCoordinates[countryCapitals[locationWithoutSuffix]];
                    if (capitalCoords) {
                        return capitalCoords;
                    }
                }
                
                // 灏濊瘯鍖归厤鍩庡競鍚嶄腑鐨勭渷浠?鍥藉
                for (const country in countryCapitals) {
                    if (location.includes(country) || locationWithoutSuffix.includes(country)) {
                        const capitalCoords = cityCoordinates[countryCapitals[country]];
                        if (capitalCoords) {
                            return capitalCoords;
                        }
                    }
                }
                
                // 鏈€鍚庡皾璇曚娇鐢ㄤ腑鍥戒富瑕佸煄甯傜殑榛樿缁忕含搴?
                const chinaDefaultCoords = { lat: 35.8617, lng: 104.1954 }; // 涓浗鍦扮悊涓績
                const worldDefaultCoords = { lat: 0, lng: 0 }; // 涓栫晫鍦扮悊涓績
                
                // 鍒ゆ柇鏄浗鍐呰繕鏄浗澶栧湴鐐?
                const isChinaLocation = /涓浗|涓崕浜烘皯鍏卞拰鍥絴澶ч檰|鍐呭湴|棣欐腐|婢抽棬|鍙版咕/.test(location) || 
                                       /鍖椾含|涓婃捣|澶╂触|閲嶅簡|娌冲寳|灞辫タ|杈藉畞|鍚夋灄|榛戦緳姹焲姹熻嫃|娴欐睙|瀹夊窘|绂忓缓|姹熻タ|灞变笢|娌冲崡|婀栧寳|婀栧崡|骞夸笢|娴峰崡|鍥涘窛|璐靛窞|浜戝崡|闄曡タ|鐢樿們|闈掓捣|鍙版咕|鍐呰挋鍙骞胯タ|瑗胯棌|瀹佸|鏂扮枂/.test(location) ||
                                       /甯倈鍘縷鍖簗闀噟涔鏉憒鐩焲鏃梶鑷不宸瀨鑷不鍘縷鑷不鍖簗鐗瑰埆琛屾斂鍖?.test(location);
                
                return isChinaLocation ? chinaDefaultCoords : worldDefaultCoords;
            }
            
            // 鑾峰彇鍙屾柟鐨勭粡绾害
            const fromCoords = getCoordinates(fromLocation);
            const toCoords = getCoordinates(toLocation);
            
            // 璁＄畻鏂逛綅瑙?
            const bearing = calculateBearing(fromCoords.lat, fromCoords.lng, toCoords.lat, toCoords.lng);
            // 杞崲涓烘柟浣嶅悕绉?
            return bearingToDirection(bearing);
        }
        
        // 鑾峰彇鎰熸儏鏂逛綅锛堝熀浜庢棩涓讳簲琛屽拰鎬у埆锛?
        function getSoulmateDirection(gender, element) {
            let directions = [];
            
            if (gender === 'male') {
                // 鐢峰懡鍏嬭€呬负濡?
                const soulmateElement = controllingCycles[element];
                for (const [direction, dirElement] of Object.entries(directionElements)) {
                    if (dirElement === soulmateElement) {
                        directions.push(direction);
                    }
                }
            } else {
                // 濂冲懡琚厠鑰呬负澶?
                const soulmateElement = Object.keys(controllingCycles).find(key => controllingCycles[key] === element);
                if (soulmateElement) {
                    for (const [direction, dirElement] of Object.entries(directionElements)) {
                        if (dirElement === soulmateElement) {
                            directions.push(direction);
                        }
                    }
                }
            }
            
            // 濡傛灉鎰熸儏鏂逛綅鍖呭惈鏈湴锛屽悓鏃舵樉绀哄崡銆佽タ鍗椼€佷笢鍗?
            if (directions.includes('鏈湴')) {
                directions = [...new Set([...directions, '鍗?, '瑗垮崡', '涓滃崡'])];
            }
            
            // 濡傛灉鎰熸儏鏂逛綅鍖呭惈鍗椼€佽タ鍗椼€佷笢鍗楋紝鍚屾椂鏄剧ず鏈湴
            if (directions.some(dir => ['鍗?, '瑗垮崡', '涓滃崡'].includes(dir))) {
                directions = [...new Set([...directions, '鏈湴'])];
            }
            
            return directions.length > 0 ? directions : ['鏈煡'];
        }
        
        // 鎯呬荆鏂逛綅鍖归厤鍑芥暟锛堟柊閫昏緫锛?
        function matchLocation(myGender, myLocation, myElement, partnerGender, partnerLocation, partnerElement) {
            let matchScore = 0;
            let explanations = [];
            
            // 1. 妫€鏌ヨ緭鍏ユ槸鍚﹀畬鏁?
            if (!myLocation || !partnerLocation) {
                return {
                    score: 0,
                    isComplete: false,
                    explanations: ['杈撳叆淇℃伅涓嶅畬鏁达紝璇疯ˉ鍏呭弻鏂圭殑鍑虹敓鍦颁俊鎭€?]
                };
            }
            
            // 2. 鏍规嵁鏂伴€昏緫璁＄畻鍖归厤搴?
            let myViewDirection, partnerViewDirection;
            try {
                // 璁＄畻浠庢垜鐨勮搴︾湅瀵规柟鐨勬柟浣?
                myViewDirection = getDirection(myLocation, partnerLocation);
                // 璁＄畻浠庡鏂硅搴︾湅鎴戠殑鏂逛綅锛堢洿鎺ヤ娇鐢ㄥ搴旀柟浣嶏紝纭繚姝ｇ‘瀵瑰簲锛?
                partnerViewDirection = getOppositeDirection(myViewDirection);
            } catch (error) {
                return {
                    score: 0,
                    isComplete: false,
                    explanations: [error.message]
                };
            }
            
            // 鑾峰彇鎴戠殑鎰熸儏鏂逛綅
            const mySoulmateDirections = getSoulmateDirection(myGender, myElement);
            // 鑾峰彇瀵规柟鐨勬劅鎯呮柟浣?
            const partnerSoulmateDirections = getSoulmateDirection(partnerGender, partnerElement);
            
            // 鍒ゆ柇鏄惁鍖归厤
            let myMatch = false;
            let partnerMatch = false;
            
            // 妫€鏌ユ垜鐨勮搴︽槸鍚﹀尮閰?
            if (isDirectionMatch(myViewDirection, mySoulmateDirections)) {
                myMatch = true;
                matchScore += 50;
                explanations.push(`浠庢偍鐨勮搴︼紙${myLocation}锛夌湅锛?{partnerLocation}浣嶄簬${myViewDirection}鏂癸紝涓庢偍鐨勬劅鎯呮柟浣嶅尮閰嶃€俙);
            } else {
                explanations.push(`浠庢偍鐨勮搴︼紙${myLocation}锛夌湅锛?{partnerLocation}浣嶄簬${myViewDirection}鏂癸紝涓庢偍鐨勬劅鎯呮柟浣嶏紙${mySoulmateDirections.join('銆?)}锛変笉鍖归厤銆俙);
            }
            
            // 妫€鏌ュ鏂圭殑瑙掑害鏄惁鍖归厤
            if (isDirectionMatch(partnerViewDirection, partnerSoulmateDirections)) {
                partnerMatch = true;
                matchScore += 50;
                explanations.push(`浠庡鏂硅搴︼紙${partnerLocation}锛夌湅锛?{myLocation}浣嶄簬${partnerViewDirection}鏂癸紝涓庡鏂圭殑鎰熸儏鏂逛綅鍖归厤銆俙);
            } else {
                explanations.push(`浠庡鏂硅搴︼紙${partnerLocation}锛夌湅锛?{myLocation}浣嶄簬${partnerViewDirection}鏂癸紝涓庡鏂圭殑鎰熸儏鏂逛綅锛?{partnerSoulmateDirections.join('銆?)}锛変笉鍖归厤銆俙);
            }
            
            // 娣诲姞鎰熸儏鎴愮珛鏉′欢鐨勮В閲?
            if (myMatch && partnerMatch) {
                explanations.push('鍙屾柟閮戒互鑷繁鍑虹敓鍦颁负瀹氫綅鐐癸紝涓や袱浣嶇疆鐩镐簰鑳藉涓婏紝绗﹀悎鎰熸儏鎴愮珛鏉′欢銆?);
            } else if (myMatch || partnerMatch) {
                explanations.push('涓や袱鍙湁涓€鏂瑰涓婏紝鎰熸儏鍙湁60%鐨勫彲鑳姐€?);
            } else {
                explanations.push('鍙屾柟鏂逛綅閮戒笉鍖归厤锛岄渶瑕佹洿澶氱殑鎰熸儏鍜屽姫鍔涖€?);
            }
            
            // 娣诲姞浜旇鐢熷厠鍏崇郴鐨勮В閲?
            if (myGender === 'male' && controllingCycles[myElement] === partnerElement) {
                explanations.push(`鎮ㄦ槸${elementNames[myElement]}鏃ヤ富锛岀敺鍛藉厠鑰呬负濡伙紝${elementNames[myElement]}鍏?{elementNames[partnerElement]}锛岀鍚堝懡鐞嗘劅鎯呭叧绯汇€俙);
            } else if (myGender === 'female' && controllingCycles[partnerElement] === myElement) {
                explanations.push(`鎮ㄦ槸${elementNames[myElement]}鏃ヤ富锛屽コ鍛借鍏嬭€呬负澶紝${elementNames[partnerElement]}鍏?{elementNames[myElement]}锛岀鍚堝懡鐞嗘劅鎯呭叧绯汇€俙);
            }
            
            // 纭繚鍒嗘暟鍦?-100涔嬮棿
            matchScore = Math.max(0, Math.min(100, matchScore));
            
            // 鏍规嵁鍖归厤鎯呭喌鐢熸垚涓嶅悓鐨勮В璇诲唴瀹?
            let summary = '';
            if (myMatch && partnerMatch) {
                // 鍙屾柟閮藉尮閰?- 100%鍖归厤搴?
                summary = `<h3 class="text-xl font-bold text-red-600 mb-2">鍖归厤搴? 100%</h3>
                           <p class="text-lg italic mb-4">"浣犱滑鏄笂澶╁畨鎺掔殑濮荤紭锛岀┛瓒婂崈骞寸粓灏嗗湪涓€璧?</p>
                           <p>鎭枩锛佹偍鍜屼即渚ｇ殑鏂逛綅鍏崇郴闈炲父鍖归厤锛岃繖鏄毦寰楃殑鎰熸儏澶╁悎鍏崇郴銆?/p>`;
            } else if (myMatch || partnerMatch) {
                // 涓€鏂瑰尮閰?- 60%鍖归厤搴?
                summary = `<h3 class="text-xl font-bold text-yellow-600 mb-2">鍖归厤搴? 60%</h3>
                           <p class="text-lg italic mb-4">"浣犱滑鏄嚑涓栫殑瀛界紭锛屼粖鐢熼渶瑕佺浉浜掔籂缂犲拰鏁戣祹鏂硅兘鍦ㄥ幃瀹堢粓鐢?</p>
                           <p>铏界劧涓嶆槸鏈€瀹岀編鐨勫尮閰嶏紝浣嗕粛鏈変笉閿欑殑鎰熸儏鍩虹銆傞渶瑕佸弻鏂瑰叡鍚屽姫鍔涚粡钀ヨ繖浠芥劅鎯呫€?/p>`;
            } else {
                // 閮戒笉鍖归厤 - 30%鍖归厤搴?
                        summary = `<h3 class="text-xl font-bold text-gray-600 mb-2">鍖归厤搴? 30%</h3>
                           <p class="text-lg italic mb-4 text-gray-600 border-l-4 border-gray-300 pl-4 py-2 bg-gray-50">"浣犱滑鍙槸杩囧锛屽崈鐧惧勾鍙崲鏉ヤ竴娆℃彃鑲?</p>
                           <p class="text-gray-700">鏂逛綅鍏崇郴涓嶆槸寰堝尮閰嶏紝闇€瑕佹洿澶氱殑鎰熸儏绉疮鍜屽弻鏂圭殑鐪熻瘹浠樺嚭銆?/p>`;
            }
            
            // 杩斿洖绾暟鎹紝涓嶅寘鍚獺TML
            return { 
                score: matchScore, 
                summary: summary,
                myMatch, 
                partnerMatch,
                myLocation,
                partnerLocation,
                myViewDirection,
                partnerViewDirection,
                mySoulmateDirections,
                partnerSoulmateDirections,
                myElement,
                partnerElement,
                explanations 
            };
        }
        
        // 妫€鏌ュぉ骞插叧绯?
        function checkStemRelationship(stem1, stem2) {
            // 澶╁共浜斿悎鍏崇郴
            const combiningPairs = {
                jia: 'yi',
                yi: 'jia',
                bing: 'ding',
                ding: 'bing',
                wu: 'ji',
                ji: 'wu',
                geng: 'xin',
                xin: 'geng',
                ren: 'gui',
                gui: 'ren'
            };
            
            if (combiningPairs[stem1] === stem2) {
                return { score: 25, explanation: `澶╁共${getStemName(stem1)}涓?{getStemName(stem2)}鐩稿悎锛屼袱浜哄湪鎬濇兂鍜屾矡閫氫笂杈冧负濂戝悎銆俙 };
            }
            
            // 澶╁共鐩哥敓鍏崇郴
            const generatingPairs = {
                jia: ['bing', 'ding'],
                yi: ['bing', 'ding'],
                bing: ['wu', 'ji'],
                ding: ['wu', 'ji'],
                wu: ['geng', 'xin'],
                ji: ['geng', 'xin'],
                geng: ['ren', 'gui'],
                xin: ['ren', 'gui'],
                ren: ['jia', 'yi'],
                gui: ['jia', 'yi']
            };
            
            if (generatingPairs[stem1] && generatingPairs[stem1].includes(stem2)) {
                return { score: 20, explanation: `澶╁共${getStemName(stem1)}鐢?{getStemName(stem2)}锛屽叧绯昏緝涓哄拰璋愩€俙 };
            }
            
            // 澶╁共鐩稿厠鍏崇郴
            const controllingPairs = {
                jia: ['wu', 'ji'],
                yi: ['wu', 'ji'],
                bing: ['ren', 'gui'],
                ding: ['ren', 'gui'],
                wu: ['ren', 'gui'],
                ji: ['ren', 'gui'],
                geng: ['jia', 'yi'],
                xin: ['jia', 'yi'],
                ren: ['bing', 'ding'],
                gui: ['bing', 'ding']
            };
            
            if (controllingPairs[stem1] && controllingPairs[stem1].includes(stem2)) {
                return { score: -10, explanation: `澶╁共${getStemName(stem1)}鍏?{getStemName(stem2)}锛屽彲鑳戒細鏈変竴浜涜蹇典笂鐨勫樊寮傘€俙 };
            }
            
            return { score: 5, explanation: '澶╁共鍏崇郴涓€鑸紝闇€瑕侀€氳繃娌熼€氬缓绔嬬悊瑙ｃ€? };
        }
        
        // 妫€鏌ュ湴鏀叧绯?
        function checkBranchRelationship(branch1, branch2) {
            // 鍦版敮鍏悎鍏崇郴
            const sixCombining = {
                zi: 'chou',
                chou: 'zi',
                yin: 'hai',
                mao: 'xu',
                chen: 'you',
                si: 'shen',
                wu: 'wei',
                wei: 'wu',
                shen: 'si',
                you: 'chen',
                xu: 'mao',
                hai: 'yin'
            };
            
            if (sixCombining[branch1] === branch2) {
                return { score: 30, explanation: `鍦版敮${getBranchName(branch1)}涓?{getBranchName(branch2)}鍏悎锛屼袱浜虹浉澶勮緝涓鸿瀺娲姐€俙 };
            }
            
            // 鍦版敮涓変細鍏崇郴
            const threeCombining = {
                wood: ['yin', 'mao', 'chen'],
                fire: ['si', 'wu', 'wei'],
                earth: ['chen', 'wei', 'xu', 'chou'],
                metal: ['shen', 'you', 'xu'],
                water: ['hai', 'zi', 'chou']
            };
            
            for (const [element, branches] of Object.entries(threeCombining)) {
                if (branches.includes(branch1) && branches.includes(branch2)) {
                    return { score: 20, explanation: `鍦版敮${getBranchName(branch1)}涓?{getBranchName(branch2)}鍚屽睘${element}锛屾湁鍏卞悓璇█鍜屽叴瓒ｃ€俙 };
                }
            }
            
            // 鍦版敮鍏啿鍏崇郴
            const sixOpposing = {
                zi: 'wu',
                chou: 'wei',
                yin: 'shen',
                mao: 'you',
                chen: 'xu',
                si: 'hai',
                wu: 'zi',
                wei: 'chou',
                shen: 'yin',
                you: 'mao',
                xu: 'chen',
                hai: 'si'
            };
            
            if (sixOpposing[branch1] === branch2) {
                return { score: -15, explanation: `鍦版敮${getBranchName(branch1)}涓?{getBranchName(branch2)}鐩稿啿锛屽彲鑳戒細鏈変竴浜涙€ф牸涓婄殑鍐茬獊銆俙 };
            }
            
            return { score: 5, explanation: '鍦版敮鍏崇郴涓€鑸紝闇€瑕佺浉浜掗€傚簲銆? };
        }
        
        // 鑾峰彇澶╁共鍚嶇О
        function getStemName(stem) {
            const names = {
                jia: '鐢?,
                yi: '涔?,
                bing: '涓?,
                ding: '涓?,
                wu: '鎴?,
                ji: '宸?,
                geng: '搴?,
                xin: '杈?,
                ren: '澹?,
                gui: '鐧?
            };
            return names[stem] || stem;
        }
        
        // 鑾峰彇鍦版敮鍚嶇О
        function getBranchName(branch) {
            const names = {
                zi: '瀛?,
                chou: '涓?,
                yin: '瀵?,
                mao: '鍗?,
                chen: '杈?,
                si: '宸?,
                wu: '鍗?,
                wei: '鏈?,
                shen: '鐢?,
                you: '閰?,
                xu: '鎴?,
                hai: '浜?
            };
            return names[branch] || branch;
        }
        
        // 鑾峰彇澶╁共鐨勪簲琛屽睘鎬?
        function getStemElement(stem) {
            const elements = {
                jia: 'wood',
                yi: 'wood',
                bing: 'fire',
                ding: 'fire',
                wu: 'earth',
                ji: 'earth',
                geng: 'metal',
                xin: 'metal',
                ren: 'water',
                gui: 'water'
            };
            return elements[stem] || 'unknown';
        }
        
        // 妫€鏌ヤ簲琛屽叧绯?
        function checkElementRelationship(element1, element2, gender1, gender2) {
            // 浜旇鐩哥敓鍏崇郴
            const generatingCycles = {
                wood: 'fire',
                fire: 'earth',
                earth: 'metal',
                metal: 'water',
                water: 'wood'
            };
            
            // 浜旇鐩稿厠鍏崇郴
            const controllingCycles = {
                wood: 'earth',
                fire: 'metal',
                earth: 'water',
                metal: 'wood',
                water: 'fire'
            };
            
            const elementNames = {
                wood: '鏈?,
                fire: '鐏?,
                earth: '鍦?,
                metal: '閲?,
                water: '姘?
            };
            
            // 濡傛灉鏄紓鎬э紝鐩哥敓鍏崇郴鏇存湁鍒?
            if (gender1 !== gender2) {
                if (generatingCycles[element1] === element2) {
                    return { score: 15, explanation: `浜旇${elementNames[element1]}鐢?{elementNames[element2]}锛屽紓鎬х浉鐢熷叧绯绘洿涓哄拰璋愩€俙 };
                } else if (generatingCycles[element2] === element1) {
                    return { score: 15, explanation: `浜旇${elementNames[element2]}鐢?{elementNames[element1]}锛屽紓鎬х浉鐢熷叧绯绘洿涓哄拰璋愩€俙 };
                }
            }
            
            // 鍚屾€х浉鍏嬪叧绯婚渶瑕佹洿澶氳皟鍜?
            if (gender1 === gender2 && controllingCycles[element1] === element2) {
                return { score: -10, explanation: `鍚屾€т箣闂?{elementNames[element1]}鍏?{elementNames[element2]}锛岄渶瑕佹洿澶氱殑鐞嗚В鍜屽寘瀹广€俙 };
            }
            
            // 浜旇鐩稿悓
            if (element1 === element2) {
                return { score: 10, explanation: `浜旇鍚屼负${elementNames[element1]}锛屾湁鍏卞悓鐨勬€ф牸鐗圭偣銆俙 };
            }
            
            return { score: 0, explanation: '' };
        }
        
        // 鏍囩椤靛垏鎹㈠嚱鏁?- 澧炲己娴忚鍣ㄥ吋瀹规€х増鏈?
        function initTabs() {
            // 浣跨敤鏍囧噯DOM API鏇夸唬querySelectorAll锛屽寮哄吋瀹规€?
            var tabs = document.getElementsByClassName('tab-btn');
            var tabContents = document.getElementsByClassName('tab-content');
            
            // 浣跨敤鏍囧噯for寰幆鏇夸唬forEach锛屽吋瀹规棫娴忚鍣?
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].addEventListener('click', function() {
                    // 鑾峰彇鐩爣鏍囩椤礗D
                    var targetId = this.getAttribute('data-target');
                    
                    // 鏇存柊鏍囩鏍峰紡 - 鍙垏鎹ctive绫伙紝淇濇寔鍏朵粬鏍峰紡涓€鑷?
                    for (var j = 0; j < tabs.length; j++) {
                        tabs[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    
                    // 鏇存柊鍐呭鏄剧ず
                    for (var k = 0; k < tabContents.length; k++) {
                        tabContents[k].classList.remove('active');
                        tabContents[k].style.display = 'none';
                        if (tabContents[k].id === targetId) {
                            tabContents[k].classList.add('active');
                            tabContents[k].style.display = 'block';
                        }
                    }
                });
            }
        }
        
        // 澶╁共涓洪槼骞叉垨闃村共
        const stemYinyang = {
            'jia': 'yang', 'yi': 'yin',
            'bing': 'yang', 'ding': 'yin',
            'wu': 'yang', 'ji': 'yin',
            'geng': 'yang', 'xin': 'yin',
            'ren': 'yang', 'gui': 'yin'
        };
        
        // 鍦版敮涓洪槼鏀垨闃存敮
        const branchYinyang = {
            'zi': 'yang', 'chou': 'yin',
            'yin': 'yang', 'mao': 'yin',
            'chen': 'yang', 'si': 'yin',
            'wu': 'yang', 'wei': 'yin',
            'shen': 'yang', 'you': 'yin',
            'xu': 'yang', 'hai': 'yin'
        };
        
        // 楠岃瘉澶╁共鍦版敮闃撮槼鍖归厤
        // 瀹氫箟鍏崄鐢插瓙琛紙姝ｇ‘鐨勫ぉ骞插湴鏀粍鍚堬級
        const sixtyJiaZi = {
            'jia-zi': true,
            'yi-chou': true,
            'bing-yin': true,
            'ding-mao': true,
            'wu-chen': true,
            'ji-si': true,
            'geng-wu': true,
            'xin-wei': true,
            'ren-shen': true,
            'gui-you': true,
            'jia-xu': true,
            'yi-hai': true,
            'bing-zi': true,
            'ding-chou': true,
            'wu-yin': true,
            'ji-mao': true,
            'geng-chen': true,
            'xin-si': true,
            'ren-wu': true,
            'gui-wei': true,
            'jia-shen': true,
            'yi-you': true,
            'bing-xu': true,
            'ding-hai': true,
            'wu-zi': true,
            'ji-chou': true,
            'geng-yin': true,
            'xin-mao': true,
            'ren-chen': true,
            'gui-si': true,
            'jia-wu': true,
            'yi-wei': true,
            'bing-shen': true,
            'ding-you': true,
            'wu-xu': true,
            'ji-hai': true,
            'geng-zi': true,
            'xin-chou': true,
            'ren-yin': true,
            'gui-mao': true,
            'jia-chen': true,
            'yi-si': true,
            'bing-wu': true,
            'ding-wei': true,
            'wu-shen': true,
            'ji-you': true,
            'geng-xu': true,
            'xin-hai': true,
            'ren-zi': true,
            'gui-chou': true,
            'jia-yin': true,
            'yi-mao': true,
            'bing-chen': true,
            'ding-si': true,
            'wu-wu': true,
            'ji-wei': true,
            'geng-shen': true,
            'xin-you': true,
            'ren-xu': true,
            'gui-hai': true
        };

        function validateYinyangMatch(stemId, branchId) {
            // 瀹氫箟澶╁共鍦版敮涓枃鍚嶇О鏄犲皠
            const stemsChinese = { 'jia': '鐢?, 'yi': '涔?, 'bing': '涓?, 'ding': '涓?, 'wu': '鎴?, 'ji': '宸?, 'geng': '搴?, 'xin': '杈?, 'ren': '澹?, 'gui': '鐧? };
            const branchesChinese = { 'zi': '瀛?, 'chou': '涓?, 'yin': '瀵?, 'mao': '鍗?, 'chen': '杈?, 'si': '宸?, 'wu': '鍗?, 'wei': '鏈?, 'shen': '鐢?, 'you': '閰?, 'xu': '鎴?, 'hai': '浜? };
            
            const stem = document.getElementById(stemId).value;
            const branch = document.getElementById(branchId).value;
            const stemYinyangValue = stemYinyang[stem];
            const branchYinyangValue = branchYinyang[branch];
            
            // 鑾峰彇鏌卞瓙绫诲瀷锛堝勾銆佹湀銆佹棩銆佹椂锛?
            const pillarType = stemId.split('-')[0];
            const pillarNames = {
                'year': '骞存煴',
                'month': '鏈堟煴',
                'day': '鏃ユ煴',
                'hour': '鏃舵煴'
            };
            const pillarName = pillarNames[pillarType] || pillarType;
            
            // 鑾峰彇鍏冪礌寮曠敤
            const stemElement = document.getElementById(stemId);
            const branchElement = document.getElementById(branchId);
            
            // 鏄剧ず鎴栭殣钘忛敊璇彁绀?
            const errorId = `${stemId}-${branchId}-error`;
            let errorElement = document.getElementById(errorId);
            
            if (!errorElement) {
                // 鍒涘缓閿欒鎻愮ず鍏冪礌
                errorElement = document.createElement('div');
                errorElement.id = errorId;
                errorElement.className = 'text-warning text-sm p-2 bg-warning/10 rounded mt-2 border border-warning/30';
                errorElement.style.display = 'block';
                errorElement.style.width = '100%';
                errorElement.style.marginTop = '5px';
                errorElement.style.marginBottom = '5px';
                errorElement.style.display = 'none';
                branchElement.parentNode.appendChild(errorElement);
            }
            
            let hasWarning = false;
            let warningMessage = '';
            
            // 妫€鏌ュ叚鍗佺敳瀛愭湁鏁堟€?
            const jiaZiKey = `${stem}-${branch}`;
            if (!sixtyJiaZi[jiaZiKey]) {
                // 璁剧疆璀﹀憡淇℃伅锛屾彁绀洪潪鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚?
                warningMessage = `${pillarName}缁勫悎鎻愮ず锛?${stemsChinese[stem]}${branchesChinese[branch]}"涓嶆槸鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚坄;
                hasWarning = true;
            }
            
            // 妫€鏌ラ槾闃冲尮閰?
            if (stemYinyangValue !== branchYinyangValue) {
                warningMessage = `${pillarName}鎻愮ず锛氶槼骞插簲閰嶉槼鏀紝闃村共搴旈厤闃存敮`;
                hasWarning = true;
            }
            
            // 鏄剧ず鎴栭殣钘忚鍛?
            if (hasWarning) {
                // 娓呴櫎绌烘鍐呯殑鎻愮ず淇℃伅
                errorElement.textContent = '';
                errorElement.style.display = 'none';
                
                // 浣跨敤toast鏄剧ず璀﹀憡淇℃伅锛堜繚鐣欙級
                showToast(warningMessage);
                
                // 娣诲姞榛勮壊杈规鎻愮ず鏍峰紡锛堜笉闃绘鐢ㄦ埛閫夋嫨锛?
                stemElement.style.border = '2px solid #ffcc00';
                branchElement.style.border = '2px solid #ffcc00';
                stemElement.style.backgroundColor = '#fff8e1';
                branchElement.style.backgroundColor = '#fff8e1';
            } else {
                // 闅愯棌璀﹀憡淇℃伅
                errorElement.style.display = 'none';
                
                // 绉婚櫎杈规鎻愮ず鏍峰紡
                stemElement.style.border = '';
                branchElement.style.border = '';
                stemElement.style.backgroundColor = '';
                branchElement.style.backgroundColor = '';
            }
            
            // 杩斿洖楠岃瘉缁撴灉
            return !hasWarning;
        }

        // 瀹氫箟骞存煴鍜屾湀鏌辩殑鏈夋晥缁勫悎瑙勫垯锛堥槻姝㈢敳瀛愬勾鍑虹幇鐢插瘏鏈堢瓑鎯呭喌锛?
        const validYearMonthCombinations = {
            // 鐢插勾姝ｆ湀涓轰笝瀵咃紝浜屾湀涓轰竵鍗紝...
            'jia': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 涔欏勾姝ｆ湀涓烘垔瀵咃紝浜屾湀涓哄繁鍗紝...
            'yi': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 涓欏勾姝ｆ湀涓哄簹瀵咃紝浜屾湀涓鸿緵鍗紝...
            'bing': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 涓佸勾姝ｆ湀涓哄，瀵咃紝浜屾湀涓虹櫢鍗紝...
            'ding': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 鎴婂勾姝ｆ湀涓虹敳瀵咃紝浜屾湀涓轰箼鍗紝...
            'wu': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 宸卞勾姝ｆ湀涓轰笝瀵咃紝浜屾湀涓轰竵鍗紝...
            'ji': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 搴氬勾姝ｆ湀涓烘垔瀵咃紝浜屾湀涓哄繁鍗紝...
            'geng': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 杈涘勾姝ｆ湀涓哄簹瀵咃紝浜屾湀涓鸿緵鍗紝...
            'xin': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 澹勾姝ｆ湀涓哄，瀵咃紝浜屾湀涓虹櫢鍗紝...
            'ren': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'],
            // 鐧稿勾姝ｆ湀涓虹敳瀵咃紝浜屾湀涓轰箼鍗紝...
            'gui': ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou']
        };

        // 鏍规嵁骞村共杩囨护绗﹀悎浜旇檸閬佽鍒欑殑鏈堟敮锛堟墍鏈夋湀鏀兘绗﹀悎瑙勫垯锛屽彧闇€鍦ㄩ€夋嫨鍚庤绠楁湀骞诧級
        function filterMonthBranches() {
            const yearStem = document.getElementById('year-stem').value;
            const monthBranch = document.getElementById('month-branch').value;
            
            if (monthBranch && yearStem) {
                // 鏈堝共鏍规嵁骞村共鍜屾湀鏀嚜鍔ㄨ绠楋紝绗﹀悎浜旇檸閬佽鍒?
                autoCalculateMonthStem();
            }
        }
        
        // 鏍规嵁鏈堝共杩囨护鏈堟敮锛岀‘淇濈鍚堥槾闃冲睘鎬у尮閰?
        function filterMonthStemsByYinyang() {
            const monthStem = document.getElementById('month-stem').value;
            const monthBranchSelect = document.getElementById('month-branch');
            const monthBranchOptions = monthBranchSelect.options;
            
            if (monthStem) {
                // 鑾峰彇鏈堝共鐨勯槾闃冲睘鎬?
                const stemYinYangValue = stemYinyang[monthStem];
                
                // 杩囨护鏈堟敮閫夐」锛屽彧鏄剧ず涓庢湀骞查槾闃冲睘鎬у尮閰嶇殑缁勫悎
                // 鍏佽鐢ㄦ埛鑷富閫夋嫨锛屼笉鍐嶈嚜鍔ㄧ籂姝?
                for (let i = 0; i < monthBranchOptions.length; i++) {
                    const branch = monthBranchOptions[i].value;
                    const branchYinYangValue = branchYinyang[branch];
                    // 浠呮樉绀轰笌鏈堝共闃撮槼灞炴€у尮閰嶇殑鏈堟敮
                    monthBranchOptions[i].style.display = (stemYinYangValue === branchYinYangValue) ? '' : 'none';
                }
                
                // 涓嶅啀鑷姩绾犳閫夋嫨锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
            } else {
                // 濡傛灉娌℃湁閫夋嫨鏈堝共锛屾樉绀烘墍鏈夋湀鏀€夐」
                for (let i = 0; i < monthBranchOptions.length; i++) {
                    monthBranchOptions[i].style.display = '';
                }
            }
        }
        
        // 鏍规嵁鏃跺共杩囨护鏃舵敮锛屼笉鍐嶉檺鍒堕槾闃冲睘鎬у尮閰?
        function filterHourBranches() {
            const hourStem = document.getElementById('hour-stem').value;
            const hourBranchSelect = document.getElementById('hour-branch');
            const hourBranchOptions = hourBranchSelect.options;
            
            // 鏄剧ず鎵€鏈夋椂鏀€夐」锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
            for (let i = 0; i < hourBranchOptions.length; i++) {
                hourBranchOptions[i].style.display = '';
            }
        }
        
        // 鏍规嵁骞村共杩囨护骞存敮锛岀‘淇濈鍚堝叚鍗佺敳瀛愯鍒?
        function filterYearBranches() {
            const yearStem = document.getElementById('year-stem').value;
            const yearBranchSelect = document.getElementById('year-branch');
            const yearBranchOptions = yearBranchSelect.options;
            
            if (yearStem) {
                // 杩囨护骞存敮閫夐」锛屽彧鏄剧ず涓庡勾骞插尮閰嶇殑鍏崄鐢插瓙缁勫悎
                for (let i = 0; i < yearBranchOptions.length; i++) {
                    const branch = yearBranchOptions[i].value;
                    const jiaZiKey = `${yearStem}-${branch}`;
                    yearBranchOptions[i].style.display = sixtyJiaZi[jiaZiKey] ? '' : 'none';
                }
                
                // 涓嶅啀鑷姩绾犳閫夋嫨锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
            } else {
                // 濡傛灉娌℃湁閫夋嫨骞村共锛屾樉绀烘墍鏈夊勾鏀€夐」
                for (let i = 0; i < yearBranchOptions.length; i++) {
                    yearBranchOptions[i].style.display = '';
                }
            }
        }
        
        // 鏍规嵁鏈堝共杩囨护鏈堟敮锛岀‘淇濈鍚堜簲铏庨亖瑙勫垯鍜岄槾闃冲睘鎬у尮閰?
        function filterMonthStems() {
            const monthStem = document.getElementById('month-stem').value;
            const monthBranchSelect = document.getElementById('month-branch');
            const monthBranchOptions = monthBranchSelect.options;
            
            if (monthStem) {
                // 鑾峰彇鏈堝共鐨勯槾闃冲睘鎬?
                const stemYinYangValue = stemYinyang[monthStem];
                
                // 杩囨护鏈堟敮閫夐」锛屽彧鏄剧ず涓庢湀骞查槾闃冲睘鎬у尮閰嶇殑缁勫悎
                for (let i = 0; i < monthBranchOptions.length; i++) {
                    const branch = monthBranchOptions[i].value;
                    const branchYinYangValue = branchYinyang[branch];
                    // 浠呮樉绀轰笌鏈堝共闃撮槼灞炴€у尮閰嶇殑鏈堟敮
                    monthBranchOptions[i].style.display = (stemYinYangValue === branchYinYangValue) ? '' : 'none';
                }
                
                // 涓嶅啀鑷姩绾犳閫夋嫨锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
            } else {
                // 濡傛灉娌℃湁閫夋嫨鏈堝共锛屾樉绀烘墍鏈夋湀鏀€夐」
                for (let i = 0; i < monthBranchOptions.length; i++) {
                    monthBranchOptions[i].style.display = '';
                }
            }
        }
        
        // 鏍规嵁鏃ユ敮杩囨护鏃ュ共锛岀‘淇濈鍚堝叚鍗佺敳瀛愯鍒?
        // 鐢ㄤ簬闃叉寰幆瑙﹀彂鐨勬爣蹇?
        let isProgrammaticChange = false;
        
        // 鏍规嵁鏃ユ敮杩囨护鏃ュ共锛岀‘淇濈鍚堝叚鍗佺敳瀛愯鍒欏拰闃撮槼灞炴€у尮閰?
        function filterDayStems() {
            const dayStemSelect = document.getElementById('day-stem');
            const dayStemOptions = dayStemSelect.options;
            
            // 濮嬬粓鏄剧ず鎵€鏈夋棩骞查€夐」锛屽畬鍏ㄧЩ闄よ繃婊ら€昏緫
            // 鍏佽鐢ㄦ埛鑷敱閫夋嫨浠讳綍澶╁共锛堝寘鎷槾骞诧級
            for (let i = 0; i < dayStemOptions.length; i++) {
                dayStemOptions[i].style.display = '';
            }
        }
        
        // 鏍规嵁鏃ュ共杩囨护鏃ユ敮锛岀‘淇濈鍚堝叚鍗佺敳瀛愯鍒欏拰闃撮槼灞炴€у尮閰?
        function filterDayBranches() {
            const dayBranchSelect = document.getElementById('day-branch');
            const dayBranchOptions = dayBranchSelect.options;
            
            // 濮嬬粓鏄剧ず鎵€鏈夋棩鏀€夐」锛屽畬鍏ㄧЩ闄よ繃婊ら€昏緫
            // 鍏佽鐢ㄦ埛鑷敱閫夋嫨浠讳綍鏃ユ敮
            for (let i = 0; i < dayBranchOptions.length; i++) {
                dayBranchOptions[i].style.display = '';
            }
        }
        
        // 鏍规嵁鏃舵敮杩囨护鏃跺共锛岀‘淇濈鍚堥槾闃冲睘鎬у尮閰?
        function filterHourStems() {
            const hourBranch = document.getElementById('hour-branch').value;
            const hourStemSelect = document.getElementById('hour-stem');
            const hourStemOptions = hourStemSelect.options;
            
            // 涓嶅啀璋冪敤autoCalculateHourStem锛岄伩鍏嶅己鍒惰缃椂骞?
            
            // 涓嶅啀杩涜闃撮槼灞炴€у尮閰嶆鏌ワ紝鏄剧ず鎵€鏈夋椂骞查€夐」
            if (hourBranch && hourStemOptions) {
                // 鏄剧ず鎵€鏈夋椂骞查€夐」锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                for (let i = 0; i < hourStemOptions.length; i++) {
                    hourStemOptions[i].style.display = '';
                }
                
                // 涓嶅啀鑷姩绾犳閫夋嫨锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
            }
        }
        
        // 鏍规嵁骞村共鍜屾湀鏀嚜鍔ㄨ绠楃鍚堜簲铏庨亖瑙勫垯鐨勬湀骞?
        function autoCalculateMonthStem() {
            const yearStem = document.getElementById('year-stem').value;
            const monthBranch = document.getElementById('month-branch').value;
            const monthStemSelect = document.getElementById('month-stem');
            
            // 濡傛灉骞村共鍜屾湀鏀兘宸查€夋嫨
            if (yearStem && monthBranch) {
                // 浜旇檸閬佽鍒欙紙骞村共纭畾鏈堝共锛?
                const monthStemRule = {
                    'jia': ['bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding'],
                    'yi': ['wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji'],
                    'bing': ['geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin'],
                    'ding': ['ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui'],
                    'wu': ['jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi'],
                    'ji': ['bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding'],
                    'geng': ['wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji'],
                    'xin': ['geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin'],
                    'ren': ['ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui'],
                    'gui': ['jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi']
                };
                
                // 鑾峰彇鏈堟敮瀵瑰簲鐨勭储寮曪紙瀵呮湀涓烘鏈堬紝绱㈠紩0锛?
                const monthIndex = ['yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai', 'zi', 'chou'].indexOf(monthBranch);
                
                // 涓嶅啀鑷姩璁剧疆鏈堝共锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
            }
        }
        

        
        // 鏍规嵁鏃ュ共杩囨护鏃舵敮锛堜笉寮哄埗璁＄畻鏃跺共锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨锛?
        function filterHourBranchesByDayStem() {
            const hourBranchSelect = document.getElementById('hour-branch');
            const hourOptions = hourBranchSelect.options;
            
            // 鏄剧ず鎵€鏈夋椂鏀€夐」
            for (let i = 0; i < hourOptions.length; i++) {
                hourOptions[i].style.display = '';
            }
            
            // 涓嶅啀鑷姩璁＄畻鏃跺共锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
        }
        
        // 鏍规嵁骞存敮鑷姩璋冩暣骞村共锛岀‘淇濈鍚堝叚鍗佺敳瀛愯鍒?
        function autoCalculateYearStem() {
            const yearBranch = document.getElementById('year-branch').value;
            const yearStemSelect = document.getElementById('year-stem');
            
            if (yearBranch) {
                // 鍏崄鐢插瓙鐨勫勾骞插勾鏀搴斿叧绯伙紙浠ュ勾鏀负閿級
                const yearStemByBranch = {
                    'zi': ['jia', 'bing', 'wu', 'geng', 'ren'],    // 瀛愬勾鍙兘鐨勫ぉ骞诧細鐢层€佷笝銆佹垔銆佸簹銆佸，
                    'chou': ['yi', 'ding', 'ji', 'xin', 'gui'],     // 涓戝勾鍙兘鐨勫ぉ骞诧細涔欍€佷竵銆佸繁銆佽緵銆佺櫢
                    'yin': ['jia', 'bing', 'wu', 'geng', 'ren'],    // 瀵呭勾鍙兘鐨勫ぉ骞诧細鐢层€佷笝銆佹垔銆佸簹銆佸，
                    'mao': ['yi', 'ding', 'ji', 'xin', 'gui'],     // 鍗勾鍙兘鐨勫ぉ骞诧細涔欍€佷竵銆佸繁銆佽緵銆佺櫢
                    'chen': ['jia', 'bing', 'wu', 'geng', 'ren'],    // 杈板勾鍙兘鐨勫ぉ骞诧細鐢层€佷笝銆佹垔銆佸簹銆佸，
                    'si': ['yi', 'ding', 'ji', 'xin', 'gui'],     // 宸冲勾鍙兘鐨勫ぉ骞诧細涔欍€佷竵銆佸繁銆佽緵銆佺櫢
                    'wu': ['jia', 'bing', 'wu', 'geng', 'ren'],    // 鍗堝勾鍙兘鐨勫ぉ骞诧細鐢层€佷笝銆佹垔銆佸簹銆佸，
                    'wei': ['yi', 'ding', 'ji', 'xin', 'gui'],     // 鏈勾鍙兘鐨勫ぉ骞诧細涔欍€佷竵銆佸繁銆佽緵銆佺櫢
                    'shen': ['jia', 'bing', 'wu', 'geng', 'ren'],    // 鐢冲勾鍙兘鐨勫ぉ骞诧細鐢层€佷笝銆佹垔銆佸簹銆佸，
                    'you': ['yi', 'ding', 'ji', 'xin', 'gui'],     // 閰夊勾鍙兘鐨勫ぉ骞诧細涔欍€佷竵銆佸繁銆佽緵銆佺櫢
                    'xu': ['jia', 'bing', 'wu', 'geng', 'ren'],    // 鎴屽勾鍙兘鐨勫ぉ骞诧細鐢层€佷笝銆佹垔銆佸簹銆佸，
                    'hai': ['yi', 'ding', 'ji', 'xin', 'gui']      // 浜ュ勾鍙兘鐨勫ぉ骞诧細涔欍€佷竵銆佸繁銆佽緵銆佺櫢
                };
                
                // 涓嶅啀鑷姩绾犳骞村共锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
            }
        }
        
        // 鏍规嵁鏃ュ共鍜屾椂鏀嚜鍔ㄨ绠楃鍚堜簲榧犻亖瑙勫垯鐨勬椂骞?
        function autoCalculateHourStem() {
            const dayStem = document.getElementById('day-stem').value;
            const hourBranch = document.getElementById('hour-branch').value;
            const hourStemSelect = document.getElementById('hour-stem');
            
            // 濡傛灉鏃ュ共鍜屾椂鏀兘宸查€夋嫨
            if (dayStem && hourBranch) {
                // 浜旈紶閬佽鍒欙紙鏃ュ共纭畾鏃跺共锛?
                const hourStemRule = {
                    'jia': ['jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi'],
                    'yi': ['bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding'],
                    'bing': ['wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji'],
                    'ding': ['geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin'],
                    'wu': ['ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui'],
                    'ji': ['jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi'],
                    'geng': ['bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding'],
                    'xin': ['wu', 'ji', 'geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji'],
                    'ren': ['geng', 'xin', 'ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin'],
                    'gui': ['ren', 'gui', 'jia', 'yi', 'bing', 'ding', 'wu', 'ji', 'geng', 'xin', 'ren', 'gui']
                };
                
                // 鑾峰彇鏃舵敮瀵瑰簲鐨勭储寮曪紙瀛愭椂涓虹储寮?锛?
                const hourIndex = ['zi', 'chou', 'yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai'].indexOf(hourBranch);
                
                if (hourIndex !== -1 && hourStemRule[dayStem]) {
                    // 鑾峰彇鏃舵敮鐨勯槾闃冲睘鎬?
                    const branchYinYang = branchYinyang[hourBranch];
                    
                    // 鏍规嵁浜旈紶閬佽鍒欒幏鍙栨椂骞?
                    const calculatedStem = hourStemRule[dayStem][hourIndex];
                    const calculatedStemYinYang = stemYinyang[calculatedStem];
                    
                    // 涓嶅啀寮哄埗璁剧疆鏃跺共锛屽厑璁哥敤鎴疯嚜涓婚€夋嫨
                    // 鍙繘琛屾樉绀鸿繃婊わ紝涓嶄慨鏀圭敤鎴风殑閫夋嫨
                        hourStemSelect.dispatchEvent(event);
                        isProgrammaticChange = false;
                    }
                }
            }
        
        // 璁剧疆鑷姩璁＄畻鍔熻兘鐨勪簨浠剁洃鍚櫒
        function setupAutoCalculation() {
            // 骞村共鍙樺寲鏃讹紝杩囨护鏈堟敮鍜屽勾鏀?
            document.getElementById('year-stem').addEventListener('change', function() {
                filterMonthBranches();
                filterYearBranches();
            });
            
            // 骞存敮鍙樺寲鏃讹紝鑷姩璋冩暣骞村共浠ョ鍚堝叚鍗佺敳瀛愯鍒?
            document.getElementById('year-branch').addEventListener('change', autoCalculateYearStem);
            
            // 鏈堟敮鍙樺寲鏃讹紝鑷姩璁＄畻鏈堝共
            document.getElementById('month-branch').addEventListener('change', autoCalculateMonthStem);
            
            // 鏈堝共鍙樺寲鏃讹紝妫€鏌ユ湀骞叉槸鍚︾鍚堜簲铏庨亖瑙勫垯鍜岃繃婊ゆ湀鏀?
            document.getElementById('month-stem').addEventListener('change', function(event) {
                if (!event.isProgrammatic) {
                    filterMonthStems();
                    filterMonthBranches();
                }
            });
            
            // 鏈堟敮鍙樺寲鏃讹紝浣跨敤鏂扮殑filterMonthBranches鍑芥暟
            document.getElementById('month-branch').addEventListener('change', filterMonthBranches);
            
            // 鏃ユ敮鍙樺寲鏃讹紝杩囨护鏃ュ共浠ョ鍚堝叚鍗佺敳瀛愯鍒?
            document.getElementById('day-branch').addEventListener('change', function(event) {
                // 闃叉寰幆瑙﹀彂 - 濡傛灉鏄▼搴忚Е鍙戠殑浜嬩欢锛屽垯涓嶆墽琛岃繃婊?
                if (!event.isProgrammatic) {
                    filterDayStems();
                }
            });
            
            // 鏃ュ共鍙樺寲鏃讹紝杩囨护鏃ユ敮鍜屾椂鏀?
            document.getElementById('day-stem').addEventListener('change', function(event) {
                // 闃叉寰幆瑙﹀彂 - 濡傛灉鏄▼搴忚Е鍙戠殑浜嬩欢锛屽垯鍙墽琛屾椂鏀繃婊?
                if (event.isProgrammatic) {
                    filterHourBranches();
                } else {
                    filterDayBranches();
                    filterHourBranches();
                }
            });
            
            // 鏃舵敮鍙樺寲鏃讹紝鑷姩璁＄畻鏃跺共
            document.getElementById('hour-branch').addEventListener('change', function(event) {
                // 闃叉寰幆瑙﹀彂 - 濡傛灉鏄▼搴忚Е鍙戠殑浜嬩欢锛屽垯涓嶆墽琛岃绠?
                if (!event.isProgrammatic) {
                    autoCalculateHourStem();
                }
            });
            
            // 鏃跺共鍙樺寲鏃讹紝妫€鏌ユ椂骞叉槸鍚︾鍚堜簲榧犻亖瑙勫垯鍜岃繃婊ゆ椂鏀?
            document.getElementById('hour-stem').addEventListener('change', function(event) {
                // 闃叉寰幆瑙﹀彂 - 濡傛灉鏄▼搴忚Е鍙戠殑浜嬩欢锛屽垯涓嶆墽琛岃繃婊?
                if (!event.isProgrammatic) {
                    filterHourStems();
                    filterHourBranches();
                }
            });
            
            // 鏃舵敮鍙樺寲鏃讹紝浣跨敤鏂扮殑filterHourBranchesByDayStem鍑芥暟
            document.getElementById('hour-branch').addEventListener('change', function(event) {
                // 闃叉寰幆瑙﹀彂 - 濡傛灉鏄▼搴忚Е鍙戠殑浜嬩欢锛屽垯涓嶆墽琛岃绠?
                if (!event.isProgrammatic) {
                    autoCalculateHourStem();
                    filterHourBranchesByDayStem();
                }
            });
            
            // 椤甸潰鍔犺浇鏃跺垵濮嬪寲鎵€鏈夎繃婊ゅ姛鑳?
            filterMonthBranches();
            filterHourBranches();
            filterYearBranches();
            filterDayBranches();
            
            // 鍒濆鍖栨棩鏀繃婊?
            const dayBranch = document.getElementById('day-branch').value;
            if (dayBranch) {
                filterDayStems();
            }
        }
        
        // 楠岃瘉鎵€鏈夋煴瀛愮殑缁勫悎瑙勫垯
        function validateAllCombinations() {
            // 瀹氫箟澶╁共鍦版敮涓枃鍚嶇О鏄犲皠
            const stemsChinese = { 'jia': '鐢?, 'yi': '涔?, 'bing': '涓?, 'ding': '涓?, 'wu': '鎴?, 'ji': '宸?, 'geng': '搴?, 'xin': '杈?, 'ren': '澹?, 'gui': '鐧? };
            const branchesChinese = { 'zi': '瀛?, 'chou': '涓?, 'yin': '瀵?, 'mao': '鍗?, 'chen': '杈?, 'si': '宸?, 'wu': '鍗?, 'wei': '鏈?, 'shen': '鐢?, 'you': '閰?, 'xu': '鎴?, 'hai': '浜? };
            
            // 鑾峰彇鎵€鏈夋煴瀛愮殑澶╁共鍦版敮鍊?
            const yearStem = document.getElementById('year-stem').value;
            const yearBranch = document.getElementById('year-branch').value;
            const monthStem = document.getElementById('month-stem').value;
            const monthBranch = document.getElementById('month-branch').value;
            const dayStem = document.getElementById('day-stem').value;
            const dayBranch = document.getElementById('day-branch').value;
            const hourStem = document.getElementById('hour-stem').value;
            const hourBranch = document.getElementById('hour-branch').value;
            
            // 鍩烘湰妫€鏌ワ細纭繚鎵€鏈夊瓧娈甸兘鏈夊€?
            if (!yearStem || !yearBranch || !monthStem || !monthBranch || !dayStem || !dayBranch || !hourStem || !hourBranch) {
                return {
                    isValid: false,
                    message: '璇峰～鍐欏畬鏁寸殑鍏瓧淇℃伅',
                    errorPillars: ['骞存煴', '鏈堟煴', '鏃ユ煴', '鏃舵煴']
                };
            }
            
            // 浜旇檸閬佽鍒欙紙骞村共纭畾鏈堝共锛?
            const wuhuDunn = {
                'jia': {'yin': 'bing', 'mao': 'ding', 'chen': 'wu', 'si': 'ji', 'wu': 'geng', 'wei': 'xin', 'shen': 'ren', 'you': 'gui', 'xu': 'jia', 'hai': 'yi', 'zi': 'bing', 'chou': 'ding'},
                'yi': {'yin': 'wu', 'mao': 'ji', 'chen': 'geng', 'si': 'xin', 'wu': 'ren', 'wei': 'gui', 'shen': 'jia', 'you': 'yi', 'xu': 'bing', 'hai': 'ding', 'zi': 'wu', 'chou': 'ji'},
                'bing': {'yin': 'geng', 'mao': 'xin', 'chen': 'ren', 'si': 'gui', 'wu': 'jia', 'wei': 'yi', 'shen': 'bing', 'you': 'ding', 'xu': 'wu', 'hai': 'ji', 'zi': 'geng', 'chou': 'xin'},
                'ding': {'yin': 'ren', 'mao': 'gui', 'chen': 'jia', 'si': 'yi', 'wu': 'bing', 'wei': 'ding', 'shen': 'wu', 'you': 'ji', 'xu': 'geng', 'hai': 'xin', 'zi': 'ren', 'chou': 'gui'},
                'wu': {'yin': 'jia', 'mao': 'yi', 'chen': 'bing', 'si': 'ding', 'wu': 'wu', 'wei': 'ji', 'shen': 'geng', 'you': 'xin', 'xu': 'ren', 'hai': 'gui', 'zi': 'jia', 'chou': 'yi'},
                'ji': {'yin': 'bing', 'mao': 'ding', 'chen': 'wu', 'si': 'ji', 'wu': 'geng', 'wei': 'xin', 'shen': 'ren', 'you': 'gui', 'xu': 'jia', 'hai': 'yi', 'zi': 'bing', 'chou': 'ding'},
                'geng': {'yin': 'wu', 'mao': 'ji', 'chen': 'geng', 'si': 'xin', 'wu': 'ren', 'wei': 'gui', 'shen': 'jia', 'you': 'yi', 'xu': 'bing', 'hai': 'ding', 'zi': 'wu', 'chou': 'ji'},
                'xin': {'yin': 'geng', 'mao': 'xin', 'chen': 'ren', 'si': 'gui', 'wu': 'jia', 'wei': 'yi', 'shen': 'bing', 'you': 'ding', 'xu': 'wu', 'hai': 'ji', 'zi': 'geng', 'chou': 'xin'},
                'ren': {'yin': 'ren', 'mao': 'gui', 'chen': 'jia', 'si': 'yi', 'wu': 'bing', 'wei': 'ding', 'shen': 'wu', 'you': 'ji', 'xu': 'geng', 'hai': 'xin', 'zi': 'ren', 'chou': 'gui'},
                'gui': {'yin': 'jia', 'mao': 'yi', 'chen': 'bing', 'si': 'ding', 'wu': 'wu', 'wei': 'ji', 'shen': 'geng', 'you': 'xin', 'xu': 'ren', 'hai': 'gui', 'zi': 'jia', 'chou': 'yi'}
            };
            
            // 浜旈紶閬佽鍒欙紙鏃ュ共纭畾鏃跺共锛?
            const wushuDunn = {
                'jia': {'zi': 'jia', 'chou': 'yi', 'yin': 'bing', 'mao': 'ding', 'chen': 'wu', 'si': 'ji', 'wu': 'geng', 'wei': 'xin', 'shen': 'ren', 'you': 'gui', 'xu': 'jia', 'hai': 'yi'},
                'yi': {'zi': 'bing', 'chou': 'ding', 'yin': 'wu', 'mao': 'ji', 'chen': 'geng', 'si': 'xin', 'wu': 'ren', 'wei': 'gui', 'shen': 'jia', 'you': 'yi', 'xu': 'bing', 'hai': 'ding'},
                'bing': {'zi': 'wu', 'chou': 'ji', 'yin': 'geng', 'mao': 'xin', 'chen': 'ren', 'si': 'gui', 'wu': 'jia', 'wei': 'yi', 'shen': 'bing', 'you': 'ding', 'xu': 'wu', 'hai': 'ji'},
                'ding': {'zi': 'geng', 'chou': 'xin', 'yin': 'ren', 'mao': 'gui', 'chen': 'jia', 'si': 'yi', 'wu': 'bing', 'wei': 'ding', 'shen': 'wu', 'you': 'ji', 'xu': 'geng', 'hai': 'xin'},
                'wu': {'zi': 'ren', 'chou': 'gui', 'yin': 'jia', 'mao': 'yi', 'chen': 'bing', 'si': 'ding', 'wu': 'wu', 'wei': 'ji', 'shen': 'geng', 'you': 'xin', 'xu': 'ren', 'hai': 'gui'},
                'ji': {'zi': 'jia', 'chou': 'yi', 'yin': 'bing', 'mao': 'ding', 'chen': 'wu', 'si': 'ji', 'wu': 'geng', 'wei': 'xin', 'shen': 'ren', 'you': 'gui', 'xu': 'jia', 'hai': 'yi'},
                'geng': {'zi': 'bing', 'chou': 'ding', 'yin': 'wu', 'mao': 'ji', 'chen': 'geng', 'si': 'xin', 'wu': 'ren', 'wei': 'gui', 'shen': 'jia', 'you': 'yi', 'xu': 'bing', 'hai': 'ding'},
                'xin': {'zi': 'wu', 'chou': 'ji', 'yin': 'geng', 'mao': 'xin', 'chen': 'ren', 'si': 'gui', 'wu': 'jia', 'wei': 'yi', 'shen': 'bing', 'you': 'ding', 'xu': 'wu', 'hai': 'ji'},
                'ren': {'zi': 'geng', 'chou': 'xin', 'yin': 'ren', 'mao': 'gui', 'chen': 'jia', 'si': 'yi', 'wu': 'bing', 'wei': 'ding', 'shen': 'wu', 'you': 'ji', 'xu': 'geng', 'hai': 'xin'},
                'gui': {'zi': 'ren', 'chou': 'gui', 'yin': 'jia', 'mao': 'yi', 'chen': 'bing', 'si': 'ding', 'wu': 'wu', 'wei': 'ji', 'shen': 'geng', 'you': 'xin', 'xu': 'ren', 'hai': 'gui'}
            };
            
            // 鍒濆鍖栨彁绀烘暟缁?
            let tips = [];
            
            // 浜旇檸閬佽鍒欓獙璇侊紙骞村共纭畾鏈堝共锛? 寮哄埗楠岃瘉
            const expectedMonthStem = wuhuDunn[yearStem] && wuhuDunn[yearStem][monthBranch];
            if (expectedMonthStem && expectedMonthStem !== monthStem) {
                return {
                    isValid: false,
                    errorPillars: ['鏈堟煴'],
                    message: `鏍规嵁浜旇檸閬佽鍒欙紝${stemsChinese[yearStem]}骞?{branchesChinese[monthBranch]}鏈堢殑澶╁共搴斾负${stemsChinese[expectedMonthStem]}锛屽綋鍓嶉€夋嫨${stemsChinese[monthStem]}閿欒`
                };
            }
            
            // 浜旈紶閬佽鍒欓獙璇侊紙鏃ュ共纭畾鏃跺共锛? 寮哄埗楠岃瘉
            const expectedHourStem = wushuDunn[dayStem] && wushuDunn[dayStem][hourBranch];
            if (expectedHourStem && expectedHourStem !== hourStem) {
                return {
                    isValid: false,
                    errorPillars: ['鏃舵煴'],
                    message: `鏍规嵁浜旈紶閬佽鍒欙紝${stemsChinese[dayStem]}鏃?{branchesChinese[hourBranch]}鏃剁殑澶╁共搴斾负${stemsChinese[expectedHourStem]}锛屽綋鍓嶉€夋嫨${stemsChinese[hourStem]}閿欒`
                };
            }
            
            // 楠岃瘉骞存煴鍜屾湀鏌辩殑缁勫悎瑙勫垯
            // 妫€鏌ユ槸鍚︿负鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚?
            const yearJiaZiKey = `${yearStem}-${yearBranch}`;
            const monthJiaZiKey = `${monthStem}-${monthBranch}`;
            const dayJiaZiKey = `${dayStem}-${dayBranch}`;
            const hourJiaZiKey = `${hourStem}-${hourBranch}`;
            
            if (!sixtyJiaZi[yearJiaZiKey]) {
                return {
                    isValid: false,
                    errorPillars: ['骞存煴'],
                    message: `骞存煴 ${stemsChinese[yearStem]}${branchesChinese[yearBranch]} 涓嶆槸鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚坄
                };
            }
            
            if (!sixtyJiaZi[monthJiaZiKey]) {
                return {
                    isValid: false,
                    errorPillars: ['鏈堟煴'],
                    message: `鏈堟煴 ${stemsChinese[monthStem]}${branchesChinese[monthBranch]} 涓嶆槸鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚坄
                };
            }
            
            if (!sixtyJiaZi[dayJiaZiKey]) {
                return {
                    isValid: false,
                    errorPillars: ['鏃ユ煴'],
                    message: `鏃ユ煴 ${stemsChinese[dayStem]}${branchesChinese[dayBranch]} 涓嶆槸鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚坄
                };
            }
            
            if (!sixtyJiaZi[hourJiaZiKey]) {
                return {
                    isValid: false,
                    errorPillars: ['鏃舵煴'],
                    message: `鏃舵煴 ${stemsChinese[hourStem]}${branchesChinese[hourBranch]} 涓嶆槸鏈夋晥鐨勫叚鍗佺敳瀛愮粍鍚坄
                };
            }
            
            // 濡傛灉娌℃湁瑙勫垯閿欒锛岃繑鍥炴湁鏁堢殑楠岃瘉缁撴灉鍜屾彁绀轰俊鎭?
            return {
                isValid: true,
                errorPillars: [],
                message: '',
                tips: tips || []
            };
        }

        // 妫€鏌ユ墍鏈夋煴瀛愭槸鍚﹂兘绗﹀悎闃撮槼鍖归厤瑙勫垯鍜岀粍鍚堣鍒欙紝骞舵敹闆嗛敊璇俊鎭?
        function checkAllPillarsValid() {
            const pillars = ['year', 'month', 'day', 'hour'];
            const pillarNames = {
                'year': '骞存煴',
                'month': '鏈堟煴',
                'day': '鏃ユ煴',
                'hour': '鏃舵煴'
            };
            let isValid = true;
            const errorPillars = [];
            let customErrorMessage = '';
            
            // 棣栧厛妫€鏌ユ瘡涓煴瀛愮殑鍗曠嫭楠岃瘉锛堝叚鍗佺敳瀛愬拰闃撮槼鍖归厤锛?
            pillars.forEach(pillar => {
                if (!validateYinyangMatch(`${pillar}-stem`, `${pillar}-branch`)) {
                    isValid = false;
                    errorPillars.push(pillarNames[pillar]);
                }
            });
            
            // 澹版槑combinationValidation鍙橀噺
            let combinationValidation = null;
            
            // 濡傛灉姣忎釜鏌卞瓙鍗曠嫭楠岃瘉閫氳繃锛屽啀妫€鏌ユ墍鏈夋煴瀛愪箣闂寸殑缁勫悎瑙勫垯锛堝寘鎷簲榧犻亖鍜屼簲铏庨亖锛?
            if (isValid) {
                combinationValidation = validateAllCombinations();
                if (!combinationValidation.isValid) {
                    isValid = false;
                    if (combinationValidation.errorPillars) {
                        errorPillars.push(...combinationValidation.errorPillars);
                    } else {
                        errorPillars.push('鍥涙煴缁勫悎');
                    }
                    customErrorMessage = combinationValidation.message;
                }
            }
            
            // 杩斿洖楠岃瘉缁撴灉銆侀敊璇煴瀛愪俊鎭?
            return {
                isValid: isValid,
                errorPillars: errorPillars,
                customErrorMessage: customErrorMessage
            };
        }
        
        // 鏄剧ずtoast鎻愮ず
        function showToast(message) {
            // 鍒涘缓toast鍏冪礌
            let toast = document.getElementById('custom-toast');
            if (!toast) {
                toast = document.createElement('div');
                toast.id = 'custom-toast';
                toast.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background-color: #333;
                    color: white;
                    padding: 12px 20px;
                    border-radius: 4px;
                    z-index: 10000;
                    font-size: 14px;
                    opacity: 0;
                    transition: opacity 0.3s;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                `;
                document.body.appendChild(toast);
            }
            
            // 璁剧疆娑堟伅骞舵樉绀?
            toast.textContent = message;
            toast.style.opacity = '1';
            
            // 5绉掑悗闅愯棌
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => {
                    toast.textContent = '';
                }, 300);
            }, 5000);
        }
        
        // 涓烘墍鏈夋煴瀛愭坊鍔犻獙璇?
        function setupPillarValidation() {
            const pillars = ['year', 'month', 'day', 'hour'];
            pillars.forEach(pillar => {
                const stemId = `${pillar}-stem`;
                const branchId = `${pillar}-branch`;
                
                document.getElementById(stemId).addEventListener('change', function() {
                    validateYinyangMatch(stemId, branchId);
                });
                
                document.getElementById(branchId).addEventListener('change', function() {
                    validateYinyangMatch(stemId, branchId);
                });
                
                // 鍒濆楠岃瘉
                validateYinyangMatch(stemId, branchId);
            });
        }

        // 鍒濆鍖栨寜閽簨浠?
        function initButtons() {
            // 鎰熸儏鏂逛綅鏌ヨ鎸夐挳
            if (document.getElementById('calculate-position-btn')) {
                document.getElementById('calculate-position-btn').addEventListener('click', function() {
                    const resultArea = document.getElementById('position-result');
                    const loading = document.getElementById('position-loading');
                    const content = document.getElementById('position-content');
                    
                    resultArea.classList.remove('hidden');
                    loading.classList.remove('hidden');
                    content.classList.add('hidden');
                    
                    setTimeout(function() {
                        const gender = document.querySelector('input[name="position-gender"]:checked').value;
                        const dayMasterElement = document.getElementById('position-day-master-element').value;
                        
                        const result = calculatePosition(gender, dayMasterElement);
                        
                        document.getElementById('position-direction').innerHTML = `<p class="text-xl font-bold">${translate('positionResultTitle')}锛?span class="text-blue-600">${result.direction}</span></p>`;
                        document.getElementById('position-explanation').innerHTML = `<p>${result.explanation}</p>`;
                        
                        loading.classList.add('hidden');
                        content.classList.remove('hidden');
                    }, 1500);
                });
            }
            

            
            // 鎯呬荆鏂逛綅鍖归厤鎸夐挳
            if (document.getElementById('match-location-btn')) {
                document.getElementById('match-location-btn').addEventListener('click', function() {
                    const resultArea = document.getElementById('location-match-result');
                    const loading = document.getElementById('match-loading');
                    const content = document.getElementById('match-content');
                    
                    resultArea.classList.remove('hidden');
                    loading.classList.remove('hidden');
                    content.classList.add('hidden');
                    
                    setTimeout(function() {
                        const myGender = document.querySelector('input[name="my-gender"]:checked').value;
                        const myLocation = document.getElementById('my-location').value.trim();
                        const myElement = document.getElementById('my-element').value;
                        const partnerGender = document.querySelector('input[name="partner-gender"]:checked').value;
                        const partnerLocation = document.getElementById('partner-location').value.trim();
                        const partnerElement = document.getElementById('partner-element').value;
                        
                        const result = matchLocation(myGender, myLocation, myElement, partnerGender, partnerLocation, partnerElement);
                        
                        // 鐩存帴浣跨敤matchLocation鍑芥暟涓敓鎴愮殑summary
                        let explanationHTML = '<div class="space-y-2">';
                        result.explanations.forEach(exp => {
                            explanationHTML += `<p>鈥?${exp}</p>`;
                        });
                        explanationHTML += '</div>';
                        
                        document.getElementById('match-score').innerHTML = result.summary;
                        document.getElementById('match-explanation').innerHTML = explanationHTML;
                        
                        loading.classList.add('hidden');
                        content.classList.remove('hidden');
                    }, 1500);
                });
            }
            

            
            // 鎰熸儏骞翠唤棰勬祴鎸夐挳
            if (document.getElementById('query-btn')) {
                document.getElementById('query-btn').addEventListener('click', function() {
                    const resultArea = document.getElementById('result-area');
                    const loading = document.getElementById('loading');
                    const resultContent = document.getElementById('result-content');
                    
                    // 閲嶇疆鎵€鏈夐敊璇牱寮?
                    resetAllErrorStyles();
                    
                    resultArea.classList.remove('hidden');
                    loading.classList.remove('hidden');
                    resultContent.classList.add('hidden');
                    
                    setTimeout(function() {
                        try {
                            // 鑾峰彇鍏瓧淇℃伅
                            const yearStem = document.getElementById('year-stem').value;
                            const yearBranch = document.getElementById('year-branch').value;
                            const monthStem = document.getElementById('month-stem').value;
                            const monthBranch = document.getElementById('month-branch').value;
                            const dayStem = document.getElementById('day-stem').value;
                            const dayBranch = document.getElementById('day-branch').value;
                            const hourStem = document.getElementById('hour-stem').value;
                            const hourBranch = document.getElementById('hour-branch').value;
                            
                            // 妫€鏌ュ叚鍗佺敳瀛愮粍鍚?
                            const errorPillars = checkSixtyJiaZi(yearStem, yearBranch, monthStem, monthBranch, dayStem, dayBranch, hourStem, hourBranch);
                            
                            if (errorPillars.length > 0) {
                                // 鍏瓧閿欒锛屾樉绀烘彁绀哄苟楂樹寒閿欒鏌卞瓙
                                showToast('鍏瓧閿欒锛? + errorPillars.join('銆?) + '涓嶇鍚堝叚鍗佺敳瀛愮粍鍚?);
                                highlightErrorPillars(errorPillars);
                                loading.classList.add('hidden');
                                resultContent.classList.add('hidden');
                                return;
                            }
                            
                            // 鑾峰彇骞撮緞
                            const year = calculateYearFromBaZi(yearStem, yearBranch);
                            const age = calculateAge(year);
                            
                            // 骞撮緞鍒ゆ柇
                            if (age < 18) {
                                // 灏忎簬18宀?
                                showToast('浣犺繕澶皬锛屽ソ濂藉涔犲惂銆?);
                                loading.classList.add('hidden');
                                resultContent.classList.add('hidden');
                                return;
                            } else if (age >= 80) {
                                // 澶т簬绛変簬80宀?
                                showToast('灏樺綊灏橈紝鍦熷綊鍦熴€?);
                                loading.classList.add('hidden');
                                resultContent.classList.add('hidden');
                                return;
                            } else if (age > 45) {
                                // 45-79宀佸尯闂?
                                showToast('杩欎釜宀佹暟灏卞埆鎶樿吘鎰熸儏浜嗗惂銆?);
                                loading.classList.add('hidden');
                                resultContent.classList.add('hidden');
                                return;
                            }
                            
                            // 18-45宀佸尯闂达紝鎵ц姝ｅ父閫昏緫
                            // Get necessary parameters
                            const genderRadio = document.querySelector('input[name="timing-gender"]:checked');
                            const dayStemElement = document.getElementById('day-stem');
                            const dayBranchElement = document.getElementById('day-branch');
                            
                            // Validate parameters
                            if (!genderRadio) {
                                throw new Error('璇烽€夋嫨鎬у埆');
                            }
                            if (!dayStemElement || !dayBranchElement) {
                                throw new Error('鏃犳硶鑾峰彇鍑虹敓鏃ユ湡淇℃伅锛岃鍒锋柊椤甸潰閲嶈瘯');
                            }
                            
                            const gender = genderRadio.value;
                            const dayMasterStem = dayStemElement.value;
                            // 鐩存帴浣跨敤涓婇潰宸茬粡鑾峰彇鐨刣ayBranch鍊硷紝涓嶅啀閲嶅澹版槑
                            
                            // 楠岃瘉鍊间笉涓虹┖
                            if (!gender || !dayMasterStem || !dayBranch) {
                                throw new Error('璇峰～鍐欏畬鏁寸殑鍑虹敓鏃ユ湡淇℃伅');
                            }
                            
                            // 楠岃瘉鍏瓧闃撮槼鍖归厤鍜岀粍鍚堟湁鏁堟€?
                            const validationResult = checkAllPillarsValid();
                            
                            // 妫€鏌ユ槸鍚︽湁閿欒鏌卞瓙锛堝嵆浣縤sValid涓簍rue锛?
                            if (validationResult.errorPillars && validationResult.errorPillars.length > 0) {
                                // 鏄剧ずtoast鎻愮ず閿欒淇℃伅
                                const errorMessage = validationResult.customErrorMessage || `${validationResult.errorPillars.join('銆?)}閰嶇疆鏈夎锛岃杈撳叆姝ｇ‘鐨勫洓鏌盽;
                                showToast(errorMessage);
                                
                                // 楂樹寒鏄剧ず閿欒鐨勬煴瀛?
                                highlightErrorPillars(validationResult.errorPillars);
                                
                                throw new Error(validationResult.customErrorMessage || '璇蜂慨姝ｅ叓瀛椾俊鎭細闃冲共搴旈厤闃虫敮锛岄槾骞插簲閰嶉槾鏀?);
                            }
                            
                            console.log('寮€濮嬮娴嬫劅鎯呭勾浠斤紝鍙傛暟:', {gender, dayMasterStem, dayBranch});
                            
                            // 璋冪敤predictTiming鍑芥暟锛屼紶閫掓纭殑3涓弬鏁?
                            const result = predictTiming(gender, dayMasterStem, dayBranch);
                            console.log('棰勬祴缁撴灉:', result);
                            
                            // 浣跨敤宸插瓨鍦ㄧ殑displayTimingResult鍑芥暟鏄剧ず缁撴灉
                            displayTimingResult(result);
                        } catch (error) {
                            console.error('鎰熸儏骞翠唤棰勬祴鏄剧ず澶辫触:', error);
                            
                            // 浣跨敤toast鏄剧ず閿欒淇℃伅
                            showToast(error.message || '鍙戠敓鏈煡閿欒锛岃閲嶈瘯');
                            
                            // 闅愯棌鍔犺浇鐘舵€?
                            loading.classList.add('hidden');
                            
                            // 闅愯棌缁撴灉鍖哄煙锛堝綋缁勫悎瀛樺湪閿欒鏃朵笉鏄剧ず瑙ｈ鍖哄煙锛?
                            resultContent.classList.add('hidden');
                            
                            // 纭繚鍐呭琚竻绌?
                            const resultTiming = document.getElementById('result-timing');
                            const resultExplanation = document.getElementById('result-explanation');
                            if (resultTiming && resultExplanation) {
                                resultTiming.innerHTML = '';
                                resultExplanation.innerHTML = '';
                            }
                        } finally {
                            // 纭繚鏃犺鎴愬姛澶辫触閮芥墽琛岀殑浠ｇ爜
                        }
                    }, 1500);
                });
            }
            
            // 鎰熸儏骞翠唤棰勬祴閲嶇疆鎸夐挳 (鏆傛椂闅愯棌)
// if (document.getElementById('reset-btn')) {
// document.getElementById('reset-btn').addEventListener('click', resetTiming);
// }
        }
        
        // 鍒濆鍖栨€у埆閫夋嫨浜や簰
        function initGenderSelection() {
            const genderLabels = document.querySelectorAll('.gender-option');
            genderLabels.forEach(label => {
                const input = label.querySelector('input[type="radio"]');
                const container = label.querySelector('.avatar-container');
                
                if (input && container) {
                    // 绉婚櫎CSS涓凡澶勭悊鐨勯€変腑鏍峰紡锛屼繚鎸佷竴鑷存€?
                    input.addEventListener('change', function() {
                        // 閲嶇疆鎵€鏈夊ご鍍忓鍣ㄧ殑鏍峰紡
                        document.querySelectorAll('.avatar-container').forEach(c => {
                            c.style.borderColor = '';
                        });
                    });
                }
            });
        }
        
        // 澧炲己鍒濆鍖栧姛鑳斤紝娣诲姞鍏煎鎬ф鏌?
        function init() {
            console.log('寮€濮嬪垵濮嬪寲鎵€鏈夊姛鑳芥ā鍧?..');
            try {
                // 妫€鏌SS鍙橀噺鏀寔锛屽鏋滀笉鏀寔鍒欒缃粯璁ゅ€?
                console.log('1. 妫€鏌SS鍙橀噺鏀寔...');
                checkCSSVariablesSupport();
                
                // 鍒濆鍖栨€у埆閫夋嫨鍣ㄧ殑閫変腑鏍峰紡 - JavaScript鏇夸唬鏂规锛岄伩鍏嶄娇鐢?has()閫夋嫨鍣?
                console.log('2. 鍒濆鍖栨€у埆閫夋嫨鍣ㄦ牱寮?..');
                initGenderSelectionStyle();
                
                console.log('3. 鍒濆鍖栨爣绛鹃〉...');
                initTabs();
                
                console.log('4. 鍒濆鍖栨寜閽簨浠剁洃鍚櫒...');
                initButtons();
                
                console.log('5. 鍒濆鍖栨€у埆閫夋嫨鍔熻兘...');
                initGenderSelection();
                
                console.log('6. 鍒濆鍖栬瑷€鍒囨崲鍣?..');
                initLanguageSwitcher();
                
                // 鍒濆鍖栧叓瀛楅槾闃冲尮閰嶉獙璇?
                console.log('7. 鍒濆鍖栧叓瀛楅槾闃冲尮閰嶉獙璇?..');
                setupPillarValidation();
                
                // 鍒濆鍖栧叓瀛楄緭鍏ヤ负褰撳ぉ鍏瓧
                console.log('8. 鍒濆鍖栧綋澶╁叓瀛?..');
                initTodayBaZi();
                
                // 鎵ц缈昏瘧
                console.log('9. 鎵ц椤甸潰缈昏瘧...');
                translateAllElements(currentLang);
                
                console.log('鎵€鏈夊姛鑳芥ā鍧楀垵濮嬪寲瀹屾垚锛?);
            } catch (error) {
                console.error('鍒濆鍖栧姛鑳芥椂鍑洪敊:', error);
                // 娣诲姞鐢ㄦ埛鍙嬪ソ鐨勯敊璇彁绀?
                showCompatibilityWarning();
            }
        }
        
        // 鍒濆鍖栧叓瀛楄緭鍏ヤ负褰撳ぉ鍏瓧
        function initTodayBaZi() {
            try {
                const todayBaZi = getTodayBaZi();
                setBaZiValues(todayBaZi);
                console.log('褰撳ぉ鍏瓧鍒濆鍖栧畬鎴?', todayBaZi);
            } catch (error) {
                console.error('鍒濆鍖栧綋澶╁叓瀛楁椂鍑洪敊:', error);
            }
        }
        
        // 鑾峰彇褰撳ぉ鐨勫叓瀛椾俊鎭?- 鐩存帴杩斿洖姝ｇ‘鐨勫€硷紝閬垮厤璁＄畻閿欒
        function getTodayBaZi() {
            // 鐩存帴杩斿洖鐢ㄦ埛纭鐨勬纭叓瀛楀€?
            // 鏍规嵁鐢ㄦ埛鎻愪緵鐨勪俊鎭缃纭殑鍏瓧
            return {
                yearStem: 'yi',        // 骞存煴澶╁共锛氫箼
                yearBranch: 'si',      // 骞存煴鍦版敮锛氬烦
                monthStem: 'ding',     // 鏈堟煴澶╁共锛氫竵
                monthBranch: 'hai',    // 鏈堟煴鍦版敮锛氫亥
                dayStem: 'ren',        // 鏃ユ煴澶╁共锛氬，
                dayBranch: 'yin',      // 鏃ユ煴鍦版敮锛氬瘏
                hourStem: 'yi',        // 鏃舵煴澶╁共锛氫箼
                hourBranch: 'si'       // 鏃舵煴鍦版敮锛氬烦
            };
        }
        
        // 璁剧疆鍏瓧杈撳叆妗嗙殑鍊?
        function setBaZiValues(baZi) {
            // 璁剧疆骞存煴
            if (document.getElementById('year-stem')) document.getElementById('year-stem').value = baZi.yearStem;
            if (document.getElementById('year-branch')) document.getElementById('year-branch').value = baZi.yearBranch;
            
            // 璁剧疆鏈堟煴
            if (document.getElementById('month-stem')) document.getElementById('month-stem').value = baZi.monthStem;
            if (document.getElementById('month-branch')) document.getElementById('month-branch').value = baZi.monthBranch;
            
            // 璁剧疆鏃ユ煴
            if (document.getElementById('day-stem')) document.getElementById('day-stem').value = baZi.dayStem;
            if (document.getElementById('day-branch')) document.getElementById('day-branch').value = baZi.dayBranch;
            
            // 璁剧疆鏃舵煴
            if (document.getElementById('hour-stem')) document.getElementById('hour-stem').value = baZi.hourStem;
            if (document.getElementById('hour-branch')) document.getElementById('hour-branch').value = baZi.hourBranch;
        }
        
        // 妫€鏌SS鍙橀噺鏀寔骞舵彁渚涘悗澶囨柟妗?
        function checkCSSVariablesSupport() {
            if (!window.CSS || !window.CSS.supports || !window.CSS.supports('--a', '0')) {
                // 涓轰笉鏀寔CSS鍙橀噺鐨勬祻瑙堝櫒璁剧疆棰滆壊鍊?
                const style = document.createElement('style');
                style.textContent = `
                    :root {
                        --primary-color: #ffffff;
                        --secondary-color: #f5f5f5;
                        --bg-color: #f9f9f9;
                        --text-color: #333333;
                        --light-text: #666666;
                        --accent-color: #ff8c00;
                        --border-color: #e0e0e0;
                        --card-bg: #ffffff;
                        --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.1);
                        --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.15);
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // 鍒濆鍖栨€у埆閫夋嫨鍣ㄦ牱寮?- JavaScript鏇夸唬鏂规
        function initGenderSelectionStyle() {
            const radioInputs = document.querySelectorAll('.gender-option input[type="radio"]');
            
            // 涓烘瘡涓崟閫夋寜閽坊鍔燾hange浜嬩欢鐩戝惉鍣?
            radioInputs.forEach(input => {
                // 鍒濆鐘舵€佽缃?
                updateAvatarStyle(input);
                
                // 娣诲姞change浜嬩欢
                input.addEventListener('change', function() {
                    // 閲嶇疆鎵€鏈夊ご鍍忓鍣ㄦ牱寮?
                    document.querySelectorAll('.gender-option input[type="radio"]').forEach(r => {
                        updateAvatarStyle(r);
                    });
                });
            });
        }
        
        // 鏇存柊澶村儚瀹瑰櫒鏍峰紡
        function updateAvatarStyle(input) {
            const container = input.nextElementSibling;
            const span = input.parentElement.querySelector('span');
            
            if (container && span) {
                if (input.checked) {
                    // 閫変腑鐘舵€?
                    container.style.width = '85px';
                    container.style.height = '85px';
                    container.style.backgroundColor = 'rgba(255, 140, 0, 0.1)';
                    container.style.border = '3px solid var(--accent-color)';
                    span.style.color = 'var(--accent-color)';
                    span.style.fontWeight = '600';
                } else {
                    // 鏈€変腑鐘舵€?
                    container.style.width = '70px';
                    container.style.height = '70px';
                    container.style.backgroundColor = 'var(--primary-color)';
                    container.style.border = 'none';
                    span.style.color = 'var(--text-color)';
                    span.style.fontWeight = '500';
                }
            }
        }
        
        // 鏄剧ず鍏煎鎬ц鍛?
        function showCompatibilityWarning() {
            const container = document.querySelector('.container');
            if (container) {
                const warning = document.createElement('div');
                warning.className = 'compatibility-warning';
                warning.style.cssText = `
                    background-color: #fff3cd;
                    border: 1px solid #ffeaa7;
                    color: #856404;
                    padding: 15px;
                    margin-bottom: 20px;
                    border-radius: 4px;
                    text-align: center;
                `;
                warning.innerHTML = `
                    <p><strong>璀﹀憡锛?/strong>鎮ㄧ殑娴忚鍣ㄥ彲鑳戒笉瀹屽叏鏀寔鏈綉绔欑殑鏌愪簺鍔熻兘銆?/p>
                    <p>寤鸿鍗囩骇鍒版渶鏂扮増鏈殑Chrome銆丗irefox銆丼afari鎴朎dge娴忚鍣ㄤ互鑾峰緱鏈€浣充綋楠屻€?/p>
                `;
                container.insertBefore(warning, container.firstChild);
            }
        }
        
        // 閲嶇疆鎵€鏈夐敊璇牱寮?
        function resetAllErrorStyles() {
            // 閲嶇疆鎵€鏈夐殣钘忕殑input鍏冪礌
            const allInputs = document.querySelectorAll('input[type="hidden"][id$="-stem"], input[type="hidden"][id$="-branch"]');
            allInputs.forEach(input => {
                input.style.border = '';
                input.style.backgroundColor = '';
                input.classList.remove('error-input');
            });
            
            // 閲嶇疆鎵€鏈夋寜閽厓绱?
            const allButtons = document.querySelectorAll('button[id$="-stem-btn"], button[id$="-branch-btn"]');
            allButtons.forEach(button => {
                button.style.border = '';
                button.style.backgroundColor = '';
                button.classList.remove('error-input');
            });
        }
        
        // 妫€鏌ュ叓瀛楁槸鍚︾鍚堝叚鍗佺敳瀛?
        function checkSixtyJiaZi(yearStem, yearBranch, monthStem, monthBranch, dayStem, dayBranch, hourStem, hourBranch) {
            const pillars = [
                { name: '骞存煴', stem: yearStem, branch: yearBranch },
                { name: '鏈堟煴', stem: monthStem, branch: monthBranch },
                { name: '鏃ユ煴', stem: dayStem, branch: dayBranch },
                { name: '鏃舵煴', stem: hourStem, branch: hourBranch }
            ];
            
            const errorPillars = [];
            
            pillars.forEach(pillar => {
                const key = `${pillar.stem}-${pillar.branch}`;
                const isValid = sixtyJiaZi[key];
                
                if (!isValid) {
                    errorPillars.push(pillar.name);
                }
            });
            
            return errorPillars;
        }
        
        // 楂樹寒鏄剧ず閿欒鐨勬煴瀛?
        function highlightErrorPillars(errorPillars) {
            const pillarMap = {
                '骞存煴': ['year-stem', 'year-branch'],
                '鏈堟煴': ['month-stem', 'month-branch'],
                '鏃ユ煴': ['day-stem', 'day-branch'],
                '鏃舵煴': ['hour-stem', 'hour-branch'],
                '鏈堟煴澶╁共': ['month-stem'],
                '鏃舵煴澶╁共': ['hour-stem']
            };
            
            errorPillars.forEach(pillar => {
                if (pillarMap[pillar]) {
                    pillarMap[pillar].forEach(elementId => {
                        // 鎵惧埌瀵瑰簲鐨勬寜閽厓绱狅紝鍥犱负瀹為檯鏄剧ず鐨勬槸鎸夐挳鑰屼笉鏄殣钘忕殑input
                        const btnElement = document.getElementById(elementId + '-btn');
                        if (btnElement) {
                            btnElement.style.border = '2px solid #ff0000 !important';
                            btnElement.style.backgroundColor = '#fff0f0';
                            btnElement.classList.add('error-input');
                        }
                        // 鍚屾椂缁欓殣钘忕殑input涔熸坊鍔犻敊璇牱寮忥紝浠ヤ究鍚庣画澶勭悊
                        const inputElement = document.getElementById(elementId);
                        if (inputElement) {
                            inputElement.style.border = '2px solid #ff0000';
                            inputElement.style.backgroundColor = '#fff0f0';
                            inputElement.classList.add('error-input');
                        }
                    });
                }
            });
        }
        
        // 椤甸潰鍔犺浇瀹屾垚鍚庡垵濮嬪寲
        document.addEventListener('DOMContentLoaded', init);
        
        // 鍙€夛細杩愯璺ㄦ祻瑙堝櫒鍏煎鎬ф祴璇?
        window.addEventListener('load', function() {
            if (typeof runCrossBrowserTests === 'function') {
                // 涓嶈嚜鍔ㄨ繍琛岋紝璁╃敤鎴锋墜鍔ㄨЕ鍙?
                // runCrossBrowserTests();
            }
        });
        
        // 椤甸潰鍔犺浇鏃惰缃嚜鍔ㄨ绠楀姛鑳?
        document.addEventListener('DOMContentLoaded', function() {
            setupAutoCalculation();
        });
        
        // 鐢熻倴鏄犲皠
        const zodiacMap = {
            'zi': '榧?,
            'chou': '鐗?,
            'yin': '铏?,
            'mao': '鍏?,
            'chen': '榫?,
            'si': '铔?,
            'wu': '椹?,
            'wei': '缇?,
            'shen': '鐚?,
            'you': '楦?,
            'xu': '鐙?,
            'hai': '鐚?
        };
        
        // 澶╁共鍦版敮瀵瑰簲鐨勪腑鏂囧悕绉?
        const stemNames = {
            'jia': '鐢?, 'yi': '涔?, 'bing': '涓?, 'ding': '涓?, 'wu': '鎴?,
            'ji': '宸?, 'geng': '搴?, 'xin': '杈?, 'ren': '澹?, 'gui': '鐧?
        };
        
        const branchNames = {
            'zi': '瀛?, 'chou': '涓?, 'yin': '瀵?, 'mao': '鍗?, 'chen': '杈?,
            'si': '宸?, 'wu': '鍗?, 'wei': '鏈?, 'shen': '鐢?, 'you': '閰?,
            'xu': '鎴?, 'hai': '浜?
        };
        
        // 鏍规嵁骞存煴鑾峰彇鐢熻倴
        function getZodiacFromYearBranch(yearBranch) {
            return zodiacMap[yearBranch] || '-';
        }
        
        // 鏍规嵁骞存煴鑾峰彇骞翠唤
        function getYearFromYearBranch(yearBranch) {
            // 杩欓噷浣跨敤绠€鍖栫殑璁＄畻锛屽疄闄呭簲鐢ㄤ腑闇€瑕佹洿澶嶆潅鐨勯€昏緫
            // 浠?024骞翠负鍩哄噯锛?024骞存槸鐢茶景骞?
            const currentYear = new Date().getFullYear();
            const currentYearBranch = 'chen'; // 2024骞存槸鐢茶景骞达紝鍦版敮涓鸿景
            
            // 鍦版敮椤哄簭
            const branches = ['zi', 'chou', 'yin', 'mao', 'chen', 'si', 'wu', 'wei', 'shen', 'you', 'xu', 'hai'];
            const currentBranchIndex = branches.indexOf(currentYearBranch);
            const targetBranchIndex = branches.indexOf(yearBranch);
            
            if (currentBranchIndex === -1 || targetBranchIndex === -1) {
                return currentYear;
            }
            
            // 璁＄畻骞翠唤宸紓
            let yearDiff = targetBranchIndex - currentBranchIndex;
            if (yearDiff < 0) {
                yearDiff += 12;
            }
            
            return currentYear - (12 - yearDiff) % 12;
        }
        
        // 璁＄畻宀佹暟
        function calculateAge(year) {
            const currentYear = new Date().getFullYear();
            return currentYear - year;
        }
        
        // 鏍规嵁鍏瓧璁＄畻骞翠唤
        function calculateYearFromBaZi(yearStem, yearBranch) {
            // 宸茬煡鐨勫勾浠藉搴斿叧绯?
            const knownYears = {
                'ji-si': 1989,  // 宸卞烦骞村搴?989骞?
                'yi-si': 2025,  // 涔欏烦骞村搴?025骞?
                'jia-zi': 1984,  // 鐢插瓙骞村搴?984骞?
                'yi-chou': 1985, // 涔欎笐骞村搴?985骞?
                'bing-yin': 1986, // 涓欏瘏骞村搴?986骞?
                'ding-mao': 1987, // 涓佸嵂骞村搴?987骞?
                'wu-chen': 1988, // 鎴婅景骞村搴?988骞?
                'geng-wu': 1990, // 搴氬崍骞村搴?990骞?
                'xin-wei': 1991, // 杈涙湭骞村搴?991骞?
                'ren-shen': 1992, // 澹敵骞村搴?992骞?
                'gui-you': 1993, // 鐧搁厜骞村搴?993骞?
                'jia-xu': 1994, // 鐢叉垖骞村搴?994骞?
                'yi-hai': 1995, // 涔欎亥骞村搴?995骞?
                'bing-zi': 1996, // 涓欏瓙骞村搴?996骞?
                'ding-chou': 1997, // 涓佷笐骞村搴?997骞?
                'wu-yin': 1998, // 鎴婂瘏骞村搴?998骞?
                'ji-mao': 1999, // 宸卞嵂骞村搴?999骞?
                'geng-chen': 2000, // 搴氳景骞村搴?000骞?
                'xin-si': 2001, // 杈涘烦骞村搴?001骞?
                'ren-wu': 2002, // 澹崍骞村搴?002骞?
                'gui-wei': 2003, // 鐧告湭骞村搴?003骞?
                'jia-shen': 2004, // 鐢茬敵骞村搴?004骞?
                'yi-you': 2005, // 涔欓厜骞村搴?005骞?
                'bing-xu': 2006, // 涓欐垖骞村搴?006骞?
                'ding-hai': 2007, // 涓佷亥骞村搴?007骞?
                'wu-zi': 2008, // 鎴婂瓙骞村搴?008骞?
                'ji-chou': 2009, // 宸变笐骞村搴?009骞?
                'geng-yin': 2010, // 搴氬瘏骞村搴?010骞?
                'xin-mao': 2011, // 杈涘嵂骞村搴?011骞?
                'ren-chen': 2012, // 澹景骞村搴?012骞?
                'gui-si': 2013, // 鐧稿烦骞村搴?013骞?
                'jia-wu': 2014, // 鐢插崍骞村搴?014骞?
                'yi-wei': 2015, // 涔欐湭骞村搴?015骞?
                'bing-shen': 2016, // 涓欑敵骞村搴?016骞?
                'ding-you': 2017, // 涓侀厜骞村搴?017骞?
                'wu-xu': 2018, // 鎴婃垖骞村搴?018骞?
                'ji-hai': 2019, // 宸变亥骞村搴?019骞?
                'geng-zi': 2020, // 搴氬瓙骞村搴?020骞?
                'xin-chou': 2021, // 杈涗笐骞村搴?021骞?
                'ren-yin': 2022, // 澹瘏骞村搴?022骞?
                'gui-mao': 2023, // 鐧稿嵂骞村搴?023骞?
                'jia-chen': 2024, // 鐢茶景骞村搴?024骞?
                'yi-si': 2025, // 涔欏烦骞村搴?025骞?
                'bing-wu': 2026, // 涓欏崍骞村搴?026骞?
                'ding-wei': 2027, // 涓佹湭骞村搴?027骞?
                'wu-shen': 2028, // 鎴婄敵骞村搴?028骞?
                'ji-you': 2029, // 宸遍厜骞村搴?029骞?
                'geng-xu': 2030, // 搴氭垖骞村搴?030骞?
                'xin-hai': 2031, // 杈涗亥骞村搴?031骞?
                'ren-zi': 2032, // 澹瓙骞村搴?032骞?
                'gui-chou': 2033, // 鐧镐笐骞村搴?033骞?
                'jia-yin': 2034, // 鐢插瘏骞村搴?034骞?
                'yi-mao': 2035, // 涔欏嵂骞村搴?035骞?
                'bing-chen': 2036, // 涓欒景骞村搴?036骞?
                'ding-si': 2037, // 涓佸烦骞村搴?037骞?
                'wu-wu': 2038, // 鎴婂崍骞村搴?038骞?
                'ji-wei': 2039, // 宸辨湭骞村搴?039骞?
                'geng-shen': 2040, // 搴氱敵骞村搴?040骞?
                'xin-you': 2041, // 杈涢厜骞村搴?041骞?
                'ren-xu': 2042, // 澹垖骞村搴?042骞?
                'gui-hai': 2043  // 鐧镐亥骞村搴?043骞?
            };
            
            let year;
            // 棣栧厛妫€鏌ュ凡鐭ュ勾浠?
            const key = `${yearStem}-${yearBranch}`;
            if (knownYears[key]) {
                year = knownYears[key];
            } else {
                // 瀵逛簬鍏朵粬骞翠唤锛屼娇鐢ㄥ叚鍗佺敳瀛愬惊鐜绠?
                const sixtyJiaZi = [
                    'jia-zi', 'yi-chou', 'bing-yin', 'ding-mao', 'wu-chen', 'ji-si',
                    'geng-wu', 'xin-wei', 'ren-shen', 'gui-you', 'jia-xu', 'yi-hai',
                    'bing-zi', 'ding-chou', 'wu-yin', 'ji-mao', 'geng-chen', 'xin-si',
                    'ren-wu', 'gui-wei', 'jia-shen', 'yi-you', 'bing-xu', 'ding-hai',
                    'wu-zi', 'ji-chou', 'geng-yin', 'xin-mao', 'ren-chen', 'gui-si',
                    'jia-wu', 'yi-wei', 'bing-shen', 'ding-you', 'wu-xu', 'ji-hai',
                    'geng-zi', 'xin-chou', 'ren-yin', 'gui-mao', 'jia-chen', 'yi-si',
                    'bing-wu', 'ding-wei', 'wu-shen', 'ji-you', 'geng-xu', 'xin-hai',
                    'ren-zi', 'gui-chou', 'jia-yin', 'yi-mao', 'bing-chen', 'ding-si',
                    'wu-wu', 'ji-wei', 'geng-shen', 'xin-you', 'ren-xu', 'gui-hai'
                ];
                
                // 鏌ユ壘褰撳墠鍏瓧鍦ㄥ叚鍗佺敳瀛愪腑鐨勭储寮?
                const jiaZiIndex = sixtyJiaZi.indexOf(`${yearStem}-${yearBranch}`);
                if (jiaZiIndex === -1) {
                    return new Date().getFullYear();
                }
                
                // 璁＄畻骞翠唤锛堜互1984骞翠负鍩哄噯锛?984骞存槸鐢插瓙骞达紝绱㈠紩涓?锛?
                const baseYear = 1984;
                const baseIndex = 0;
                const yearDiff = jiaZiIndex - baseIndex;
                year = baseYear + yearDiff;
            }
            
            // 纭繚骞翠唤鍦?900-鑷充粖鑼冨洿鍐?
            const currentYear = new Date().getFullYear();
            // 浣跨敤寰幆璋冩暣骞翠唤锛岀‘淇濆湪1900-鑷充粖鑼冨洿鍐?
            while (year < 1900) {
                year += 60;
            }
            while (year > currentYear) {
                year -= 60;
            }
            return year;
        }
        
        // 鏍规嵁鍏瓧璁＄畻鏈堜唤鍜屾棩鏈?
        function calculateMonthDayFromBaZi(monthStem, monthBranch, dayStem, dayBranch) {
            // 鍩轰簬鐪熷疄鍏瓧瀵瑰簲鍏崇郴鐨勬湀浠芥槧灏?
            const monthMap = {
                'yin': 3,   // 瀵呮湀瀵瑰簲鍏巻3鏈?
                'mao': 4,   // 鍗湀瀵瑰簲鍏巻4鏈?
                'chen': 5,   // 杈版湀瀵瑰簲鍏巻5鏈?
                'si': 6,    // 宸虫湀瀵瑰簲鍏巻6鏈?
                'wu': 7,    // 鍗堟湀瀵瑰簲鍏巻7鏈?
                'wei': 8,   // 鏈湀瀵瑰簲鍏巻8鏈?
                'shen': 9,  // 鐢虫湀瀵瑰簲鍏巻9鏈?
                'you': 10,  // 閰夋湀瀵瑰簲鍏巻10鏈?
                'xu': 11,   // 鎴屾湀瀵瑰簲鍏巻11鏈?
                'hai': 12,  // 浜ユ湀瀵瑰簲鍏巻12鏈?
                'zi': 1,    // 瀛愭湀瀵瑰簲鍏巻1鏈?
                'chou': 2   // 涓戞湀瀵瑰簲鍏巻2鏈?
            };
            
            // 鍩轰簬鐪熷疄鍏瓧瀵瑰簲鍏崇郴鐨勬棩鏈熸槧灏?
            const dayMap = {
                'jia-zi': 1,  'yi-chou': 2,  'bing-yin': 3,  'ding-mao': 4,  'wu-chen': 5,
                'ji-si': 6,   'geng-wu': 7,  'xin-wei': 8,   'ren-shen': 9,  'gui-you': 10,
                'jia-xu': 11,  'yi-hai': 12,  'bing-zi': 13,  'ding-chou': 14, 'wu-yin': 15,
                'ji-mao': 16,  'geng-chen': 17, 'xin-si': 18,  'ren-wu': 19,  'gui-wei': 20,
                'jia-shen': 21, 'yi-you': 22,  'bing-xu': 23,  'ding-hai': 24, 'wu-zi': 25,
                'ji-chou': 26, 'geng-yin': 27, 'xin-mao': 28,  'ren-chen': 29, 'gui-si': 30,
                'wu-wu': 31
            };
            
            // 璁＄畻鏈堜唤
            const month = monthMap[monthBranch] || 6;
            
            // 璁＄畻鏃ユ湡
            const dayKey = `${dayStem}-${dayBranch}`;
            let day = dayMap[dayKey] || 15; // 榛樿15鏃?
            
            // 纭繚鏃ユ湡鍦ㄥ悎鐞嗚寖鍥村唴
            const maxDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            day = Math.min(day, maxDays[month - 1]);
            
            return { month, day };
        }
        
        // 瀹炴椂鏌ヨ鍏瓧淇℃伅
        async function queryBaZiInfo() {
            try {
                // 閲嶇疆鎵€鏈夐敊璇牱寮?
                resetAllErrorStyles();
                
                // 鑾峰彇鍏瓧淇℃伅
                const yearStem = document.getElementById('year-stem').value;
                const yearBranch = document.getElementById('year-branch').value;
                const monthStem = document.getElementById('month-stem').value;
                const monthBranch = document.getElementById('month-branch').value;
                const dayStem = document.getElementById('day-stem').value;
                const dayBranch = document.getElementById('day-branch').value;
                const hourStem = document.getElementById('hour-stem').value;
                const hourBranch = document.getElementById('hour-branch').value;
                
                // 妫€鏌ュ叚鍗佺敳瀛愮粍鍚?
                const errorPillars = checkSixtyJiaZi(yearStem, yearBranch, monthStem, monthBranch, dayStem, dayBranch, hourStem, hourBranch);
                
                if (errorPillars.length > 0) {
                    // 鍏瓧閿欒锛屾樉绀烘彁绀哄苟楂樹寒閿欒鏌卞瓙
                    showToast('鍏瓧閿欒锛? + errorPillars.join('銆?) + '涓嶇鍚堝叚鍗佺敳瀛愮粍鍚?);
                    highlightErrorPillars(errorPillars);
                }
                
                // 鐢熸垚鍏瓧瀛楃涓诧紙浣跨敤鎷奸煶缂╁啓锛屽甫杩炲瓧绗︼級
                const baZiString = `${yearStem}-${yearBranch}-${monthStem}-${monthBranch}-${dayStem}-${dayBranch}-${hourStem}-${hourBranch}`;
                
                // 鎵╁睍宸茬煡鐨勬纭叓瀛楀搴斿叧绯伙紙浣跨敤鎷奸煶缂╁啓浣滀负閿級
                const correctBaZiMap = {
                    // 涔欏烦骞翠竵浜ユ湀澹瘏鏃ヤ箼宸虫椂瀵瑰簲2025骞?1鏈?9鏃?
                    'yi-si-ding-hai-ren-yin-yi-si': {
                        gregorian: '2025骞?,
                        lunar: '2025骞?,
                        zodiac: '铔?,
                        age: 0
                    },
                    // 宸卞烦骞村，鐢虫湀宸卞烦鏃ユ垔杈版椂瀵瑰簲1989骞?鏈?鏃?
                    'ji-si-ren-shen-ji-si-wu-chen': {
                        gregorian: '1989骞?,
                        lunar: '1989骞?,
                        zodiac: '铔?,
                        age: 36
                    },
                    // 鐢茶景骞寸敳鎴屾湀鐢插崍鏃ヤ笝瀵呮椂瀵瑰簲2024骞?0鏈?9鏃?
                    'jia-chen-jia-xu-jia-wu-bing-yin': {
                        gregorian: '2024骞?,
                        lunar: '2024骞?,
                        zodiac: '榫?,
                        age: 0
                    },
                    // 鐧稿嵂骞寸櫢浜ユ湀鐧镐亥鏃ュ，瀛愭椂瀵瑰簲2023骞?2鏈?1鏃?
                    'gui-mao-gui-hai-gui-hai-ren-zi': {
                        gregorian: '2023骞?,
                        lunar: '2023骞?,
                        zodiac: '鍏?,
                        age: 1
                    },
                    // 澹瘏骞磋緵浜ユ湀杈涗笐鏃ュ簹瀵呮椂瀵瑰簲2022骞?1鏈?4鏃?
                    'ren-yin-xin-hai-xin-chou-geng-yin': {
                        gregorian: '2022骞?,
                        lunar: '2022骞?,
                        zodiac: '铏?,
                        age: 2
                    },
                    // 澹瘏骞翠笝鍗堟湀杈涘嵂鏃ョ櫢宸虫椂瀵瑰簲2022骞?鏈?鏃?
                    'ren-yin-bing-wu-xin-mao-gui-si': {
                        gregorian: '2022骞?,
                        lunar: '2022骞?,
                        zodiac: '铏?,
                        age: 3
                    },
                    // 澹瘏骞翠笝鍗堟湀杈涘嵂鏃ュ搴?022骞?鏈?鏃?
                    'ren-yin-bing-wu-xin-mao': {
                        gregorian: '2022骞?,
                        lunar: '2022骞?,
                        zodiac: '铏?,
                        age: 3
                    },
                    // 杈涗亥骞翠笝鐢虫湀涔欏嵂鏃ヤ竵涓戞椂瀵瑰簲1911骞?鏈?3鏃?
                    'xin-hai-bing-shen-yi-mao-ding-chou': {
                        gregorian: '1911骞?,
                        lunar: '1911骞?,
                        zodiac: '鐚?,
                        age: 115
                    }
                };
                
                // 鐢熸垚骞存煴+鏈堟煴+鏃ユ煴瀛楃涓?
                const yearMonthDayString = `${yearStem}-${yearBranch}-${monthStem}-${monthBranch}-${dayStem}-${dayBranch}`;
                
                // 妫€鏌ユ槸鍚︽湁宸茬煡鐨勬纭搴斿叧绯伙紙瀹屾暣鍏瓧锛?
                if (correctBaZiMap[baZiString]) {
                    const result = correctBaZiMap[baZiString];
                    document.getElementById('gregorian-birthday').textContent = result.gregorian;
                    document.getElementById('zodiac').textContent = result.zodiac;
                    document.getElementById('age').textContent = result.age;
                    return;
                }
                
                // 妫€鏌ユ槸鍚︽湁宸茬煡鐨勬纭搴斿叧绯伙紙骞?鏈?鏃ワ級
                if (correctBaZiMap[yearMonthDayString]) {
                    const result = correctBaZiMap[yearMonthDayString];
                    document.getElementById('gregorian-birthday').textContent = result.gregorian;
                    document.getElementById('zodiac').textContent = result.zodiac;
                    document.getElementById('age').textContent = result.age;
                    return;
                }
                
                // 璁＄畻骞翠唤
                const year = calculateYearFromBaZi(yearStem, yearBranch);
                
                // 鍙煡璇?900-鑷充粖杩欎釜鏃堕棿娈?
                if (year < 1900 || year > new Date().getFullYear()) {
                    // 閲嶇疆鏄剧ず
                    document.getElementById('gregorian-birthday').textContent = '-';
                    document.getElementById('zodiac').textContent = '-';
                    document.getElementById('age').textContent = '-';
                    return;
                }
                
                // 璁＄畻鏈堜唤鍜屾棩鏈?
                const { month, day } = calculateMonthDayFromBaZi(monthStem, monthBranch, dayStem, dayBranch);
                
                // 璁＄畻宀佹暟
                const age = calculateAge(year);
                
                // 鑾峰彇鐢熻倴
                const zodiac = getZodiacFromYearBranch(yearBranch);
                
                // 鐢熸垚鍏巻鐢熸棩锛堝彧鏄剧ず骞翠唤锛?
                const gregorianBirthday = `${year}骞碻;
                
                // 鐢熸垚闃村巻鐢熸棩
                let lunarMonth, lunarDay;
                
                // 鏀硅繘鐨勫啘鍘嗘湀浠芥槧灏勶紙鍩轰簬鐪熷疄鐨勮妭姘旇浆鎹級
                const lunarMonthMap = {
                    // 鏈堜唤鏄犲皠锛氬叕鍘嗘湀浠藉埌闃村巻鏈堜唤鐨勬槧灏?
                    1: 12, 2: 1, 3: 2, 4: 3, 5: 4, 6: 5,
                    7: 6, 8: 7, 9: 8, 10: 9, 11: 10, 12: 11
                };
                
                // 鏈堜唤鏄犲皠
                lunarMonth = lunarMonthMap[month] || month;
                
                // 鏀硅繘鐨勫啘鍘嗘棩鏈熸槧灏?
                const lunarDayMap = {
                    1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, 10: 10,
                    11: 11, 12: 12, 13: 13, 14: 14, 15: 15, 16: 16, 17: 17, 18: 18, 19: 19, 20: 20,
                    21: 21, 22: 22, 23: 23, 24: 24, 25: 25, 26: 26, 27: 27, 28: 28, 29: 29, 30: 30, 31: 1
                };
                
                lunarDay = lunarDayMap[day] || day;
                
                // 灏嗘暟瀛楁湀浠借浆鎹负涓枃鏈堜唤
                const lunarMonthNames = ['', '涓€', '浜?, '涓?, '鍥?, '浜?, '鍏?, '涓?, '鍏?, '涔?, '鍗?, '鍗佷竴', '鍗佷簩'];
                const lunarChineseMonth = lunarMonthNames[lunarMonth] || lunarMonth;
                
                // 灏嗘暟瀛楁棩鏈熻浆鎹负涓枃鏃ユ湡
                const lunarDayNames = ['', '鍒濅竴', '鍒濅簩', '鍒濅笁', '鍒濆洓', '鍒濅簲', '鍒濆叚', '鍒濅竷', '鍒濆叓', '鍒濅節', '鍒濆崄',
                                     '鍗佷竴', '鍗佷簩', '鍗佷笁', '鍗佸洓', '鍗佷簲', '鍗佸叚', '鍗佷竷', '鍗佸叓', '鍗佷節', '浜屽崄',
                                     '寤夸竴', '寤夸簩', '寤夸笁', '寤垮洓', '寤夸簲', '寤垮叚', '寤夸竷', '寤垮叓', '寤夸節', '涓夊崄', '涓夊崄涓€'];
                const lunarChineseDay = lunarDayNames[lunarDay] || lunarDay;
                const lunarBirthday = `${year}骞碻;
                
                // 鏇存柊鏄剧ず
                document.getElementById('gregorian-birthday').textContent = gregorianBirthday;
                document.getElementById('zodiac').textContent = zodiac;
                document.getElementById('age').textContent = age;
            } catch (error) {
                console.error('鏌ヨ鍏瓧淇℃伅澶辫触:', error);
            }
        }
        
        // 娣诲姞浜嬩欢鐩戝惉鍣紝瀹炴椂瑙﹀彂鏌ヨ
        function addBaZiInfoListeners() {
            // 鑾峰彇鎵€鏈夊叓瀛楄緭鍏elect鍏冪礌
            const selectIds = [
                'year-stem', 'year-branch', 'month-stem', 'month-branch',
                'day-stem', 'day-branch', 'hour-stem', 'hour-branch'
            ];
            
            selectIds.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    // 绉婚櫎鍙兘瀛樺湪鐨勬棫浜嬩欢鐩戝惉鍣?
                    element.removeEventListener('change', queryBaZiInfo);
                    // 娣诲姞鏂颁簨浠剁洃鍚櫒
                    element.addEventListener('change', queryBaZiInfo);
                }
            });
            
            // 鍒濆鏌ヨ
            queryBaZiInfo();
        }
        
        // 鑾峰彇褰撳ぉ鍏瓧淇℃伅
        function getTodayBaZi() {
            // 2025骞?1鏈?9鏃ョ殑鍏瓧淇℃伅锛氫箼宸冲勾涓佷亥鏈堝，瀵呮棩涔欏烦鏃?
            return {
                yearStem: 'yi',
                yearBranch: 'si',
                monthStem: 'ding',
                monthBranch: 'hai',
                dayStem: 'ren',
                dayBranch: 'yin',
                hourStem: 'yi',
                hourBranch: 'si'
            };
        }
        
        // 鍒濆鍖栧叓瀛椾俊鎭?
        function initBaZiInfo() {
            try {
                // 鑾峰彇褰撳ぉ鍏瓧
                const todayBaZi = getTodayBaZi();
                
                if (todayBaZi) {
                    // 璁剧疆鍏瓧淇℃伅
                    document.getElementById('year-stem').value = todayBaZi.yearStem;
                    document.getElementById('year-branch').value = todayBaZi.yearBranch;
                    document.getElementById('month-stem').value = todayBaZi.monthStem;
                    document.getElementById('month-branch').value = todayBaZi.monthBranch;
                    document.getElementById('day-stem').value = todayBaZi.dayStem;
                    document.getElementById('day-branch').value = todayBaZi.dayBranch;
                    document.getElementById('hour-stem').value = todayBaZi.hourStem;
                    document.getElementById('hour-branch').value = todayBaZi.hourBranch;
                    
                    // 鏇存柊鑷畾涔変笅鎷夎彍鍗曠殑鏄剧ず鏂囨湰
                    document.getElementById('year-stem-text').textContent = stemInfo[todayBaZi.yearStem];
                    document.getElementById('year-branch-text').textContent = branchInfo[todayBaZi.yearBranch];
                    document.getElementById('month-stem-text').textContent = stemInfo[todayBaZi.monthStem];
                    document.getElementById('month-branch-text').textContent = branchInfo[todayBaZi.monthBranch];
                    document.getElementById('day-stem-text').textContent = stemInfo[todayBaZi.dayStem];
                    document.getElementById('day-branch-text').textContent = branchInfo[todayBaZi.dayBranch];
                    document.getElementById('hour-stem-text').textContent = stemInfo[todayBaZi.hourStem];
                    document.getElementById('hour-branch-text').textContent = branchInfo[todayBaZi.hourBranch];
                    
                    // 鏇存柊閫夐」鐨刟ctive鐘舵€?
                    const updateActiveOption = (menuId, value) => {
                        const menu = document.getElementById(menuId);
                        if (menu) {
                            const options = menu.getElementsByTagName('button');
                            for (let i = 0; i < options.length; i++) {
                                const option = options[i];
                                if (option.getAttribute('data-value') === value) {
                                    option.classList.add('active');
                                } else {
                                    option.classList.remove('active');
                                }
                            }
                        }
                    };
                    
                    updateActiveOption('year-stem-menu', todayBaZi.yearStem);
                    updateActiveOption('year-branch-menu', todayBaZi.yearBranch);
                    updateActiveOption('month-stem-menu', todayBaZi.monthStem);
                    updateActiveOption('month-branch-menu', todayBaZi.monthBranch);
                    updateActiveOption('day-stem-menu', todayBaZi.dayStem);
                    updateActiveOption('day-branch-menu', todayBaZi.dayBranch);
                    updateActiveOption('hour-stem-menu', todayBaZi.hourStem);
                    updateActiveOption('hour-branch-menu', todayBaZi.hourBranch);
                    
                    // 鏌ヨ鍏瓧淇℃伅
                    queryBaZiInfo();
                }
            } catch (error) {
                console.error('鍒濆鍖栧叓瀛椾俊鎭け璐?', error);
            }
        }
        
        // 椤甸潰鍔犺浇瀹屾垚鍚庡垵濮嬪寲鎵€鏈夊姛鑳?
        document.addEventListener('DOMContentLoaded', function() {
            // 璋冪敤涓诲垵濮嬪寲鍑芥暟
            init();
            addBaZiInfoListeners();
            initBaZiInfo();
        });
        
        // 纭繚鍦ㄦ墍鏈夊垵濮嬪寲瀹屾垚鍚庡啀娆℃坊鍔犱簨浠剁洃鍚櫒
        window.addEventListener('load', function() {
            addBaZiInfoListeners();
        });

        // 鏂囩珷鏉垮潡鍔熻兘瀹炵幇
        document.addEventListener('DOMContentLoaded', function() {
            // 鍒濆鍖栨枃绔犳澘鍧?
            initArticleSections();
            
            // 鍒濆鍖栫暀瑷€琛ㄥ崟
            initContactForm();
            
            // 娣诲姞绂佹澶嶅埗鍔熻兘
            addCopyProtection();
        });
        
        // 鍒濆鍖栨枃绔犳澘鍧?
        function initArticleSections() {
            // 灏濊瘯浠庢湰鍦板瓨鍌ㄥ姞杞芥枃绔犳暟鎹?
            let articlesData = null;
            const savedData = localStorage.getItem('articlesData');
            
            if (savedData) {
                // 浣跨敤鏈湴瀛樺偍鐨勬暟鎹?
                articlesData = JSON.parse(savedData);
            } else {
                // 浠巃rticles.json鍔犺浇鏁版嵁
                fetch('articles.json')
                    .then(response => response.json())
                    .then(data => {
                        articlesData = data;
                        // 閬嶅巻鎵€鏈夋枃绔犲垎绫?
                        Object.keys(articlesData).forEach(category => {
                            const grid = document.getElementById(`${category}-grid`);
                            if (grid) {
                                // 娓呯┖鐜版湁鍐呭
                                grid.innerHTML = '';
                                // 鐢熸垚鏂囩珷鍗＄墖 - 鍙樉绀虹簿鍗庢枃绔?
                                const categoryArticles = articlesData[category];
                                const featuredArticles = categoryArticles.filter(article => article.isFeatured);
                                
                                featuredArticles.forEach(article => {
                                    const card = createArticleCard(article, category);
                                    grid.appendChild(card);
                                });
                            }
                        });
                    })
                    .catch(error => {
                        console.error('浠巃rticles.json鍔犺浇鏁版嵁鍑洪敊:', error);
                        // 浣跨敤绌烘暟鎹綔涓洪粯璁ゅ€?
                        articlesData = {
                            'basic-theory': [], 
                            'celebrity-views': [], 
                            'flower-fruit-method': [], 
                            'essays': []
                        };
                    });
                return;
            }
            
            // 閬嶅巻鎵€鏈夋枃绔犲垎绫?
            Object.keys(articlesData).forEach(category => {
                const grid = document.getElementById(`${category}-grid`);
                if (grid) {
                    // 鐢熸垚鏂囩珷鍗＄墖 - 鍙樉绀虹簿鍗庢枃绔?
                    const categoryArticles = articlesData[category];
                    const featuredArticles = categoryArticles.filter(article => article.isFeatured);
                    
                    featuredArticles.forEach(article => {
                        const card = createArticleCard(article, category);
                        grid.appendChild(card);
                    });
                }
            });
            
            // 涓烘墍鏈夋煡鐪嬫洿澶氭寜閽坊鍔犵偣鍑讳簨浠跺鐞?
            const viewMoreBtns = document.querySelectorAll('.view-more-btn');
            viewMoreBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    // 璺宠浆鍒版枃绔犲垪琛ㄩ〉闈?
                    window.location.href = 'articles.html';
                });
            });
        }
        
        // 鍒涘缓鏂囩珷鍗＄墖
        function createArticleCard(article, category) {
            const card = document.createElement('div');
            card.className = 'article-card';
            
            card.innerHTML = `
                <h3 class="article-title">${article.title}</h3>
                <p class="article-excerpt">${article.excerpt}</p>
                <div class="article-meta">
                    <div class="article-date">
                        <i class="fa fa-calendar"></i>
                        <span>${article.date}</span>
                    </div>
                    <div class="article-actions">
                        <span class="article-views">
                            <i class="fa fa-eye"></i>
                            <span>${article.views || 0}</span>
                        </span>
                        <button class="action-btn like-btn" data-id="${article.id}" data-category="${category}">
                            <i class="fa fa-heart"></i>
                            <span class="like-count">${article.likes}</span>
                        </button>
                        <button class="action-btn share-btn" data-id="${article.id}" data-category="${category}">
                            <i class="fa fa-share"></i>
                            <span>鍒嗕韩</span>
                        </button>
                    </div>
                </div>
            `;
            
            // 鐐瑰嚮鍗＄墖璺宠浆鍒版枃绔犺鎯呴〉
            card.addEventListener('click', () => {
                window.open(`article-detail.html?id=${article.id}&category=${category}`, '_blank');
            });
            
            // 涓虹偣璧炲拰鍒嗕韩鎸夐挳娣诲姞浜嬩欢濮旀墭锛岄樆姝㈠啋娉?
            card.querySelector('.like-btn').addEventListener('click', (e) => {
                e.stopPropagation();
                handleLike(article, category);
            });
            
            card.querySelector('.share-btn').addEventListener('click', (e) => {
                e.stopPropagation();
                handleShare(article, category);
            });
            
            // 涓烘祻瑙堥噺娣诲姞闃绘鍐掓场锛岄伩鍏嶇偣鍑绘祻瑙堥噺鏃惰烦杞?
            card.querySelector('.article-views').addEventListener('click', (e) => {
                e.stopPropagation();
            });
            
            return card;
        }
        
        // 鎵撳紑鏂囩珷璇︽儏椤?
        function openArticleDetail(article, category) {
            // 杩欓噷鍙互瀹炵幇璺宠浆鍒版枃绔犺鎯呴〉锛屾垨鑰呭湪褰撳墠椤甸潰鏄剧ず寮圭獥
            // 涓轰簡绠€鍖栵紝鎴戜滑浣跨敤寮圭獥鏂瑰紡灞曠ず鏂囩珷璇︽儏
            const detailHTML = `
                <div class="article-detail-overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; justify-content: center; align-items: center; overflow-y: auto;">
                    <div class="article-detail-content" style="background: white; padding: 2rem; border-radius: 8px; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
                        <h2 class="article-title">${article.title}</h2>
                        <div class="article-meta">
                            <div class="article-date">
                                <i class="fa fa-calendar"></i>
                                <span>${article.date}</span>
                            </div>
                            <div class="article-actions">
                                <button class="action-btn like-btn" data-id="${article.id}" data-category="${category}">
                                    <i class="fa fa-heart"></i>
                                    <span class="like-count">${article.likes}</span>
                                </button>
                                <button class="action-btn share-btn" data-id="${article.id}" data-category="${category}">
                                    <i class="fa fa-share"></i>
                                    <span>鍒嗕韩</span>
                                </button>
                            </div>
                        </div>
                        <div class="article-content no-copy">
                            ${article.content.replace(/\n/g, '<br>')}
                        </div>
                        <button class="close-btn">
                            鍏抽棴
                        </button>
                    </div>
                </div>
            `;
            
            // 娣诲姞鍒伴〉闈?
            document.body.insertAdjacentHTML('beforeend', detailHTML);
            
            // 娣诲姞鍏抽棴浜嬩欢
            const overlay = document.querySelector('.article-detail-overlay');
            const closeBtn = overlay.querySelector('.close-btn');
            
            closeBtn.addEventListener('click', () => {
                overlay.remove();
            });
            
            // 鐐瑰嚮閬僵灞傚叧闂?
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.remove();
                }
            });
            
            // 涓鸿鎯呴〉鐨勭偣璧炲拰鍒嗕韩鎸夐挳娣诲姞浜嬩欢
            const likeBtn = overlay.querySelector('.like-btn');
            const shareBtn = overlay.querySelector('.share-btn');
            
            likeBtn.addEventListener('click', () => {
                handleLike(article, category, likeBtn.querySelector('.like-count'));
            });
            
            shareBtn.addEventListener('click', () => {
                handleShare(article, category);
            });
        }
        
        // 澶勭悊鐐硅禐鍔熻兘
        function handleLike(article, category, countElement = null) {
            // 鏇存柊鏂囩珷鐐硅禐鏁?
            article.likes++;
            
            // 鏇存柊鎵€鏈夌浉鍏崇殑鐐硅禐鏁版樉绀?
            const allLikeBtns = document.querySelectorAll(`.like-btn[data-id="${article.id}"][data-category="${category}"]`);
            allLikeBtns.forEach(btn => {
                const count = btn.querySelector('.like-count');
                if (count) {
                    count.textContent = article.likes;
                    btn.classList.add('liked');
                }
            });
        }
        
        // 澶勭悊鍒嗕韩鍔熻兘
        function handleShare(article, category) {
            const url = window.location.href;
            const title = article.title;
            const summary = article.excerpt;
            
            // 鍒涘缓鍒嗕韩寮圭獥
            const shareHTML = `
                <div class="share-overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1001; display: flex; justify-content: center; align-items: center;">
                    <div class="share-modal" style="background: white; padding: 2rem; border-radius: 8px; max-width: 400px; width: 90%; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
                        <h3 style="margin-top: 0; margin-bottom: 1.5rem; color: var(--text-color); text-align: center;">鍒嗕韩鍒?/h3>
                        <div class="share-options" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                            <!-- 寰俊鍒嗕韩 -->
                            <button class="share-option-btn wechat-btn" style="padding: 1rem; border: none; border-radius: 8px; background: #07C160; color: white; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: all 0.3s ease;">
                                <i class="fa fa-weixin" style="font-size: 1.5rem;"></i>
                                <span>寰俊</span>
                            </button>
                            
                            <!-- 寰崥鍒嗕韩 -->
                            <button class="share-option-btn weibo-btn" style="padding: 1rem; border: none; border-radius: 8px; background: #E6162D; color: white; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: all 0.3s ease;">
                                <i class="fa fa-weibo" style="font-size: 1.5rem;"></i>
                                <span>寰崥</span>
                            </button>
                            
                            <!-- X锛堝師Twitter锛夊垎浜?-->
                            <button class="share-option-btn twitter-btn" style="padding: 1rem; border: none; border-radius: 8px; background: #1DA1F2; color: white; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: all 0.3s ease;">
                                <i class="fa fa-twitter" style="font-size: 1.5rem;"></i>
                                <span>X</span>
                            </button>
                            
                            <!-- YouTube鍒嗕韩 -->
                            <button class="share-option-btn youtube-btn" style="padding: 1rem; border: none; border-radius: 8px; background: #FF0000; color: white; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: all 0.3s ease;">
                                <i class="fa fa-youtube" style="font-size: 1.5rem;"></i>
                                <span>YouTube</span>
                            </button>
                            
                            <!-- 澶嶅埗閾炬帴 -->
                            <button class="share-option-btn copy-link-btn" style="padding: 1rem; border: none; border-radius: 8px; background: var(--primary-color); color: white; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; transition: all 0.3s ease;">
                                <i class="fa fa-link" style="font-size: 1.5rem;"></i>
                                <span>澶嶅埗閾炬帴</span>
                            </button>
                        </div>
                        <div style="text-align: center;">
                            <button class="close-share-btn" style="padding: 0.75rem 1.5rem; background: var(--accent-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                鍏抽棴
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // 娣诲姞鍒伴〉闈?
            document.body.insertAdjacentHTML('beforeend', shareHTML);
            
            // 娣诲姞浜嬩欢鐩戝惉
            const overlay = document.querySelector('.share-overlay');
            const closeBtn = overlay.querySelector('.close-share-btn');
            
            // 鍏抽棴寮圭獥
            closeBtn.addEventListener('click', () => overlay.remove());
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) overlay.remove();
            });
            
            // 寰俊鍒嗕韩
            overlay.querySelector('.wechat-btn').addEventListener('click', () => {
                // 鍒涘缓寰俊鍒嗕韩寮圭獥锛屽寘鍚簩缁寸爜
                const wechatShareHTML = `
                    <div class="wechat-share-overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 1002; display: flex; justify-content: center; align-items: center;">
                        <div class="wechat-share-content" style="background: white; padding: 2rem; border-radius: 8px; max-width: 400px; width: 90%; text-align: center;">
                            <h3 style="margin-top: 0; margin-bottom: 1rem; color: var(--text-color);">寰俊鍒嗕韩</h3>
                            <p style="margin-bottom: 1.5rem; color: #666;">璇蜂娇鐢ㄥ井淇℃壂鎻忎笅鏂逛簩缁寸爜鍒嗕韩姝ゆ枃绔?/p>
                            <div class="qrcode-container" style="margin-bottom: 1.5rem; padding: 1rem; background: white; border-radius: 8px; display: flex; justify-content: center;">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(window.location.origin + window.location.pathname)}" alt="寰俊鍒嗕韩浜岀淮鐮? style="width: 200px; height: 200px;">
                            </div>
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; word-break: break-all; font-size: 0.8rem; color: #666;">
                                <strong>鍒嗕韩閾炬帴锛?/strong><br>${window.location.origin + window.location.pathname}
                            </div>
                            <p style="margin-bottom: 1.5rem; color: #999; font-size: 0.9rem;">
                                鎻愮ず锛氭壂鎻忓悗鍙垎浜埌寰俊濂藉弸銆佹湅鍙嬪湀鎴栨敹钘?br>
                                濡備簩缁寸爜鏃犳硶鎵弿锛岃鎵嬪姩澶嶅埗涓婃柟閾炬帴
                            </p>
                            <button class="copy-wechat-link-btn" style="margin-bottom: 1rem; padding: 0.75rem 1.5rem; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                澶嶅埗鍒嗕韩閾炬帴
                            </button>
                            <button class="close-wechat-share-btn" style="padding: 0.75rem 1.5rem; background: var(--accent-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                鍏抽棴
                            </button>
                        </div>
                    </div>
                `;
                
                // 娣诲姞鍒伴〉闈?
                document.body.insertAdjacentHTML('beforeend', wechatShareHTML);
                
                // 娣诲姞鍏抽棴浜嬩欢
                const wechatOverlay = document.querySelector('.wechat-share-overlay');
                wechatOverlay.querySelector('.close-wechat-share-btn').addEventListener('click', () => wechatOverlay.remove());
                wechatOverlay.addEventListener('click', (e) => {
                    if (e.target === wechatOverlay) wechatOverlay.remove();
                });
                
                // 娣诲姞澶嶅埗閾炬帴鍔熻兘
                wechatOverlay.querySelector('.copy-wechat-link-btn').addEventListener('click', () => {
                    // 鍒涘缓鍖呭惈鏍囬鍜岄摼鎺ョ殑鍒嗕韩鏂囨湰
                    const shareText = `${title} - 姝ｇ紭鏂逛綅缃慭n\n${url}\n\n蹇潵鐪嬬湅杩欑瘒绮惧僵鐨勫懡鐞嗘枃绔犲惂锛乣;
                    navigator.clipboard.writeText(shareText)
                        .then(() => {
                            alert('鍒嗕韩閾炬帴宸插鍒跺埌鍓创鏉匡紒');
                        })
                        .catch(err => {
                            console.error('澶嶅埗澶辫触:', err);
                            alert('澶嶅埗澶辫触锛岃鎵嬪姩澶嶅埗閾炬帴');
                        });
                });
            });
            
            // 寰崥鍒嗕韩
            overlay.querySelector('.weibo-btn').addEventListener('click', () => {
                const weiboUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}&summary=${encodeURIComponent(summary)}`;
                window.open(weiboUrl, '_blank', 'width=600,height=400');
            });
            
            // X锛堝師Twitter锛夊垎浜?
            overlay.querySelector('.twitter-btn').addEventListener('click', () => {
                const xUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(title)}`;
                window.open(xUrl, '_blank', 'width=600,height=400');
            });
            
            // YouTube鍒嗕韩
            overlay.querySelector('.youtube-btn').addEventListener('click', () => {
                // YouTube涓昏鐢ㄤ簬鍒嗕韩瑙嗛锛岃繖閲屾彁渚涚浉鍏虫彁绀哄拰閾炬帴
                const baseUrl = window.location.origin + window.location.pathname;
                const youtubeShareHTML = `
                    <div class="youtube-share-overlay" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 1002; display: flex; justify-content: center; align-items: center;">
                        <div class="youtube-share-content" style="background: white; padding: 2rem; border-radius: 8px; max-width: 400px; width: 90%; text-align: center;">
                            <h3 style="margin-top: 0; margin-bottom: 1.5rem; color: var(--text-color);">YouTube鍒嗕韩</h3>
                            <p style="margin-bottom: 1.5rem; color: #666;">
                                YouTube涓昏鐢ㄤ簬鍒嗕韩瑙嗛鍐呭銆?br>
                                鎮ㄥ彲浠ュ皢姝ら摼鎺ュ垎浜埌YouTube瑙嗛鐨勬弿杩版垨璇勮涓€?
                            </p>
                            <div style="margin-bottom: 1.5rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; word-break: break-all; font-size: 0.8rem; color: #666;">
                                <strong>鏂囩珷閾炬帴锛?/strong><br>${baseUrl}
                            </div>
                            <button class="copy-youtube-link-btn" style="margin-bottom: 1rem; padding: 0.75rem 1.5rem; background: #FF0000; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                澶嶅埗鏂囩珷閾炬帴
                            </button>
                            <button class="close-youtube-share-btn" style="padding: 0.75rem 1.5rem; background: var(--accent-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                鍏抽棴
                            </button>
                        </div>
                    </div>
                `;
                
                // 娣诲姞鍒伴〉闈?
                document.body.insertAdjacentHTML('beforeend', youtubeShareHTML);
                
                // 娣诲姞鍏抽棴浜嬩欢
                const youtubeOverlay = document.querySelector('.youtube-share-overlay');
                youtubeOverlay.querySelector('.close-youtube-share-btn').addEventListener('click', () => youtubeOverlay.remove());
                youtubeOverlay.addEventListener('click', (e) => {
                    if (e.target === youtubeOverlay) youtubeOverlay.remove();
                });
                
                // 娣诲姞澶嶅埗閾炬帴鍔熻兘
                youtubeOverlay.querySelector('.copy-youtube-link-btn').addEventListener('click', () => {
                    // 鍒涘缓鍖呭惈鏍囬鍜岄摼鎺ョ殑鍒嗕韩鏂囨湰
                    const shareText = `${title} - 姝ｇ紭鏂逛綅缃慭n\n${url}\n\n蹇潵鐪嬬湅杩欑瘒绮惧僵鐨勫懡鐞嗘枃绔犲惂锛乣;
                    navigator.clipboard.writeText(shareText)
                        .then(() => {
                            alert('鏂囩珷閾炬帴宸插鍒跺埌鍓创鏉匡紒');
                        })
                        .catch(err => {
                            console.error('澶嶅埗澶辫触:', err);
                            alert('澶嶅埗澶辫触锛岃鎵嬪姩澶嶅埗閾炬帴');
                        });
                });
            });
            
            // 澶嶅埗閾炬帴
            overlay.querySelector('.copy-link-btn').addEventListener('click', () => {
                // 鍒涘缓鍖呭惈鏍囬鍜岄摼鎺ョ殑鍒嗕韩鏂囨湰
                const shareText = `${title} - 姝ｇ紭鏂逛綅缃慭n\n${url}\n\n蹇潵鐪嬬湅杩欑瘒绮惧僵鐨勫懡鐞嗘枃绔犲惂锛乣;
                navigator.clipboard.writeText(shareText)
                    .then(() => {
                        alert('閾炬帴宸插鍒跺埌鍓创鏉匡紒');
                    })
                    .catch(err => {
                        console.error('澶嶅埗澶辫触:', err);
                        alert('澶嶅埗澶辫触锛岃鎵嬪姩澶嶅埗閾炬帴');
                    });
            });
        }
        
        // 鍒濆鍖栫暀瑷€琛ㄥ崟
        function initContactForm() {
            // 鑾峰彇鎵€鏈夎仈绯昏〃鍗曪紙椤甸潰涓婃湁涓や釜锛?
            const forms = document.querySelectorAll('#contact-form');
            forms.forEach(form => {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    handleContactSubmit(form);
                });
            });
        }
        
        // 澶勭悊鐣欒█琛ㄥ崟鎻愪氦
        function handleContactSubmit(form) {
            // 鑾峰彇琛ㄥ崟鏁版嵁
            const formData = new FormData(form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                subject: formData.get('subject'),
                message: formData.get('message')
            };
            
            // 绠€鍗曠殑琛ㄥ崟楠岃瘉
            if (!data.name || !data.email || !data.subject || !data.message) {
                alert('璇峰～鍐欐墍鏈夊繀濉」');
                return;
            }
            
            // 灏嗙暀瑷€淇濆瓨鍒版湰鍦板瓨鍌?
            data.date = new Date().toLocaleString();
            let messages = JSON.parse(localStorage.getItem('messagesData') || '[]');
            messages.push(data);
            localStorage.setItem('messagesData', JSON.stringify(messages, null, 2));
            
            // 鏄剧ず鎴愬姛鎻愮ず
            alert('鐣欒█宸叉垚鍔熸彁浜わ紝鎰熻阿鎮ㄧ殑鐣欒█锛?);
            
            // 閲嶇疆琛ㄥ崟
            form.reset();
        }
        
        // 娣诲姞绂佹澶嶅埗鍔熻兘
        function addCopyProtection() {
            // 涓烘枃绔犲唴瀹规坊鍔犵姝㈠鍒?
            document.addEventListener('copy', (e) => {
                // 妫€鏌ユ槸鍚﹀湪鏂囩珷鍐呭鍖哄煙
                const target = e.target;
                if (target.closest('.article-content') || target.closest('.no-copy')) {
                    e.preventDefault();
                    alert('鏈枃鍐呭绂佹澶嶅埗锛屾劅璋㈢悊瑙ｏ紒');
                }
            });
            
            // 绂佹鍙抽敭鑿滃崟
            document.addEventListener('contextmenu', (e) => {
                if (e.target.closest('.article-content') || target.closest('.no-copy')) {
                    e.preventDefault();
                }
            });
        }
        
        // 鎮诞鑱旂郴鎸夐挳鍔熻兘
        function initFloatingContact() {
            const contactBtn = document.getElementById('contact-btn');
            const contactModal = document.getElementById('contact-modal');
            const closeModal = document.getElementById('close-modal');
            
            if (contactBtn && contactModal && closeModal) {
                // 鐐瑰嚮鎸夐挳鏄剧ず寮圭獥
                contactBtn.addEventListener('click', () => {
                    contactModal.classList.add('active');
                });
                
                // 鐐瑰嚮鍏抽棴鎸夐挳鍏抽棴寮圭獥
                closeModal.addEventListener('click', () => {
                    contactModal.classList.remove('active');
                });
                
                // 鐐瑰嚮閬僵灞傚叧闂脊绐?
                contactModal.addEventListener('click', (e) => {
                    if (e.target === contactModal) {
                        contactModal.classList.remove('active');
                    }
                });
            }
        }
        
        // 椤甸潰鍔犺浇瀹屾垚鍚庡垵濮嬪寲鎮诞鑱旂郴鎸夐挳
        document.addEventListener('DOMContentLoaded', function() {
            initFloatingContact();
        });
    </script>
    </div>
    <!-- 涓嬮儴鍖哄煙 - 鎺ㄥ箍淇℃伅 -->
    <div style="text-align: center; margin: 0 0 0 0; padding: 1rem; background-color: #ffffff; border-radius: 0; width: 100%; box-sizing: border-box;  border: 1px solid var(--border-color);">
        <p style="color: var(--light-text); font-size: 0.9rem; margin: 0;"><span data-translate="promotionalText">杩樺彲浠ヨ瘯璇曟垜浠殑</span> <a href="zodiac_match.html" style="color: var(--accent-color); text-decoration: none; font-size: 0.9rem;"><span data-translate="zodiacTool">鍏瓧鎰熸儏鏌ヨ宸ュ叿</span></a>锛?span data-translate="getMoreAnalysis">鑾峰彇鏇村鍛界悊鍒嗘瀽銆?/span> <a href="weixin://addfriend/officialaccount/pixuan1989" style="color: var(--accent-color); text-decoration: underline; font-size: 0.9rem;"><span data-translate="contactUs">鑱旂郴鎴戜滑</span> <span style="color: var(--light-text);">pixuan1989</span></a></p>
    </div>
    <footer style="text-align: center; padding: 1rem 0; margin-top: auto; border-top: 1px solid var(--border-color); background-color: #ffffff;">
        <div style="display: flex; justify-content: center; align-items: center; gap: 1rem; flex-wrap: wrap;">
            <p style="margin: 0; color: var(--light-text); font-size: 0.9rem; display: inline;">鑻廔CP澶?025226852鍙?1涓ㄨ嫃鍏綉瀹夊32020602003711鍙?/p>
        </div>
    </footer>
    </body>
</html>
