# 测试流程文档

## 1. 测试环境准备

### 1.1 检查服务器状态
- 确保API服务器正在运行（端口3000）
- 确保静态文件服务器正在运行（如有必要）
- 检查数据库连接是否正常

### 1.2 清除浏览器缓存
- 清除浏览器本地存储数据
- 清除浏览器缓存

### 1.3 准备测试工具
- 浏览器（Chrome/Firefox）
- 开发者工具（Console/Network）
- API测试工具（如Postman或curl）

## 2. API服务测试

### 2.1 健康检查
- **请求**：`GET http://localhost:3000/api/v1/health`
- **预期结果**：返回200 OK，包含服务状态信息

### 2.2 获取文章列表
- **请求**：`GET http://localhost:3000/api/v1/articles?useCache=false`
- **预期结果**：返回所有文章数据，包含真实的点赞数和浏览量

### 2.3 获取单篇文章
- **请求**：`GET http://localhost:3000/api/v1/articles/1?category=basic-theory`
- **预期结果**：返回指定ID和分类的文章数据

### 2.4 数据同步接口
- **请求**：`POST http://localhost:3000/api/v1/articles/sync`
- **请求体**：`{"type":"view","articleId":1,"category":"basic-theory","views":10,"likes":5,"eventId":"test_event_123"}`
- **预期结果**：返回同步成功响应

## 3. 页面功能测试

### 3.1 admin.html（后台管理页面）

#### 3.1.1 页面加载
- 打开：`admin.html`
- 预期结果：页面正常加载，无404错误

#### 3.1.2 数据加载
- 检查控制台输出
- 预期结果：显示从API获取数据成功，无从articles.json加载数据的日志

#### 3.1.3 文章列表显示
- 检查文章列表是否显示
- 预期结果：显示所有文章，包含真实的点赞数和浏览量

#### 3.1.4 数据可视化
- 检查仪表盘数据是否显示
- 预期结果：显示真实的文章统计数据，如总文章数、总点赞数、总浏览量等

### 3.2 articles.html（文章列表页面）

#### 3.2.1 页面加载
- 打开：`articles.html`
- 预期结果：页面正常加载，无404错误

#### 3.2.2 数据加载
- 检查控制台输出
- 预期结果：显示从API获取数据成功，无从articles.json加载数据的日志

#### 3.2.3 文章卡片显示
- 检查文章卡片是否显示
- 预期结果：显示文章卡片，包含真实的点赞数和浏览量

#### 3.2.4 分类筛选
- 测试分类筛选功能
- 预期结果：能够按分类筛选文章

### 3.3 article-detail.html（文章详情页面）

#### 3.3.1 页面加载
- 打开：`article-detail.html?id=1&category=basic-theory`
- 预期结果：页面正常加载，显示指定文章内容

#### 3.3.2 数据加载
- 检查控制台输出
- 预期结果：显示从API获取数据成功，无从articles.json加载数据的日志

#### 3.3.3 文章内容显示
- 检查文章内容是否完整显示
- 预期结果：显示完整的文章内容，包含真实的点赞数和浏览量

#### 3.3.4 点赞功能
- 测试点赞按钮功能
- 预期结果：点击点赞后，点赞数增加，数据同步到服务器

### 3.4 index.html（首页）

#### 3.4.1 页面加载
- 打开：`index.html`
- 预期结果：页面正常加载，无404错误

#### 3.4.2 数据加载
- 检查控制台输出
- 预期结果：显示从API获取数据成功，无从articles.json加载数据的日志

#### 3.4.3 文章板块显示
- 检查各分类文章板块是否显示
- 预期结果：显示各分类的精华文章，包含真实的点赞数和浏览量

## 4. 数据同步测试

### 4.1 前端到后端同步
1. 在文章详情页面点击点赞按钮
2. 检查浏览器控制台
3. 检查API服务器日志
4. 预期结果：点赞数据成功同步到服务器

### 4.2 后端到前端同步
1. 直接修改数据库中的点赞数或浏览量
2. 刷新页面
3. 预期结果：页面显示更新后的数据

### 4.3 多设备同步
1. 在设备A上访问文章并点赞
2. 在设备B上刷新同一篇文章
3. 预期结果：设备B显示设备A的点赞数

## 5. 数据可视化测试

### 5.1 仪表盘数据
- 检查admin.html中的仪表盘数据
- 预期结果：显示真实的统计数据，无0值或异常值

### 5.2 图表显示
- 检查各类图表是否显示
- 预期结果：图表显示正常，数据准确

### 5.3 实时更新
- 修改数据库中的数据
- 刷新页面
- 预期结果：图表数据实时更新

## 6. 错误处理测试

### 6.1 API请求失败处理
- 模拟API服务器关闭
- 打开页面
- 预期结果：页面显示适当的错误信息，不会崩溃

### 6.2 数据格式错误处理
- 模拟返回错误的数据格式
- 预期结果：页面能够处理错误数据，显示适当的提示

## 7. 性能测试

### 7.1 页面加载时间
- 测量页面加载时间
- 预期结果：页面加载时间在可接受范围内（<3秒）

### 7.2 API响应时间
- 测量API响应时间
- 预期结果：API响应时间在可接受范围内（<500ms）

## 8. 测试结果验证

### 8.1 功能验证
- 所有功能是否正常工作
- 是否存在错误或异常

### 8.2 数据验证
- 数据是否真实准确
- 数据同步是否正常

### 8.3 性能验证
- 页面加载性能是否良好
- API响应是否快速

## 9. 测试报告

### 9.1 测试概述
- 测试时间
- 测试环境
- 测试人员

### 9.2 测试结果汇总
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| API健康检查 | 200 OK | | |
| 获取文章列表 | 返回所有文章 | | |
| admin.html加载 | 正常加载 | | |
| articles.html加载 | 正常加载 | | |
| article-detail.html加载 | 正常加载 | | |
| index.html加载 | 正常加载 | | |
| 数据同步功能 | 同步成功 | | |
| 数据可视化 | 显示真实数据 | | |

### 9.3 问题列表
- 问题描述
- 影响范围
- 严重程度
- 修复建议

### 9.4 结论
- 测试是否通过
- 系统是否可以正常使用
- 后续建议

## 10. 测试完成

### 10.1 清理测试数据
- 清除测试生成的数据
- 恢复测试环境

### 10.2 提交测试报告
- 生成最终测试报告
- 提交给相关人员

# 测试结果记录

## 测试时间
[填写测试时间]

## 测试环境
- 操作系统：
- 浏览器：
- API服务器：
- 数据库：

## 测试结果

### API服务测试
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| 健康检查 | 200 OK | | |
| 获取文章列表 | 返回所有文章 | | |
| 获取单篇文章 | 返回指定文章 | | |
| 数据同步接口 | 同步成功 | | |

### 页面功能测试
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| admin.html加载 | 正常加载 | | |
| articles.html加载 | 正常加载 | | |
| article-detail.html加载 | 正常加载 | | |
| index.html加载 | 正常加载 | | |

### 数据同步测试
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| 前端到后端同步 | 同步成功 | | |
| 后端到前端同步 | 数据更新 | | |
| 多设备同步 | 数据一致 | | |

### 数据可视化测试
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| 仪表盘数据 | 显示真实数据 | | |
| 图表显示 | 显示正常 | | |
| 实时更新 | 数据更新 | | |

### 错误处理测试
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| API请求失败处理 | 显示错误信息 | | |
| 数据格式错误处理 | 处理错误数据 | | |

### 性能测试
| 测试项 | 预期结果 | 实际结果 | 状态 |
|--------|----------|----------|------|
| 页面加载时间 | <3秒 | | |
| API响应时间 | <500ms | | |

## 问题列表

| 问题描述 | 影响范围 | 严重程度 | 修复建议 |
|----------|----------|----------|----------|
| | | | |

## 结论

[填写测试结论]

## 后续建议

[填写后续建议]